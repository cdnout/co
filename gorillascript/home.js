!function(a){"use strict";var b=function(a){function b(c){var d=Object.prototype.hasOwnProperty;if(d.call(b._cache,c))return b._cache[c];if(d.call(b,c)){var e=b[c];return delete b[c],b._cache[c]=e.call({})}return a?a(c):void 0}return b._cache={},b["./utils"]=function(){var a={exports:this},c=this;return function(a){function d(a,b){return 1>b?"":1===b?a:1&b?""+a+d(a,b-1):d(""+a+a,b/2)}function e(a,b,c){return""+d(c,b-a.length)+a}function f(a,b,c){return""+a+d(c,b-a.length)}function g(a){return B?B(a):-1===a.indexOf("'")?"'"+JSON.stringify(a).slice(1,-1)+"'":JSON.stringify(a)}function h(a){var b,c,d,e,f;for(f=[],b=v(a),c=0,d=b.length;d>c;++c)e=b[c],q(e,f)||f.push(e);return f}function i(a){var b,c;return b=E.join(a,"package.json"),A.existsSync(b)?b:(c=E.normalize(E.join(a,"..")),c!==a?i(c):void 0)}function j(a){var b,c;if("string"!=typeof a||!A||!E)return"";try{b=i(E.dirname(a))}catch(d){}if(!b)return"";try{c=JSON.parse(A.readFileSync(b)).version}catch(d){}return"string"==typeof c?c:""}function k(a){var b;return b=o(),A.exists(a,b.fulfill),b.promise}function l(a,b){return D.sync(a,b,!0)}function m(a,b,c){return H.sync(a,b,c,!0)}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H;n="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},o=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&F(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,i=null,c?c.push(h):g?h():F(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){b=1,a=c},function(c){b=2,a=c},!0),b){case 0:throw new Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw new Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),p=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return o.rejected(h)}return g.done?o.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw new TypeError("Expected generator to be an Object, got "+x(a));if("function"!=typeof a.send)throw new TypeError("Expected generator.send to be a Function, got "+x(a.send));if("function"!=typeof a["throw"])throw new TypeError("Expected generator.throw to be a Function, got "+x(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+x(b));return d(void 0)},q="function"==typeof Array.prototype.indexOf?function(a){return function(b,c){return-1!==a.call(c,b)}}(Array.prototype.indexOf):function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},r="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),s=Object.prototype.hasOwnProperty,t=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+x(b));return"function"==typeof a?(c=function(){return p(a.apply(this,arguments))},c.sync=function(){return p(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return p(a.apply(this,arguments),!0)},c):p(a,b)},u=Array.prototype.slice,v=function(a){if(null==a)throw new TypeError("Expected an object, got "+x(a));if(r(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return u.call(a);throw new TypeError("Expected an object with a length property, got "+x(a))},w=function(a,b,c){var d,e,f,g;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+x(a));return d=o(),f=d.promise,g=d.reject,e=d.fulfill,d=null,a.apply(b,v(c).concat([function(a,b){null!=a?g(a):e(b)}])),f},x=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),F="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(a){return function(b){var c;if("function"!=typeof b)throw new TypeError("Expected func to be a Function, got "+x(b));return c=u.call(arguments,1),c.length?a(function(){b.apply(void 0,v(c))}):a(b)}}(process.nextTick):function(a){var b;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+x(a));return b=u.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,b)},0):setTimeout(a,0)},G="function"==typeof a.WeakMap?a.WeakMap:G=function(){function a(){var b;return b=this instanceof a?this:n(e),b._keys=[],b._values=[],b._chilly=[],b._uid=c(),b}function b(){return Math.random().toString(36).slice(2)}function c(){return b()+"-"+(new Date).getTime()+"-"+b()+"-"+b()}function d(a){var b,c;c=this._uid,s.call(a,c)&&(b=this._chilly,-1===b.indexOf(a)&&(b.push(a),this._keys.push(a),this._values.push(a[c])))}var e,f,g;return e=a.prototype,a.displayName="WeakMap",g=Object.isExtensible||function(){return!0},e.get=function(a){var b,c;if(Object(a)!==a)throw new TypeError("Invalid value used as weak map key");if(g(a)){if(s.call(a,b=this._uid))return a[b]}else if(d.call(this,a),c=this._keys.indexOf(a),-1!==c)return this._values[c]},e.has=function(a){if(Object(a)!==a)throw new TypeError("Invalid value used as weak map key");return g(a)?s.call(a,this._uid):(d.call(this,a),-1!==this._keys.indexOf(a))},f="function"==typeof Object.defineProperty?Object.defineProperty:function(a,b,c){a[b]=c.value},e.set=function(a,b){var c,e;if(Object(a)!==a)throw new TypeError("Invalid value used as weak map key");g(a)?f(a,this._uid,{configurable:!0,writable:!0,enumerable:!1,value:b}):(d.call(this,a),e=this._keys,c=e.indexOf(a),-1===c&&(c=e.length,e[c]=a),this._values[c]=b)},e["delete"]=function(a){var b,c;if(Object(a)!==a)throw new TypeError("Invalid value used as weak map key");g(a)?delete a[this._uid]:(d.call(this,a),c=this._keys,b=c.indexOf(a),-1!==b&&(c.splice(b,1),this._values.splice(b,1)))},a}(),null!=(y=b("util"))&&(B=y.inspect),E=b("path"),A=b("fs"),z=function(){function a(){var c;return c=this instanceof a?this:n(b),c.weakmap=G(),c}var b;return b=a.prototype,a.displayName="Cache",b.get=function(a){return this.weakmap.get(a)},b.set=function(a,b){this.weakmap.set(a,b)},b.getOrAdd=function(a,b){var c,d;return d=this.weakmap,c=d.get(a),void 0===c&&(c=b(a),d.set(a,c)),c},a}(),C=function(){var a;return a={Object:!0,String:!0,Number:!0,Boolean:!0,Function:!0,Array:!0,Math:!0,JSON:!0,Date:!0,RegExp:!0,Error:!0,RangeError:!0,ReferenceError:!0,SyntaxError:!0,TypeError:!0,URIError:!0,escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0},function(b){return s.call(a,b)}}(),D=t(function(a,b,c){function d(){l=14}function e(d){for(;;)switch(l){case 0:null==b&&(b=511&~+process.umask()),m="/"===a.charAt(0)?"/":"",h=v(a.split(/[\/\\]/g)),i=0,j=h.length,++l;case 1:l=j>i?2:13;break;case 2:q=h[i],n=E.resolve(E.join(m,q)),l=c?3:4;break;case 3:p=A.existsSync(n),l=6;break;case 4:return++l,{done:!1,value:k(n)};case 5:p=d,++l;case 6:l=p?11:7;break;case 7:l=c?8:9;break;case 8:A.mkdirSync(n,b),l=11;break;case 9:return l=11,{done:!1,value:w(A.mkdir,A,[n,b])};case 10:throw new Error("Unable to create directory '"+n+"' (Error code: "+o.code+")");case 11:m=n,++l;case 12:++i,l=1;break;case 13:++l;case 14:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+l)}}function f(a){if(!(l>=7&&9>=l))throw d(),a;o=a,l=10}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var h,i,j,g,l,e,f,m,n,o,p,q;return l=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),H=t(function(a,b,c,d){function e(){i=4}function f(){for(;;)switch(i){case 0:i=d?1:2;break;case 1:l(E.dirname(a)),A.writeFileSync(a,b,c),i=4;break;case 2:return++i,{done:!1,value:D(E.dirname(a))};case 3:return++i,{done:!1,value:w(A.writeFile,A,[a,b,c])};case 4:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.stringRepeat=d,c.padLeft=e,c.padRight=f,c.Cache=z,c.quote=g,c.unique=h,c.getPackageVersion=j,c.isPrimordial=C,c.mkdirp=D,c.mkdirpSync=l,c.writeFileWithMkdirp=H,c.writeFileWithMkdirpSync=m}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./jsutils"]=function(){var a={exports:this},c=this;return function(){var a,d,e,f,g,h,i,j,k,l,m;a=function(a,b){var c;if(null==a)throw new TypeError("Expected parent to be an object, got "+j(a));if(c=a[b],"function"!=typeof c)throw new Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.prototype.indexOf?function(a){return function(b,c){return-1!==a.call(c,b)}}(Array.prototype.indexOf):function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},f="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){if(null==a)throw new TypeError("Expected an object, got "+j(a));if(f(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw new TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),l=b("./utils").padLeft,k=function(){var a,b,c;return a=/^[a-zA-Z_\$][a-zA-Z_\$0-9]*$/,b=/^[a-zA-Z_\$\u00a0-\uffff][a-zA-Z_\$0-9\u00a0-\uffff]*$/,c=["arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","export","extends","eval","false","finally","for","function","if","implements","import","in","Infinity","instanceof","interface","let","NaN","new","null","package","private","protected","public","return","static","super","switch","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],function(d,f){var g;return null==f&&(f=!1),g=f?b:a,g.test(d)&&!e(d,c)}}(),m=function(){function b(a,b,c){var d;for(null==c&&(c="  "),d=0;b>d;++d)a(c)}function c(a){var b;return b=d(a),b.indent=+a.indent+1,b}function e(a){var b,c,d;if(null==a)return!1;if(a instanceof RegExp)return e(a.source);if(a instanceof Date)return!1;if(f(a))switch(a.length){case 0:return!1;case 1:return e(a[0]);default:return!0}else switch(typeof a){case"string":return a.length>=h;case"number":case"boolean":return!1;case"object":b=-1;for(c in a)if(g.call(a,c)&&(++b,d=a[c],b>=1||e(c)||e(d)))return!0;return!1;default:return!0}}var h,n,o;return h=50,n=7,o={"null":function(a,b){b("null")},undefined:function(a,b){b("void 0")},number:function(a,b){b(0===a?0>1/a?"-0":"0":isFinite(a)?String(a):a!==a?"0/0":a>0?"1/0":"-1/0")},regexp:function(a,b){b("/"),b(a.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),b("/"),a.global&&b("g"),a.ignoreCase&&b("i"),a.multiline&&b("m")},string:function(){function a(a){switch(a){case"\b":return"\\b";case"	":return"\\t";case"\n":return"\\n";case"\f":return"\\f";case"\r":return"\\r";case"\n":return"\\n";case'"':return'\\"';case"'":return"\\'";case"\\":return"\\\\";default:return"\\u"+l(a.charCodeAt(0).toString(16),4,"0")}}function b(b){return'"'+b.replace(e,a)+'"'}function c(b){return"'"+b.replace(f,a)+"'"}function d(a,b){return a.length<=b.length?a:b}var e,f;return e=/[\u0000-\u001f"\\\u0080-\uffff]/g,f=/[\u0000-\u001f'\\\u0080-\uffff]/g,function(a,e){return e(-1===a.indexOf('"')?b(a):-1===a.indexOf("'")?c(a):d(b(a),c(a)))}}(),"boolean":function(a,b){return b(a?"true":"false")},date:function(a,b){return b("new Date("),b(String(a.getTime())),b(")")},array:function(a,d,f){var g,h,j,k,l,o,p;if(k="indent"in f,0===a.length)return d("[]");if(k&&a.length>1&&(a.length>=n||function(){var b,c,d,f,g;for(f=!1,b=i(a),c=0,d=b.length;d>c;++c)if(g=b[c],e(g)){f=!0;break}return f}())){for(d("[\n"),j=c(f),g=i(a),l=0,p=g.length;p>l;++l)o=g[l],b(d,j.indent),m(o,d,j),p-1>l&&d(","),d("\n");return b(d,f.indent),d("]")}for(d("["),g=i(a),l=0,h=g.length;h>l;++l)o=g[l],l>0&&(d(","),k&&d(" ")),m(o,d,f);return d("]")},object:function(){function a(a,b,c){var d;k(a)?b(a):(d=Number(a),d===d&&String(d)===a?b(a):m(a,b,c))}return function(d,f,h){var i,j,k,l,o,p,q,r,s,t;i=[];for(q in d)g.call(d,q)&&(t=d[q],i.push({key:q,value:t}));if(s=i,o="indent"in h,0===s.length)return f("{}");if(o&&s.length>1&&(s.length>=n||function(){var a,b,c,d,f,g;for(d=!1,a=0,b=s.length;b>a;++a)if(c=s[a],f=c.key,g=c.value,c=null,e(f)||e(g)){d=!0;break}return d}())){for(f("{\n"),l=c(h),p=0,r=s.length;r>p;++p)k=s[p],q=k.key,t=k.value,k=null,b(f,l.indent),a(q,f,l),f(": "),m(t,f,l),r-1>p&&f(","),f("\n");return b(f,h.indent),f("}")}for(f("{"),p=0,j=s.length;j>p;++p)k=s[p],q=k.key,t=k.value,k=null,p>0&&(f(","),o&&f(" ")),a(q,f,h),f(":"),o&&f(" "),m(t,f,h);return f("}")}}()},function(b,c,d){var e,h,i;if(null==c&&(c=null),null==d&&(d={}),null==c)return h=[],m(b,a(h,"push"),d),h.join("");if(null===b)o["null"](b,c,d);else if(f(b))o.array(b,c,d);else if(b instanceof RegExp)o.regexp(b,c,d);else if(b instanceof Date)o.date(b,c,d);else{if(g.call(o,e=typeof b)&&(i=o[e]),"function"!=typeof i)throw new Error("Cannot convert "+j(b)+" to JS source");i(b,c,d)}}}(),c.toJSSource=m,c.isAcceptableIdent=k}.call(this),a.exports},b["./types"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n;c=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},d="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},e="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),f=function(a){if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+k(a));return a.displayName||a.name||""},g=Object.prototype.hasOwnProperty,h=Array.prototype.slice,i=function(a){throw a},j=function(a){if(null==a)throw new TypeError("Expected an object, got "+k(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw new TypeError("Expected an object with a length property, got "+k(a))},k=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("util"),null!=n&&(l=n.inspect),a.exports=m=function(){function a(){var b;throw b=this instanceof a?this:d(v),new TypeError("Type should not be instantiated")}function b(a,b){var c,d,e;for(c=j(a),d=c.length;d--;)if(e=c[d],e.equals(b))return!0;return!1}function e(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(j=[],d=a.length,f=b.length,h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?(j.push(c),++h):(j.push(e),++i);for(;d>h;++h)j.push(a[h]);for(;f>i;++i)j.push(b[i]);switch(j.length){case d:return a;case f:return b;default:return j}}function m(a,b){var c,d,e,f,g,h,i,j;if(a===b)return a;for(d=a.length,f=b.length,j=[],h=0,i=0;d>h&&f>i;)c=a[h],e=b[i],g=c.compare(e),0===g?(j.push(c),++h,++i):0>g?++h:++i;switch(j.length){case d:return a;case f:return b;default:return j}}function n(a,b){var c,d,e,f,g,h,i;if(a===b)return[];if(i=[],d=a.length,0===d)return i;if(e=b.length,0===e)return a;for(g=0,h=0;d>g&&e>h;)c=a[g],f=c.compare(b[h]),0===f?(++g,++h):0>f?(i.push(c),++g):++h;for(;d>g;++g)i.push(a[g]);return i.length===d?a:i}function o(a,b){var c,d,e,f;if(a===b)return!0;if(c=a.length,0===c)return!0;if(d=b.length,c>d)return!1;for(e=0,f=0;d>f;)if(a[e].equals(b[f])){if(++e,e>=c)return!0;++f}else++f;return!1}function p(a,b){var c,d,e,f,g;if(c=a.length,a===b&&c>0)return!0;for(d=b.length,f=0,g=0;c>f&&d>g;){if(e=a[f].compare(b[g]),0===e)return!0;0>e?++f:++g}return!1}function q(a,b){var d,e,f;if(a!==b){if(f=a.length,d=c(f,b.length))return d;for(e=0;f>e;++e)if(d=a[e].compare(b[e]))return d}return 0}function r(a,b){var c,d;if(a!==b){if(d=a.length,d!==b.length)return!1;for(c=0;d>c;++c)if(!a[c].equals(b[c]))return!1}return!0}function s(a,b){return a.compare(b)}function t(a,b){switch(a.length){case 0:return E;case 1:return a[0];default:return b&&a.sort(s),I(a)}}function u(a){var b;if("string"==typeof a)return u({type:"simple",name:a});if(b=a.type,"string"!=typeof b)throw new TypeError("Unspecified type");if(g.call(A,b))return A[b](a);throw new TypeError("Unknown serialization type: "+b)}var v,w,x,y,z,A,B,C,D,E,F,G,H,I;return v=a.prototype,a.displayName="Type",v.isSubsetOf=function(){throw new Error("Not implemented: "+f(this.constructor)+".isSubsetOf()")},v.isSupersetOf=function(a){return a.isSubsetOf(this)},v.overlaps=function(){throw new Error("Not implemented: "+f(this.constructor)+".overlaps()")},v.compare=function(){throw new Error("Not implemented: "+f(this.constructor)+".compare()")},v.equals=function(){throw new Error("Not implemented: "+f(this.constructor)+".equals()")},v.union=function(){throw new Error("Not implemented: "+f(this.constructor)+".union()")},v.intersect=function(){throw new Error("Not implemented: "+f(this.constructor)+".intersect()")},v.complement=function(){var a;return null==(a=this._complement)?this._complement=z(this):a},v.array=function(){var b;return null==(b=this._array)?this._array=a.generic(y,this):b},v["function"]=function(){var b,c;return c=h.call(arguments),null==(b=this._function)?this._function=a.generic.apply(a,[B,this].concat(c)):b},v.returnType=function(){return E},A={},a.fromJSON=u,D=function(){var a;return a=-1,function(){return++a,a}}(),H=function(a){function b(a){var c;return c=this instanceof b?this:d(e),c.name=a,c.id=D(),c}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="SimpleType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return this.name},e.equals=function(a){return this===a},e.returnType=function(){return this===B?w:E},e.compare=function(a){return this===a?0:a instanceof b?c(this.name,a.name)||c(this.id,a.id):c("SimpleType",a.constructor.displayName)},e.union=function(a){return a instanceof b?this===a?this:t([this,a],!0):a.union(this)},e.intersect=function(a){return a instanceof b?this===a?this:E:a.intersect(this)},e.isSubsetOf=function(a){var c,d,e,f;if(a instanceof b)return this===a;if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(f=c[d],this===f){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},e.overlaps=function(a){return a instanceof b?this===a:a.overlaps(this)},e.inspect=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return"Type."+d;return"Type.make("+l(b.name)+")"}()},e.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));throw new Error("Cannot serialize custom type: "+String(e))}()},e.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;throw new Error("Cannot serialize custom type: "+String(b))}()},A.simple=function(b){var c;return c=b.name,g.call(a,c)&&a[c]||i(new Error("Unknown type: "+String(c)))},b}(a),a.make=function(a){return H(a)},C=function(a){function b(a,c){var e,g;if(g=this instanceof b?this:d(f),g.base=a,0===c.length)throw new Error("Must provide at least one generic type argument");if(g.id=D(),g.args=c.slice(),g.base===y&&1===c.length){if(null!=(e=c[0]._array))return e;c[0]._array=g}else if(g.base===B&&1===c.length){if(null!=(e=c[0]._function))return e;c[0]._function=g}return g}function e(a,b){return a.id>b.id?e(b,a):(b.base=a.base,b.args=a.args,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="GenericType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b,c,d,e,f;if(null==(c=this._name)){if(this.base===y&&1===this.args.length)return this._name=this.args[0]===w?"[]":"["+String(this.args[0])+"]";if(this.base===B&&1===this.args.length)return this._name=this.args[0]===w?"->":"-> "+String(this.args[0]);for(f=[],f.push(String(this.base)),f.push("<"),a=j(this.args),e=0,b=a.length;b>e;++e)d=a[e],e>0&&(f.push(","),d!==w&&this.args[e-1]!==w&&f.push(" ")),d!==w&&f.push(String(d));return f.push(">"),this._name=f.join("")}return c},f.returnType=function(){return this.base===B?this.args[0]:E},f.equals=function(a){return a===this?!0:a instanceof b?this.id===a.id?!0:this.base===a.base&&r(this.args,a.args)?(e(this,a),!0):!1:!1},f.compare=function(a){var d,f;return a===this?0:a instanceof b?this.id===a.id?0:(d=this.base.compare(a.base))?d:(f=q(this.args,a.args),f||e(this,a),f):c("GenericType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,g,h,i,j,k,l;if(a instanceof b){if(this.base!==a.base)return E;if(this.equals(a))return this;if(d=this.args,l=a.args,h=d.length,h!==l.length)return E;for(g=!0,f=!0,j=[],e=0;h>e;++e)c=d[e],k=l[e],i=d[e].intersect(l[e]),g&&c!==i&&(g=!1),f&&k!==i&&(f=!1),j.push(i);return g?this:f?a:b(this.base,j)}return a instanceof H?E:a.intersect(this)},f.isSubsetOf=function(a){var c,d,e,f,g,h,i,k;if(a instanceof b){if(this.base!==a.base)return!1;if(this.equals(a))return!0;if(f=this.args,i=a.args,h=f.length,h!==i.length)return!1;for(g=0;h>g;++g)if(!f[g].isSubsetOf(i[g]))return!1;return!0}if(a instanceof I){for(e=!1,c=j(a.types),d=c.length;d--;)if(k=c[d],this.isSubsetOf(k)){e=!0;break}return e}return a instanceof z?!this.isSubsetOf(a.untype):a===w},f.overlaps=function(a){return a instanceof b?this.base!==a.base?!1:this.args.length===a.args.length:a instanceof H?!1:a.overlaps(this)},f.inspect=function(a){var b,c,d,e,f;for(null!=a&&--a,f=["Type.generic("],f.push(l(this.base,null,a)),b=j(this.args),c=0,d=b.length;d>c;++c)e=b[c],f.push(", "),f.push(l(e,null,a));return f.push(")"),f.join("")},f.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));return b.Call(c,b.Access(c,d,b.Const(c,"generic")),[e.base.toAst(b,c,d)].concat(function(){var a,f,g,h,i;for(a=[],f=j(e.args),g=0,h=f.length;h>g;++g)i=f[g],a.push(i.toAst(b,c,d));return a}()))}()},f.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"generic",base:b.base,args:b.args}}()},A.generic=function(c){var d,e,f;return e=c.base,d=c.args,f=a.fromJSON(e),f===y&&1===d.length?a.fromJSON(d[0]).array():f===B&&1===d.length?a.fromJSON(d[0])["function"]():b(f,function(){var b,c,e,f,g;for(b=[],c=j(d),e=0,f=c.length;f>e;++e)g=c[e],b.push(a.fromJSON(g));return b}())},b}(a),a.generic=function(b){var c;return c=h.call(arguments,1),C("string"==typeof b?a.make(b):b,c)},G=function(a){function b(e){var h,i,j,l;h=this instanceof b?this:d(f),j=[];for(i in e)if(g.call(e,i)){if(l=e[i],!(l instanceof a))throw new TypeError("Expected data["+JSON.stringify(i)+"] to be a Type, got "+k(l));l!==w&&j.push([i,l])}return j.sort(function(a,b){return c(a[0],b[0])}),0===j.length&&null!=a.object?a.object:(h.pairs=j,h.id=D(),h)}function e(a,b){return a.id>b.id?e(b,a):(b.pairs=a.pairs,b.id=a.id,void 0)}var f,h;return h=a.prototype,f=b.prototype=d(h),f.constructor=b,b.displayName="ObjectType","function"==typeof a.extended&&a.extended(b),f.toString=function(){var a,b;return b=this,null==(a=this._name)?this._name="{"+function(){var a,c,d,e,f,g,h;for(a=[],c=j(b.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],h=f[1],f=null,a.push(g+": "+String(h));return a}().join(", ")+"}":a},f.equals=function(a){var c,d,f,g,h,i,k;if(a===this)return!0;if(a instanceof b){if(k=this.pairs,h=a.pairs,k===h)return!0;if(k.length!==h.length)return!1;for(c=j(k),f=0,d=c.length;d>f;++f)if(i=c[f],g=h[f],i[0]!==g[0]||!i[1].equals(g[1]))return!1;return e(this,a),!0}return!1},f.compare=function(a){var d,f,g,h,i,k,l,m;if(this===a)return 0;if(a instanceof b){if(m=this.pairs,k=a.pairs,m===k)return 0;if(g=c(m.length,k.length))return g;for(d=j(m),h=0,f=d.length;f>h;++h)if(l=d[h],i=k[h],g=c(l[0],i[0])||l[1].compare(i[1]))return g;return e(this,a),0}return c("ObjectType",a.constructor.displayName)},f.union=function(a){return a instanceof b?this.equals(a)?this:this.isSubsetOf(a)?a:a.isSubsetOf(this)?this:t([this,a],!0):a instanceof H||a instanceof C?t([this,a],!0):a.union(this)},f.intersect=function(a){var c,d,e,f,h,i,k;if(a instanceof b){if(this.equals(a))return this;if(this.isSubsetOf(a))return this;if(a.isSubsetOf(this))return a;for(i={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],f=null,i[h]=k;for(c=j(a.pairs),d=0,e=c.length;e>d;++d)f=c[d],h=f[0],k=f[1],f=null,i[h]=g.call(i,h)?i[h].intersect(k):k;return b(i)}return a instanceof H||a instanceof C?E:a.intersect(this)},f.isSubsetOf=function(c){var d,f,g,h,i,k,l,m,n,o,p,q,r;if(c instanceof b){if(this===c||c===a.object)return!0;if(this===a.object)return!1;if(q=this.pairs,n=c.pairs,q===c.pairs)return!0;for(k=0,l=q.length,d=j(n),f=0,g=d.length;g>f;++f)for(h=d[f],m=h[0],o=h[1],h=null;l>=k;++k){if(k===l)return!1;if(p=q[k],p[0]===m){if(p[1].isSubsetOf(o)){++k;break}return!1}if(p[0]>m)return!1}return k===l&&e(this,c),!0}if(c instanceof I){for(i=!1,d=j(c.types),f=d.length;f--;)if(r=d[f],this.isSubsetOf(r)){i=!0;break}return i}return c instanceof z?!this.isSubsetOf(c.untype):c===w},f.overlaps=function(a){return a instanceof b?!0:a instanceof H||a instanceof C?!1:a.overlaps(this)},f.value=function(b){var c,d,e,f;for(c=j(this.pairs),d=c.length;d--;){if(e=c[d],f=e[0],f===b)return e[1];if(b>f)return a.any}return a.any},f.inspect=function(b){var c,d,e,f,g,h,i;if(this===a.object)return"Type.object";for(h={},c=j(this.pairs),d=0,e=c.length;e>d;++d)f=c[d],g=f[0],i=f[1],f=null,h[g]=i;return"Type.makeObject("+l(h,null,null!=b?b-1:null)+")"},f.toAst=function(a,b,c){var d;return d=this,0===this.pairs.length?a.Access(b,c,a.Const(b,"object")):a.Call(b,a.Access(b,c,a.Const(b,"makeObject")),[a.Obj(b,function(){var e,f,g,h,i,k,l;for(e=[],f=j(d.pairs),g=0,h=f.length;h>g;++g)i=f[g],k=i[0],l=i[1],i=null,e.push(a.Obj.Pair(b,k,l.toAst(a,b,c)));return e}())])},f.toJSON=function(){var a,b,c,d,e,f,g;if(0===this.pairs.length)return"object";for(f={},a=j(this.pairs),b=0,c=a.length;c>b;++b)d=a[b],e=d[0],g=d[1],d=null,f[e]=g;return{type:"object",pairs:f}},A.object=function(c){var d,e,f,h;f=c.pairs,d={};for(e in f)g.call(f,e)&&(h=f[e],d[e]=a.fromJSON(h));return b(d)},b}(a),a.makeObject=function(a){return G(a)},I=function(a){function f(a){var b;if(b=this instanceof f?this:d(k),b.types=a,a.length<=1)throw new Error("Must provide at least 2 types to UnionType");return b.id=D(),b}function h(a,b){return a.id>b.id?h(b,a):(b.types=a.types,b.id=a.id)}var i,k;return i=a.prototype,k=f.prototype=d(i),k.constructor=f,f.displayName="UnionType","function"==typeof a.extended&&a.extended(f),k.toString=function(){var a;return null==(a=this._name)?this._name="("+this.types.join("|")+")":a},k.returnType=function(){var a,b,c,d,e;for(d=E,a=j(this.types),b=0,c=a.length;c>b;++b)e=a[b],d=d.union(e.returnType());return d},k.equals=function(a){return a===this?!0:a instanceof f?this.id===a.id?!0:this.types===a.types||r(this.types,a.types)?(h(this,a),!0):!1:!1},k.compare=function(a){var b;return a===this?0:a instanceof f?this.id===a.id?0:this.types===a.types?(h(this,a),0):(b=q(this.types,a.types),0===b&&h(this,a),b):c("UnionType",a.constructor.displayName)},k.union=function(b){var c,d,g,h,i,k;if(b instanceof H||b instanceof C)return k=e(this.types,[b]),k===this.types?this:t(k);if(b instanceof G){if(b===a.object){for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(i===a.object)return this}else h.push(i);return t(h)}for(h=[b],c=j(this.types),d=0,g=c.length;g>d;++d)if(i=c[d],i instanceof G){if(b.isSubsetOf(i))return this;i.isSubsetOf(b)||h.push(i)}else h.push(i);return t(h)}return b instanceof f?(k=e(this.types,b.types),k===this.types?this:k===b.types?b:t(k)):b.union(this)},k.intersect=function(a){var b;return a instanceof H||a instanceof C||a instanceof G?t(m(this.types,[a])):a instanceof f?(b=m(this.types,a.types),b===this.types?this:b===a.types?a:t(b)):a.intersect(this)},k.isSubsetOf=function(a){return a instanceof f?o(this.types,a.types):a instanceof z?!this.overlaps(a.untype):a===w},k.overlaps=function(a){var c,d,e,g;if(a instanceof H)return b(this.types,a);if(a instanceof C||a instanceof G){for(e=!1,c=j(this.types),d=c.length;d--;)if(g=c[d],g.overlaps(a)){e=!0;break}return e}return a instanceof f?p(this.types,a.types):a.overlaps(this)},k.inspect=function(a){var b;return b=this,"("+function(){var c,d,e,f,g;for(c=[],d=j(b.types),e=0,f=d.length;f>e;++e)g=d[e],c.push(l(g,null,null!=a?a-1:null));return c}().join(").union(")+")"},k.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i,k,l,m,n,o;h=!0;for(m in a)if(g.call(a,m)&&(h=!1,o=a[m],o===e))return b.Access(c,d,b.Const(c,m));for(l=e.types[0].toAst(b,c,d),f=j(e.types),i=1,k=f.length;k>i;++i)n=f[i],l=b.Call(c,b.Access(c,l,b.Const(c,"union")),[n.toAst(b,c,d)]);return l}()},k.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"union",types:b.types}}()},A.union=function(b){var c,d,e,f,g;for(g=b.types,e=a.none,c=j(g),d=c.length;d--;)f=c[d],e=e.union(a.fromJSON(f));return e},f}(a),z=function(a){function e(a){var b;return b=this instanceof e?this:d(i),b.untype=a,b.id=D(),b}function f(a,b){return a.id>b.id?f(b,a):(b.id=a.id,b.untype=a.untype)}function h(a){return a instanceof I?a.types:[a]}var i,j;return j=a.prototype,i=e.prototype=d(j),i.constructor=e,e.displayName="ComplementType","function"==typeof a.extended&&a.extended(e),i.toString=function(){var a;return null==(a=this._name)?this._name="any \\ "+String(this.untype):a},i.returnType=function(){return w},i.equals=function(a){return this===a?!0:a instanceof e?this.id===a.id?!0:this.untype.equals(a.untype)?(f(this,a),!0):!1:!1},i.compare=function(a){var b;return this===a?0:a instanceof e?this.id===a.id?0:(b=this.untype.compare(a.untype),0===b&&f(this,a),b):c("ComplementType",a.constructor.displayName)},i.union=function(a){var b,c;return a instanceof H||a instanceof C||a instanceof G?(b=h(this.untype),c=n(b,[a]),c===b?this:t(c).complement()):a instanceof I?(b=h(this.untype),c=n(b,a.types),c===b?this:t(c).complement()):a instanceof e?this.untype.intersect(a.untype).complement():a.union(this)},i.intersect=function(a){var c;return a instanceof H||a instanceof C||a instanceof G?b(h(this.untype),a)?E:a:a instanceof I?(c=n(a.types,h(this.untype)),c===a.types?a:t(c)):a instanceof e?this.untype.union(a.untype).complement():a.intersect(this)},i.isSubsetOf=function(a){return a instanceof e?a.untype.isSubsetOf(this.untype):a===w},i.overlaps=function(a){var b,c,d,f;if(a instanceof H||a instanceof C)return!this.untype.overlaps(a);if(a instanceof G){for(c=!0,b=h(this.untype),d=b.length;d--;)if(f=b[d],f instanceof G&&a.isSubsetOf(f)){c=!1;break}return c}return a instanceof I?n(a.types,h(this.untype)).length>0:a instanceof e?!0:a.overlaps(this)
},i.complement=function(){return this.untype},i.inspect=function(a){return this.untype.inspect(a)+".complement()"},i.toAst=function(b,c,d){var e;return e=this,function(){var f,h,i;f=!0;for(h in a)if(g.call(a,h)&&(f=!1,i=a[h],i===e))return b.Access(c,d,b.Const(c,h));return b.Call(c,b.Access(c,e.complement().toAst(b,c,d),b.Const(c,"complement")),[])}()},i.toJSON=function(){var b;return b=this,function(){var c,d,e;c=!0;for(d in a)if(g.call(a,d)&&(c=!1,e=a[d],e===b))return d;return{type:"complement",untype:b.complement()}}()},A.complement=function(b){var c;return c=b.untype,a.fromJSON(c).complement()},e}(a),w=a.any=new(x=function(a){function b(){var a;if(a=this instanceof b?this:d(e),w)throw new Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="AnyType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"any"},e.returnType=function(){return w},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("AnyType",a.constructor.displayName)},e.union=function(){return this},e.intersect=function(a){return a},e.isSubsetOf=function(a){return this===a},e.overlaps=function(){return!0},e.complement=function(){return E},e.inspect=function(){return"Type.any"},e.toAst=function(a,b,c){return a.Access(b,c,a.Const(b,"any"))},e.toJSON=function(){return"any"},A.any=function(){return w},b}(a)),E=a.none=new(F=function(a){function b(){var a;if(a=this instanceof b?this:d(e),E)throw new Error("Cannot instantiate more than once");return a}var e,f;return f=a.prototype,e=b.prototype=d(f),e.constructor=b,b.displayName="NoneType","function"==typeof a.extended&&a.extended(b),e.toString=function(){return"none"},e.equals=function(a){return this===a},e.compare=function(a){return this===a?0:c("NoneType",a.constructor.displayName)},e.union=function(a){return a},e.intersect=function(){return this},e.isSubsetOf=function(){return!0},e.overlaps=function(){return!1},e.complement=function(){return w},e.inspect=function(){return"Type.none"},e.toAst=function(a,b,c){return a.Access(b,c,a.Const(b,"none"))},e.toJSON=function(){return"none"},A.none=function(){return E},b}(a)),y=a.arrayBase=a.make("Array"),B=a.functionBase=a.make("Function"),a.undefined=a.make("undefined"),a["null"]=a.make("null"),a.boolean=a.make("Boolean"),a.string=a.make("String"),a.stringArray=a.string.array(),a.number=a.make("Number"),a.numberArray=a.number.array(),a.array=w.array(),a.args=a.make("Arguments"),a.object=a.makeObject({}),a["function"]=w["function"](),a.regexp=a.make("RegExp"),a.date=a.make("Date"),a.error=a.make("Error"),a.promise=a.makeObject({then:a.any["function"](a["function"],a["function"])}),a.generatorResult=a.makeObject({done:a.boolean,value:w}),a.generator=a.generatorResult["function"](),a.numeric=a.number.union(a.undefined).union(a["null"]).union(a.boolean),a.stringOrNumber=a.string.union(a.number),a.arrayLike=a.array.union(a.args),a.undefinedOrNull=a.undefined.union(a["null"]),a.notUndefinedOrNull=a.undefinedOrNull.complement(),a.primitive=a.undefinedOrNull.union(a.boolean).union(a.string).union(a.number),a.nonPrimitive=a.primitive.complement(),a.alwaysFalsy=a.undefinedOrNull,a.potentiallyTruthy=a.alwaysFalsy.complement(),a.potentiallyFalsy=a.alwaysFalsy.union(a.number).union(a.string).union(a.boolean),a.alwaysTruthy=a.potentiallyFalsy.complement(),a}()}.call(this),a.exports},b["./jsast"]=function(){var a={exports:this},c=this;return function(){function a(a){var b;return b=t(a),++b.indent,b}function d(a){function b(c){var d,e,f;switch(f=String(c),e=f.split(cb),e.length){case 0:break;case 1:b.column-=-e[0].length;break;default:d=e.length,b.line-=-d+1,b.column=+e[d-1].length+1}a(f)}return b.line=1,b.column=1,b.indent=function(a){this(X(a))},b}function e(a){return d(a)}function f(){var a,b;return a=[],b=d(function(b){a.push(b)}),b.toString=function(){return"string"==typeof a?a:a=a.join("")},b}function g(a,b,c){var d;if(null==c&&(c=void 0),d={line:a,column:b},c){if("string"!=typeof c)throw new TypeError("Must provide a valid string for file");d.file=c}return d}function h(a){return null!=a?a-1:null}function i(a,b,c,d){var e,f,g,h,i,j,k,l;for(i=!1,e=[],f=0,g=a.length;g>f;++f)j=a[f],k=null!=(h=d(j,b,c))?h:j.walk(d),j!==k&&(i=!0),e.push(k);return l=e,i?l:a}function j(a,b,c){var d,e,f,g,h;if(null==c&&(c=!1),0===a.length)return a;for(h=[],g=-1,e=0,d=a.length;d>e;++e)f=a[e],g=f instanceof eb?e:-1,h.push(k(f,b));return c||-1===g||h.splice(g,1/0),h}function k(a,b){return w(a)?j(a):a instanceof eb?b:a}function l(a,b){if(b instanceof db)throw new Error("Cannot convert "+B(b)+" to a Const");return b instanceof RegExp?hb(a,b.source,b.flags):N(a,b)}function m(a){return 0>a||0===a&&0>1/a}function n(a,b){var c,d,e,f,g;for(e=[],c=A(a),d=c.length;d--;){if(f=c[d],v(f.name,e))throw new Error("Duplicate parameter: "+f.name);e.push(f.name)}for(c=A(b),d=c.length;d--;){if(g=c[d],v(g,e))throw new Error("Duplicate variable: "+g);e.push(g)}}function o(a,b,c,d,e,f){var g,h,i,j,k,l,m,n,o;for(m=a.minify,g=A(c),h=0,i=g.length;i>h;++h)k=g[h],m||b.indent(a.indent),b(pb(k)),b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0);if(d.length>0){for(j=0,m||(b.indent(a.indent),j=4+2*a.indent),b("var "),g=A(d.sort(function(a,b){return s(a.toLowerCase(),b.toLowerCase())||s(a,b)})),l=0,i=g.length;i>l;++l)o=g[l],n=ob(d[l]),l>0&&(m?b(","):j+2+n.length<80?(b(", "),j+=2):(b(","),b(a.linefeed||"\n"),b.indent(a.indent),b("    "),j=4+2*a.indent)),b(n),j+=n.length;b(";"),f=!1,m||(b(a.linefeed||"\n"),f=!0)}e.isNoop()||(m||b.indent(a.indent),e.compileAsStatement(a,f,b),m||b(a.linefeed||"\n"))}function p(b,c,d,e,f,g,h){var i,j,k,l,m;for(c("function"),l=b.minify,l&&null==d||c(" "),null!=d&&d.compile(b,2,!1,c),c("("),i=A(e),k=0,j=i.length;j>k;++k)m=i[k],k>0&&(c(","),l||c(" ")),m.compile(b,2,!1,c);return c(")"),l||c(" "),c("{"),(g.length||f.length||!h.isNoop())&&(l||c(b.linefeed||"\n"),o(a(b),c,f,g,h,!l),l||c.indent(b.indent)),c("}")}function q(a){var b,c,d,e,f;if(null==a)return[];if(w(a)){for(b=[],c=A(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(V(f));return b}throw new Error("Expected an array, got "+B(a))}function r(a,b){var c;if(null===b||"undefined"==(c=typeof b)||"boolean"===c||"number"===c||"string"===c)return N(a,b);if(w(b))return E(a,function(){var c,d,e,f,g;for(c=[],d=A(b),e=0,f=d.length;f>e;++e)g=d[e],c.push(r(a,g));return c}());if(b.constructor===Object)return fb(a,function(){var c,d,e;c=[];for(d in b)y.call(b,d)&&(e=b[d],c.push(fb.Pair(a,d,r(a,e))));return c}());throw new TypeError("Cannot convert "+B(b)+" to an ast literal")}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,$,_,ab,bb,cb,db,eb,fb,gb,hb,ib,jb,kb,lb,mb,nb,ob,pb,qb,rb,sb,tb,ub;s=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},t="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},u=function(a,b){var c;for(c in b)y.call(b,c)&&(a[c]=b[c]);return a},v="function"==typeof Array.prototype.indexOf?function(a){return function(b,c){return-1!==a.call(c,b)}}(Array.prototype.indexOf):function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},w="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),x=function(a){if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+B(a));return a.displayName||a.name||""},y=Object.prototype.hasOwnProperty,z=Array.prototype.slice,A=function(a){if(null==a)throw new TypeError("Expected an object, got "+B(a));if(w(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return z.call(a);throw new TypeError("Expected an object with a length property, got "+B(a))},B=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),tb=b("util"),null!=tb&&(ab=tb.inspect),gb=b("./utils").padLeft,C=b("./jsutils"),bb=C.isAcceptableIdent,pb=C.toJSSource,C=null,X=function(){var a;return a=[""],function(b){var c,d;if(b>=a.length)for(d=a[a.length-1],c=a.length;b>=c;++c)d+="  ",a.push(d);return a[b]}}(),cb=/(?:\r\n?|[\n\u2028\u2029])/g,c.Node=db=function(){function a(){var b;throw b=this instanceof a?this:t(c),new Error("Node cannot be instantiated directly")}function b(a,b){var c,d,e,f,g;if(0===b.length)return"[]";for(g="",g+="[",c=A(b),d=0,e=c.length;e>d;++d)f=c[d],g+="\n  ",g+=ab(f,null,h(a)).split("\n").join("\n  ");return g+="\n]"}var c;return c=a.prototype,a.displayName="Node",c.toString=function(a){var b;return null==a&&(a={}),b=f(),this.compile(u({indent:0,bare:!0},a),2,!1,b),b.toString()},c.compile=function(){throw new Error("Not implemented: "+x(this.constructor)+".compile()")},c.maybeToStatement=function(){return"function"==typeof this.toStatement?this.toStatement():this},c.isConst=function(){return!1},c.isNoop=function(){return!1},c.constValue=function(){throw new Error(this.constructor.name+" has no const value")},c.isLarge=function(){return!0},c.isSmall=function(){return!this.isLarge()},c.mutateLast=function(){return this},c.exitType=function(){return null},c.last=function(){return this},c.removeTrailingReturnVoids=function(){return this},c.walkWithThis=function(a){var b;return null!=(b=a(this))?b:this.walk(a)},c.inspect=function(a,c){var d,e,f;e=this.constructor.displayName,e+=' "',this.pos.file&&(e+=this.pos.file,e+=":"),e+=this.pos.line,e+=":",e+=this.pos.column,e+='"';for(d in this)y.call(this,d)&&(f=this[d],"pos"===d||!c&&(!f||w(f)&&0===f.length||f instanceof eb)||(e+="\n  ",e+=d,e+=": ",e+=w(f)?b(a,f).split("\n").join("\n  "):ab(f,null,h(a)).split("\n").join("\n  ")));return e},c.toAst=function(a,b){return L(a,b,[N(a,this.typeId),N(a,this.pos.line),N(a,this.pos.column),N(a,this.pos.file||0)].concat(A(this._toAst(a,b))))},c._toAst=function(){return[]},c.toJSON=function(){return[this.typeId,this.pos.line,this.pos.column,this.pos.file||0].concat(A(this._toJSON()))},c._toJSON=function(){return[]},a}(),c.Expression=S=function(a){function b(){var a;throw a=this instanceof b?this:t(c),new Error("Expression cannot be instantiated directly")}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Expression","function"==typeof a.extended&&a.extended(b),c.compileAsBlock=function(a,b,c,d){this.compile(a,b,c,d)},c.compileAsStatement=function(a,b,c){"function"==typeof this.toStatement?this.toStatement().compileAsStatement(a,b,c):(this.compile(a,1,b,c),c(";"))},c.isLarge=function(){return!1},c.invert=function(){return sb(this.pos,"!",this)},c.mutateLast=function(a){return a(this)},c.withLabel=function(a){return null==a&&(a=null),a?J(this.pos,[this],a):this},b}(db),c.Statement=kb=function(a){function b(){var a;throw a=this instanceof b?this:t(d),new Error("Expression cannot be instantiated directly")}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Statement","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(a,b,c){return this.compile(a,1,b,c)},b}(db),c.Access=function(a,b){var c,d,e,f,g;for(f=z.call(arguments,2),g=b,c=0,d=f.length;d>c;++c)e=f[c],g=G(a,g,".",e);return g},c.Arguments=D=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Arguments","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("arguments")},c.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},c.walk=function(){return this},c.isNoop=function(){return!0},c.typeId=1,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Arr=E=function(b){function c(a,b){var d;return d=this instanceof c?this:t(f),d.pos=a,null==b&&(b=[]),d.elements=b,d}function d(b,c,d,e,f){var g,h,i,j,k;for(h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent)}function e(a,b,c,d,e){var f,g,h,i;for(f=A(a),h=0,g=f.length;g>h;++h)i=f[h],h>0&&(e(","),b.minify||e(" ")),i.compile(b,3,!1,e)}var f,h;return h=b.prototype,f=c.prototype=t(h),f.constructor=c,c.displayName="Arr","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),f("["),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.elements,a,b,c,f),f("]"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.compileAsBlock=function(a,b,c,d){return I(this.pos,this.elements).compileAsBlock(a,b,c,d)},f.compileAsStatement=function(a,b,c){J(this.pos,this.elements).compile(a,1,b,c)},f.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},f.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},f.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},f.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},f.walk=function(a){var b;return b=i(this.elements,this,"element",a),this.elements!==b?c(this.pos,b):this},f.typeId=2,f._toAst=function(a,b){var c,d,e,f,g;for(c=[],d=A(this.elements),e=0,f=d.length;f>e;++e)g=d[e],c.push(g.toAst(a,b));return c},c._fromAst=function(a){var b;return b=z.call(arguments,1),c(a,b)},f._toJSON=function(){return j(this.elements,0)},c.fromJSON=function(a,b,d){var e;return e=z.call(arguments,3),c(g(a,b,d),q(e))},c}(S),c.Assign=function(a){var b,c,d,e,f,g;for(b=arguments.length-1,b>1?g=z.call(arguments,1,b):(b=1,g=[]),d=arguments[b],f=d,c=g.length;c--;)e=g[c],f=G(a,e,"=",f);return f},c.BinaryChain=function(a,b){var c,d,e,f,g,h,i,j;if(f=z.call(arguments,2),"+"===b)for(h=f.length-2;h>=0;--h)i=f[h],j=f[h+1],("string"==typeof i||i instanceof N&&"string"==typeof i.value)&&("string"==typeof j||j instanceof N&&"string"==typeof j.value)&&f.splice(h,2,""+("string"==typeof i?i:i.value)+("string"==typeof j?j:j.value));for(g=f[0],c=1,d=f.length;d>c;++c)e=f[c],g=G(a,g,b,e);return g},c.And=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return N(a,!0);for(d=c[0],e=1,b=c.length;b>e;++e)d=G(a,d,"&&",c[e]);return d},c.Or=function(a){var b,c,d,e;if(c=z.call(arguments,1),0===c.length)return N(a,!1);for(d=c[0],e=1,b=c.length;b>e;++e)d=G(a,d,"||",c[e]);return d},c.Binary=G=function(a){function b(c,d,f,g){var i,j;if(j=this instanceof b?this:t(e),j.pos=c,null==d&&(d=eb(c)),j.left=d,j.op=f,null==g&&(g=eb(c)),j.right=g,!y.call(n,f))throw new Error("Unknown binary operator: "+pb(f));if(d instanceof a||(d=l(c,d)),g instanceof a||(g=l(c,g)),y.call(h,f)){if(!(d instanceof Y||d instanceof b&&"."===d.op))throw new Error("Cannot assign with "+f+" to non-Ident or Access: "+B(d));if(d instanceof b&&d.left instanceof I)return I(c,A(z.call(d.left.body,0,-1)).concat([b.call(j,c,b(d.pos,(i=d.left.body)[i.length-1],".",d.right),f,g)]));if(g instanceof I&&(d instanceof Y||d.left.isNoop()&&d.right.isNoop()))return I(c,A(z.call(g.body,0,-1)).concat([b.call(j,c,d,f,(i=g.body)[i.length-1])]))}else if(d instanceof I&&"."!==f)return I(c,A(z.call(d.body,0,-1)).concat([b.call(j,c,(i=d.body)[i.length-1],f,g)]));return j.left=d,j.right=g,j}function c(a,b,c,d,e,f,g){var h,i,j;h=c instanceof N&&"string"==typeof c.value&&bb(c.value),j=e>18,j&&g("("),b instanceof N&&"number"==typeof b.value?(i=pb(b.value),m(b.value)||!isFinite(b.value)?(g("("),g(i),g(")")):(g(i),h&&-1===i.indexOf("e")&&-1===i.indexOf(".")&&g("."))):b.isConst()&&void 0===b.constValue()?(g("("),(b instanceof N?b:N(b.pos,void 0)).compile(d,2,!1,g),g(")")):b.compile(d,18,f,g),h?(g("."),g(c.value)):(g("["),c.compile(d,2,!1,g),g("]")),j&&g(")")}function d(a,c,d,e,f,g,h){var i,k,l,m;k=n[a],i=j[k],m="paren"===i?f>=k:f>k,m&&h("("),c.compile(e,"right"===i&&c instanceof b&&n[c.op]===k?+k+1:k,g&&!m,h),l=!e.minify||/^\w/.test(a),l&&h(" "),h(a),l&&h(" "),d.compile(e,"left"===i&&d instanceof b&&n[d.op]===k?+k+1:k,!1,h),m&&h(")")}var e,f,h,i,j,n;return f=a.prototype,e=b.prototype=t(f),e.constructor=b,b.displayName="Binary","function"==typeof a.extended&&a.extended(b),e.compile=function(a,b,e,f){var g,h;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),h="."===this.op?c:d,h(this.op,this.left,this.right,a,b,e,f),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},e.compileAsBlock=function(a,b,c,d){var e;y.call(h,this.op)||"."===(e=this.op)||"&&"===e||"||"===e?f.compileAsBlock.call(this,a,b,c,d):I(this.pos,[this.left,this.right]).compileAsBlock(a,b,c,d)},e.compileAsStatement=function(a,b,c){var d,e,g;d=this,e=this.left,g=this.op,y.call(h,g)?f.compileAsStatement.call(this,a,b,c):"&&"===this.op?_(this.pos,this.left,this.right).compileAsStatement(a,b,c):"||"===this.op?_(this.pos,this.left.invert(),this.right).compileAsStatement(a,b,c):"."===g?f.compileAsStatement.call(this,a,b,c):J(this.pos,[this.left,this.right]).compileAsStatement(a,b,c)},h={"=":!0,"+=":!0,"-=":!0,"*=":!0,"/=":!0,"%=":!0,"<<=":!0,">>=":!0,">>>=":!0,"&=":!0,"^=":!0,"|=":!0},e.isAssign=function(){return y.call(h,this.op)},n={".":18,"*":15,"/":15,"%":15,"+":14,"-":14,"<<":13,">>":13,">>>":13,"<":12,"<=":12,">":12,">=":12,"in":12,"instanceof":12,"==":11,"!=":11,"===":11,"!==":11,"&":9,"^":10,"|":8,"&&":7,"||":6,"=":4,"+=":4,"-=":4,"*=":4,"/=":4,"%=":4,"<<=":4,">>=":4,">>>=":4,"&=":4,"^=":4,"|=":4},i={"<":">=","<=":">",">":"<=",">=":">","==":"!=","!=":"==","===":"!==","!==":"==="},e.invert=function(){return y.call(i,this.op)?b(this.pos,this.left,i[this.op],this.right):f.invert.call(this)},j={11:"paren",12:"paren",14:"left",15:"left",9:"none",8:"none",10:"none",13:"left",4:"right"},e.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.left.isSmall()||!this.right.isSmall():a},e.isSmall=function(){var a;return null==(a=this._isSmall)?this._isSmall=this.left.isSmall()&&this.right.isSmall():a},e.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(h,this.op)&&"."!==this.op&&this.left.isNoop()&&this.right.isNoop():a},e.walk=function(a){var c,d,e,f;return d=!1,e=null!=(c=a(this.left,this,"left"))?c:this.left.walk(a),f=null!=(c=a(this.right,this,"right"))?c:this.right.walk(a),this.left!==e||this.right!==f?b(this.pos,e,this.op,f):this},e.typeId=3,e._toAst=function(a,b){return[this.left.toAst(a,b),N(a,this.op),this.right.toAst(a,b)]},b._fromAst=function(a,c,d,e){return b(a,c,d,e)},e._toJSON=function(){var a;return a=[k(this.left,0),this.op],k(this.right)&&a.push.apply(a,A(this.right.toJSON())),a},b.fromJSON=function(a,c,d,e,f){var h;return h=z.call(arguments,5),b(g(a,c,d),V(e),f,V(h))},b}(S),c.BlockStatement=J=function(b){function c(a,b,e){var f,g,h,i,j,k;for(h=this instanceof c?this:t(d),h.pos=a,null==b&&(b=[]),null==e&&(e=null),h.label=e,j=[],f=0,g=b.length;g>f&&(i=b[f],k=i.maybeToStatement(),!(k instanceof c)||k.label||k.pos.file!==a.file&&k.pos.file?k instanceof eb||j.push(k):j.push.apply(j,A(k.body)),null==k.exitType());++f);switch(j.length){case 0:return eb(a);case 1:return a.file&&!j[0].pos.file&&(j[0].pos.file=a.file),j[0];default:h.body=j}return h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="BlockStatement","function"==typeof b.extended&&b.extended(c),d.compile=function(b,c,d,e){var f,g,h,i,j,k,l,m,n,o,p;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");for(f=[],g=A(this.body),h=0,i=g.length;i>h;++h)o=g[h],o.isNoop()||f.push(o);for(p=f,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(j=b.sourceMap)&&j.add(e.line,e.column,this.pos.line,this.pos.column),k=null!=this.label?a(b):b,n=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),n||e(" "),e("{"),n||(e(b.linefeed||"\n"),e.indent(k.indent),d=!0)),l=0,i=p.length;i>l;++l)m=p[l],l>0&&!n&&(e(b.linefeed||"\n"),e.indent(k.indent),d=!0),m.compileAsStatement(k,d,e),d=!1;null!=this.label&&(n||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,c,d;return c=i(this.body,this,"node",a),d=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a,this):this.label,this.body!==c||this.label!==d?H(this.pos,c,d):this},d.mutateLast=function(a,b){var c,d,e;return d=this.last(),e=d.mutateLast(a,b),d!==e?(c=z.call(this.body,0,-1),c.push(e),H(this.pos,c,this.label)):this},d.exitType=function(){return this.last().exitType()},d.last=function(){var a;return(a=this.body)[a.length-1]},d.removeTrailingReturnVoids=function(){var a,b,c;return b=this.last(),c=b.removeTrailingReturnVoids(),b!==c?(a=z.call(this.body,0,-1),a.push(c),H(this.pos,a,this.label)):this},d.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},d.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.body,a)},d.typeId=4,d._toAst=function(a,b){var c;return c=this,[null!=this.label?this.label.toAst(a,b):N(a,0)].concat(function(){var d,e,f,g,h;for(d=[],e=A(c.body),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}())},c._fromAst=function(a,b){var d;return d=z.call(arguments,2),c(a,d,b||null)},d._toJSON=function(){return[this.label||0].concat(A(this.body))},c.fromJSON=function(a,b,d,e){var f;return f=z.call(arguments,4),c(g(a,b,d),q(f),e?V(e):null)},c}(kb),c.BlockExpression=I=function(a){function b(a,d){var e,f,g,h,i;for(e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=[]),i=[],f=0,h=d.length;h>f;++f)g=d[f],f!==h-1&&!g instanceof eb||(g instanceof b&&(g.pos.file===a.file||!g.pos.file)?(i.push.apply(i,A(g.body)),h-1>f&&i[i.length-1]instanceof eb&&i.pop()):g instanceof eb||i.push(g));switch(i.length){case 0:return eb(a);case 1:return a.file&&!i[0].pos.file&&(i[0].pos.file=a.file),i[0];default:e.body=i}return e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="BlockExpression","function"==typeof a.extended&&a.extended(b),c.toStatement=function(){return J(this.pos,this.body)},c.compile=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.toStatement().compile(a,b,c,d);else{for(e=[],f=A(this.body),h=0,k=f.length;k>h;++h)l=f[h],l.isNoop()&&h!==k-1||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=n?3:b,h=0,k=m.length;k>h;++h)j=m[h],h>0&&(d(","),a.minify||d(" ")),k-1>h?j.compileAsBlock(a,i,!n&&0===h,d):j.compile(a,i,!n&&0===h,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.compileAsBlock=function(a,b,c,d){var e,f,g,h,i,j,k,l,m,n;if(1===b)this.compile(a,b,c,d);else{for(e=[],f=A(this.body),i=0,k=f.length;k>i;++i)l=f[i],l.isNoop()||e.push(l);for(m=e,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(h=a.sourceMap)&&h.add(d.line,d.column,this.pos.line,this.pos.column),n=b>2&&m.length>1,n&&d("("),i=0,g=m.length;g>i;++i)j=m[i],i>0&&d(", "),j.compileAsBlock(a,n?3:b,!1,d);n&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()}},c.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.body.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.body),c=a.length;c--;)if(e=a[c],e.isLarge()){d=!0;break}return d}():a},c.isSmall=function(){return!1},c.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.body),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},c.walk=J.prototype.walk,c.last=function(){var a;return(a=this.body)[a.length-1]},c.withLabel=J.prototype.withLabel,c.typeId=5,c._toAst=function(a,b){var c,d,e,f,g;for(c=[],d=A(this.body),e=0,f=d.length;f>e;++e)g=d[e],c.push(g.toAst(a,b));return c},b._fromAst=function(a){var c;return c=z.call(arguments,1),b(a,c)},c._toJSON=function(){return this.body},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),q(e))},b}(S),H=c.Block=function(a,b,c){return null==b&&(b=[]),null==c&&(c=null),0===b.length?eb(a):null==c&&function(){var a,c,d;for(a=!0,c=b.length;c--;)if(d=b[c],!(d instanceof S)){a=!1;break}return a}()?I(a,b):J(a,b,c)},c.Break=K=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Break","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw new Error("Cannot compile a statement except on the Block level");null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("break"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(this.pos.file)},c.walk=function(){return this},c.exitType=function(){return"break"},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label,this,"label"))?c:this.label.walk(a):this.label,d!==this.label?b(this.pos,d):this},c.isLarge=function(){return!1},c.typeId=6,c._toAst=function(a,b){return null!=this.label?[this.label.toAst(a,b)]:[]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?V(e):null)},b}(kb),c.Call=L=function(b){function c(a,b,d,e){var g;return g=this instanceof c?this:t(f),g.pos=a,null==b&&(b=eb(a)),g.func=b,null==d&&(d=[]),g.args=d,null==e&&(e=!1),g.isNew=e,g}function d(b,c,d,e,f){var g,h,i,j,k;for(f("("),h=a(c),g=A(b),i=0,k=g.length;k>i;++i)j=g[i],f(c.linefeed||"\n"),f.indent(h.indent),j.compile(h,3,!1,f),k-1>i&&f(",");f(c.linefeed||"\n"),f.indent(c.indent),f(")")}function e(a,b,c,d,e){var f,g,h,i;for(e("("),f=A(a),i=0,g=f.length;g>i;++i)h=f[i],i>0&&(e(","),b.minify||e(" ")),h.compile(b,3,!1,e);e(")")}var f,h;return h=b.prototype,f=c.prototype=t(h),f.constructor=c,c.displayName="Call","function"==typeof b.extended&&b.extended(c),f.compile=function(a,b,c,f){var g,h,i;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>18||!this.isNew&&(this.func instanceof W||this.func instanceof G&&"."===this.func.op&&this.func.left instanceof W),i&&f("("),this.isNew&&f("new "),this.func.compile(a,this.isNew?19:18,c&&!i&&!this.isNew,f),h=!a.minify&&this.shouldCompileLarge()?d:e,h(this.args,a,b,c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},f.shouldCompileLarge=function(){var a,b,c,d,e;if(this.args.length>4)return!0;for(d=!1,a=A(this.args),c=a.length,b=c-2;b>=0;--b)if(e=a[b],!e.isSmall()){d=!0;break}return d},f.hasLargeArgs=function(){var a,b,c,d,e;if(null==(c=this._hasLargeArgs)){if(this.args.length>4)return this._hasLargeArgs=!0;for(d=!1,a=A(this.args),b=a.length;b--;)if(e=a[b],!e.isSmall()){d=!0;break}return this._hasLargeArgs=d}return c},f.isLarge=function(){return this.func.isLarge()||this.hasLargeArgs()},f.isSmall=function(){var a;if(null!=(a=this._isSmall))return a;if(!this.func.isSmall())return this._isSmall=!1;switch(this.args.length){case 0:return this._isSmall=!0;case 1:return this._isSmall=this.args[0].isSmall();default:return this._isSmall=!1}},f.walk=function(a){var b,d,e;return e=null!=(b=a(this.func,this,"func"))?b:this.func.walk(a),d=i(this.args,this,"arg",a),this.func!==e||this.args!==d?c(this.pos,e,d,this.isNew):this},f.typeId=7,f._toAst=function(a,b){var c;return c=this,[this.func.toAst(a,b),N(a,this.isNew?1:0)].concat(function(){var d,e,f,g,h;for(d=[],e=A(c.args),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}())},c._fromAst=function(a,b,d){var e;return e=z.call(arguments,3),c(a,b,e,!!d)},f._toJSON=function(){return[k(this.func,0),this.isNew?1:0].concat(j(this.args,0))},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(e),q(h),!!f)},c}(S),c.Comment=M=function(a){function b(a,d){var e;if(e=this instanceof b?this:t(c),e.pos=a,e.text=d,"/*"!==d.substring(0,2))throw new Error("Expected text to start with '/*'");if("*/"!==d.slice(-2))throw new Error("Expected text to end with '*/'");return e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Comment","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g,h,i;for(i=this.text.split("\n"),e=A(i),g=0,f=e.length;f>g;++g)h=e[g],g>0&&(d(a.linefeed||"\n"),a.minify||d.indent(a.indent)),d(h)},c.isConst=function(){return!0},c.constValue=function(){},c.isNoop=function(){return!1},c.walk=function(){return this},c.typeId=8,c._toAst=function(a){return[N(a,this.text)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return[this.text]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e)},b}(kb),c.Const=N=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,e.value=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Const","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e,f,g;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=this.value,void 0===f&&null!=a.undefinedName?d(a.undefinedName):(g=b>=17&&(void 0===f||"number"==typeof f&&!isFinite(f)),g&&d("("),d(pb(f)),g&&d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},c.isConst=function(){return!0},c.isNoop=b.prototype.isConst,c.constValue=function(){return this.value},c.isLarge=function(){return"string"==typeof this.value&&(this.value.match(/\n/)||this.value.length>50)},c.inspect=function(a){return d.inspect.call(this,a,!0)},c.walk=function(){return this},c.typeId=9,c._toAst=function(a){return void 0===this.value?[]:[b(a,this.value)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return"number"!=typeof this.value||isFinite(this.value)?0===this.value&&m(this.value)?[0,2]:void 0===this.value?[]:[this.value]:[this.value>0?1:this.value<0?-1:0,1]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),1===f?e/0:0===e&&2===f?-0:e)},b}(S),c.Continue=O=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=null),e.label=d,e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Continue","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw new Error("Cannot compile a statement except on the Block level");return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("continue"),null!=this.label&&(d(" "),this.label.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},c.walk=function(){return this},c.exitType=function(){return"continue"},c.isLarge=function(){return!1},c.walk=function(a){var c,d;return d=null!=this.label?null!=(c=a(this.label,this,"label"))?c:this.label.walk(a):this.label,d!==this.label?b(this.pop,d):this},c.typeId=10,c._toAst=function(a,b){return null!=this.label?[this.label.toAst(a,b)]:[]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return null!=this.label?[this.label]:[]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e?V(e):null)
},b}(kb),c.Debugger=P=function(a){function b(a){var d;return d=this instanceof b?this:t(c),d.pos=a,d}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Debugger","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;if(1!==b)throw new Error("Cannot compile a statement except on the Block level");return null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("debugger;")},c.walk=function(){return this},c.isLarge=function(){return!1},c.typeId=11,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(kb),c.DoWhile=Q=function(b){function c(a,b,e,f){var g;return g=this instanceof c?this:t(d),g.pos=a,null==b&&(b=eb(a)),null==e&&(e=eb(a)),g.test=e,null==f&&(f=null),g.label=f,g.body=b.maybeToStatement(),e.isConst()&&!e.constValue()?H(a,[g.body],f):g}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="DoWhile","function"==typeof b.extended&&b.extended(c),d.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.body,this.test,a)},d.compile=function(b,c,d,e){var f,g;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),d=!1,e(":"),g||e(" ")),e("do"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1),d=!0),this.body.compileAsStatement(a(b),d,e),d=!1,g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),g||e(" "),e("while"),g||e(" "),e("("),this.test.compile(b,2,!1,e),e(");"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f;return d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),e=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,d!==this.body||f!==this.test||e!==this.label?c(this.pos,d,f,e):this},d.typeId=12,d._toAst=function(a,b){return[this.test.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},d._toJSON=function(){return[this.label||0,k(this.test,0),k(this.body,0)]},c.fromJSON=function(a,b,d,e,f,h){return c(g(a,b,d),V(h),V(f),e?V(e):null)},c}(kb),c.Eval=R=function(a){function b(d,e){var f;return f=this instanceof b?this:t(c),f.pos=d,null==e&&(e=eb(d)),e instanceof a||(e=l(d,e)),f.code=e,f}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Eval","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),this.code instanceof N?d(String(this.code.value)):(d("eval("),this.code.compile(a,3,!1,d),d(")")),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.code,this,"code"))?c:this.code.walk(a),d!==this.code?b(this.pops,d):this},c.isLarge=function(){return this.code.isLarge()},c.typeId=13,c._toAst=function(a,b){return[this.code.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return[k(this.code,0)]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),V(e))},b}(S),c.For=T=function(b){function c(a,b,e,f,g,h){var i;return i=this instanceof c?this:t(d),i.pos=a,null==b&&(b=eb(a)),i.init=b,null==e&&(e=N(a,!0)),null==f&&(f=eb(a)),i.step=f,null==h&&(h=null),i.label=h,e instanceof S||(e=l(a,e)),e.isConst()&&!e.constValue()?b:(i.test=e,i.body=g.maybeToStatement(),i)}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="For","function"==typeof b.extended&&b.extended(c),d.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.init,this.test,this.step,this.body,a)},d.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");h=this.test.isConst()&&"boolean"!=typeof this.test.constValue()?N(this.pos,!!this.test.constValue()):this.test,null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),this.init.isNoop()&&this.step.isNoop()?(e("while"),g||e(" "),e("("),h.compile(b,2,!1,e)):(e("for"),g||e(" "),e("("),this.init.isNoop()||this.init.compileAsBlock(b,2,!1,e),e(";"),g||e(" "),h.isConst()&&h.constValue()||h.compile(b,2,!1,e),e(";"),g||e(" "),this.step.isNoop()||this.step.compileAsBlock(b,2,!1,e)),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g,h;return e=null!=(b=a(this.init,this,"init"))?b:this.init.walk(a),h=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),g=null!=(b=a(this.step,this,"step"))?b:this.step.walk(a),d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,e!==this.init||h!==this.test||g!==this.step||d!==this.body||f!==this.label?c(this.pos,e,h,g,d,f):this},d.typeId=14,d._toAst=function(a,b){return[this.init.toAst(a,b),this.test.toAst(a,b),this.step.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f,g){return c(a,b,d,e,f,g||null)},d._toJSON=function(){var a;return a=[this.label||0,k(this.init,0),k(this.test,0),k(this.step,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h,i){var j;return j=z.call(arguments,7),c(g(a,b,d),V(f),V(h),V(i),V(j),e?V(e):null)},c}(kb),c.ForIn=U=function(b){function c(a,b,e,f,g){var h;return h=this instanceof c?this:t(d),h.pos=a,h.key=b,null==e&&(e=eb(a)),h.object=e,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,h.body=f.maybeToStatement(),h}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="ForIn","function"==typeof b.extended&&b.extended(c),d.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.key,this.object,this.body,a)},d.compile=function(b,c,d,e){var f,g;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),g=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),g||e(" ")),e("for"),g||e(" "),e("("),this.key.compile(b,2,!1,e),e(" in "),this.object.compile(b,2,!1,e),e(")"),this.body.isNoop()?e(";"):(g||e(" "),e("{"),g||(e(b.linefeed||"\n"),e.indent(+b.indent+1)),this.body.compileAsStatement(a(b),!g,e),g||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}")),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},d.walk=function(a){var b,d,e,f,g;return e=null!=(b=a(this.key,this,"key"))?b:this.key.walk(a),g=null!=(b=a(this.object,this,"object"))?b:this.object.walk(a),d=null!=(b=a(this.body,this,"body"))?b:this.body.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,e!==this.key||g!==this.object||d!==this.body||f!==this.label?c(this.pos,e,g,d):this},d.typeId=15,d._toAst=function(a,b){return[this.key.toAst(a,b),this.object.toAst(a,b),this.body.toAst(a,b)].concat(null!=this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f||null)},d._toJSON=function(){var a;return a=[this.label||0,this.key,k(this.object,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),ob=function(){function a(a){return"\\u"+gb(a.charCodeAt(0).toString(16),4,"0")}return function(b){return b.replace(/[\u0000-\u001f\u0080-\uffff]/g,a)}}(),c.Func=W=function(a){function b(a,c,e,f,g,h){var i;return i=this instanceof b?this:t(d),i.pos=a,null==c&&(c=null),i.name=c,null==e&&(e=[]),i.params=e,null==f&&(f=[]),i.variables=f,null==g&&(g=eb(a)),null==h&&(h=[]),i.declarations=h,n(e,f),i.body=g.removeTrailingReturnVoids(),i}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Func","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e,f;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),f=c&&!this.name,f&&d("("),p(a,d,this.name,this.params,this.declarations,this.variables,this.body),f&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsStatement=function(a,b,c){this.compile(a,1,b,c),b&&this.name||c(";")},d.isLarge=function(){return!0},d.isNoop=function(){return null==this.name},d.walk=function(a){var c,d,e,f;return e=this.name?null!=(c=a(this.name,this,"name"))?c:this.name.walk(a):this.name,f=i(this.params,this,"param",a),d=null!=(c=a(this.body,this,"body"))?c:this.body.walk(a),e!==this.name||f!==this.params||d!==this.body?b(this.pos,e,f,this.variables,d,this.declarations,this.meta):this},d.typeId=16,d._toAst=function(a,b){var c;return c=this,[this.name?this.name.toAst(a,b):N(a,0),this.params.length?E(a,function(){var d,e,f,g,h;for(d=[],e=A(c.params),f=0,g=e.length;g>f;++f)h=e[f],d.push(h.toAst(a,b));return d}()):N(a,0),this.variables.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.variables),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.body.toAst(a,b)].concat(function(){var b,d,e,f,g;for(b=[],d=A(c.declarations),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}())},b._fromAst=function(a,c,d,e,f){var g;return g=z.call(arguments,5),b.apply(void 0,[a,c||null,d||[],e||[],f].concat(g))},d._toJSON=function(){var a;return a=[this.name||0,j(this.params,0),j(this.variables,0),j(this.declarations,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},b.fromJSON=function(a,c,d,e,f,h,i){var j;return j=z.call(arguments,7),b(g(a,c,d),e?V(e):void 0,q(f),h,V(j),i)},b}(S),c.Ident=Y=function(a){function b(a,c,e){var f;if(f=this instanceof b?this:t(d),f.pos=a,f.name=c,null==e&&(e=!1),!e&&!bb(c,!0))throw new Error("Not an acceptable identifier name: "+c);return f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Ident","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d(ob(this.name))},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.walk=function(){return this},d.isNoop=function(){return!0},d.typeId=17,d._toAst=function(a){return[N(a,this.name)]},b._fromAst=function(a,c){return b(a,c,!0)},d._toJSON=function(){return[this.name]},b.fromJSON=function(a,c,d,e){return b(g(a,c,d),e,!0)},b}(S),c.IfStatement=_=function(b){function c(a,b,e,f,g){var h,i;return i=this instanceof c?this:t(d),i.pos=a,null==b&&(b=eb(a)),null==e&&(e=eb(a)),null==f&&(f=eb(a)),null==g&&(g=null),i.label=g,b instanceof sb&&"!"===b.op&&b.node instanceof sb&&"!"===b.node.op&&(b=b.node.node),b.isConst()?b.constValue()?H(a,[e],g):H(a,[f],g):(e=e.maybeToStatement(),f=f.maybeToStatement(),e instanceof eb?f instanceof eb?b.maybeToStatement():c.call(i,a,b.invert(),f,e,g):f instanceof eb&&e instanceof c&&e.whenFalse instanceof eb&&null==e.label?c.call(i,a,G(a,b,"&&",e.test),e.whenTrue,f):b instanceof I?J(a,A(z.call(b.body,0,-1)).concat([c.call(i,a,(h=b.body)[h.length-1],e,f)])):(i.test=b,i.whenTrue=e,i.whenFalse=f,i))}var d,e;return e=b.prototype,d=c.prototype=t(e),d.constructor=c,c.displayName="IfStatement","function"==typeof b.extended&&b.extended(c),d.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.test,this.whenTrue,this.whenFalse,a)},d.compile=function(b,d,e,f){var g,h,i,j;if(1!==d)throw new Error("Cannot compile a statement except on the Block level");this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsStatement(b,!0,f):c(this.pos,this.test.invert(),this.whenFalse,this.whenTrue,this.label).compile(b,d,e,f):(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(g=b.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b.minify,null!=this.label&&(this.label.compile(b,d,e,f),f(":"),i||f(" ")),f("if"),i||f(" "),f("("),this.test.compile(b,2,!1,f),f(")"),i||f(" "),f("{"),h=a(b),i||(f(b.linefeed||"\n"),f.indent(h.indent)),this.whenTrue.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"),j=this.whenFalse,j.isNoop()||(i||f(" "),f("else"),j instanceof c&&null==j.label?(f(" "),j.compile(b,d,!1,f)):(i||f(" "),f("{"),i||(f(b.linefeed||"\n"),f.indent(h.indent)),j.compileAsStatement(h,!i,f),i||(f(b.linefeed||"\n"),f.indent(b.indent)),f("}"))),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile())},d.walk=function(a){var b,c,d,e,f;return d=null!=(b=a(this.test,this,"test"))?b:this.test.walk(a),f=null!=(b=a(this.whenTrue,this,"whenTrue"))?b:this.whenTrue.walk(a),e=null!=(b=a(this.whenFalse,this,"whenFalse"))?b:this.whenFalse.walk(a),c=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,d!==this.test||f!==this.whenTrue||e!==this.whenFalse||c!==this.label?Z(this.pos,d,f,e,c):this},d.mutateLast=function(a,b){var c,d;return d=this.whenTrue.mutateLast(a,b),c=this.whenFalse.mutateLast(a,b),d!==this.whenTrue||c!==this.whenFalse?Z(this.pos,this.test,d,c,this.label):this},d.exitType=function(){var a,b;return void 0===this._exitType?(b=this.whenTrue.exitType(),a=this.whenFalse.exitType(),this._exitType=b===a?b:null):this._exitType},d.removeTrailingReturnVoids=function(){var a,b;return b=this.whenTrue.removeTrailingReturnVoids(),a=this.whenFalse.removeTrailingReturnVoids(),b!==this.whenTrue||a!==this.whenFalse?Z(this.pos,this.test,b,a,this.label):this},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},d.typeId=18,d._toAst=function(a,b){var c;return c=[this.test.toAst(a,b),this.whenTrue.toAst(a,b)],this.whenFalse instanceof eb&&!this.label||c.push(this.whenFalse.toAst(a,b)),this.label&&c.push(this.label.toAst(a,b)),c},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f)},d._toJSON=function(){var a;return a=[this.label||0,k(this.test,0),k(this.whenTrue,0)],k(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),c.IfExpression=$=function(b){function c(a,d,e,f){var g;return g=this instanceof c?this:t(h),g.pos=a,null==d&&(d=eb(a)),null==e&&(e=eb(a)),null==f&&(f=eb(a)),e instanceof b||(e=l(a,e)),f instanceof b||(f=l(a,f)),d instanceof sb&&"!"===d.op&&d.node instanceof sb&&"!"===d.node.op&&(d=d.node.node),d.isConst()?d.constValue()?e:f:(f instanceof eb&&e instanceof c&&e.whenFalse instanceof eb?(g.test=G(a,d,"&&",e.test),g.whenTrue=e.whenTrue,g.whenFalse=f):(g.test=d,g.whenTrue=e,g.whenFalse=f),g)}function d(a,b,c,d,e,f){var g;g=d.minify,a.compile(d,5,e,f),f(g?"?":" ? "),b.compile(d,5,!1,f),f(g?":":" : "),c.compile(d,5,!1,f)}function e(b,d,f,g,h,i){var j,k,l,m;j=a(g),l=b instanceof c,l&&i("("),b.compile(j,l?2:5,h&&!l,i),l&&i(")"),k=d.isLarge(),k?(i(g.linefeed||"\n"),i.indent(j.indent),i("? ")):i(" ? "),m=d instanceof c,m&&i("("),d.compile(j,m?2:5,!1,i),m&&i(")"),i(g.linefeed||"\n"),i.indent(j.indent),i(": "),f instanceof c?e(f.test,f.whenTrue,f.whenFalse,g,!1,i):f.compile(j,5,!1,i)}var f,h;return f=b.prototype,h=c.prototype=t(f),h.constructor=c,c.displayName="IfExpression","function"==typeof b.extended&&b.extended(c),h.withLabel=_.prototype.withLabel,h.toStatement=function(){return _(this.pos,this.test,this.whenTrue,this.whenFalse)},h.compile=function(a,b,c,f){var g,h,i;1===b?this.toStatement().compile(a,b,c,f):(null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(g=a.sourceMap)&&g.add(f.line,f.column,this.pos.line,this.pos.column),i=b>5,i&&f("("),h=a.minify||!this.whenTrue.isLarge()&&!this.whenFalse.isLarge()?d:e,h(this.test,this.whenTrue,this.whenFalse,a,!i&&c,f),i&&f(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile())},h.compileAsBlock=function(a,b,c,d){this.whenTrue.isNoop()?this.whenFalse.isNoop()?this.test.compileAsBlock(a,b,c,d):G(this.pos,this.test,"||",this.whenFalse).compileAsBlock(a,b,c,d):this.whenFalse.isNoop()?G(this.pos,this.test,"&&",this.whenTrue).compileAsBlock(a,b,c,d):this.compile(a,b,c,d)},h.isLarge=function(){var a;return null==(a=this._isLarge)?this._isLarge=!this.test.isSmall()||!this.whenTrue.isSmall()||!this.whenFalse.isSmall():a},h.isSmall=function(){return!1},h.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=this.test.isNoop()&&this.whenTrue.isNoop()&&this.whenFalse.isNoop():a},h.walk=_.prototype.walk,h.typeId=19,h._toAst=function(a,b){var c;return c=[this.test.toAst(a,b),this.whenTrue.toAst(a,b)],this.whenFalse instanceof eb||c.push(this.whenFalse.toAst(a,b)),c},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},h._toJSON=function(){var a;return a=[k(this.test,0),k(this.whenTrue,0)],k(this.whenFalse)&&a.push.apply(a,A(this.whenFalse.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(e),V(f),V(h))},c}(S),Z=c.If=function(a,b,c,d,e){return c instanceof kb||d instanceof kb||null!=e?_(a,b,c,d,e):$(a,b,c,d)},c.Noop=eb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Noop","function"==typeof a.extended&&a.extended(b),d.compileAsStatement=function(){},d.compile=function(a,b,c,d){b>1&&N(this.pos,void 0).compile(a,b,c,d)},d.isConst=function(){return!0},d.isNoop=b.prototype.isConst,d.constValue=function(){},d.walk=function(){return this},d.mutateLast=function(a,b){return(null!=b?b.noop:void 0)?a(this):this},d.typeId=20,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Obj=fb=function(b){function c(a,b){var e;return e=this instanceof c?this:t(j),e.pos=a,null==b&&(b=[]),e.elements=b,d(b),e}function d(a){var b,c,d,e,f;for(e=[],b=A(a),c=b.length;c--;){if(f=b[c],d=f.key,v(d,e))throw new Error("Found duplicate key: "+pb(d));e.push(d)}}function e(a){return bb(a)||String(Number(a))===a&&Number(a)>=0?a:pb(a)}function f(b,c,d){var f,g,h,i,j,k;for(g=a(c),f=A(b),i=0,k=f.length;k>i;++i)h=f[i],d(c.linefeed||"\n"),d.indent(g.indent),j=h.key,d(e(j)),d(": "),h.value.compile(g,3,!1,d),k-1>i&&d(",");d(c.linefeed||"\n"),d.indent(c.indent)}function h(a,b,c){var d,f,g,h,i,j;if(a.length){for(j=b.minify,j||c(" "),d=A(a),h=0,f=d.length;f>h;++h)g=d[h],h>0&&(c(","),j||c(" ")),i=g.key,c(e(i)),c(":"),j||c(" "),g.value.compile(b,3,!1,c);j||c(" ")}}var i,j,m;return i=b.prototype,j=c.prototype=t(i),j.constructor=c,c.displayName="Obj","function"==typeof b.extended&&b.extended(c),j.compile=function(a,b,c,d){var e,g,i;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),i=c,i&&d("("),d("{"),g=!a.minify&&this.shouldCompileLarge()?f:h,g(this.elements,a,d),d("}"),i&&d(")"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},j.compileAsBlock=function(a,b,c,d){var e;e=this,I(this.pos,function(){var a,b,c,d,f;for(a=[],b=A(e.elements),c=0,d=b.length;d>c;++c)f=b[c],a.push(f.value);return a}()).compileAsBlock(a,b,c,d)},j.compileAsStatement=function(a,b,c){var d;d=this,J(this.pos,function(){var a,b,c,e,f;for(a=[],b=A(d.elements),c=0,e=b.length;e>c;++c)f=b[c],a.push(f.value);return a}()).compileAsStatement(a,b,c)},j.shouldCompileLarge=function(){switch(this.elements.length){case 0:return!1;case 1:return this.elements[0].isLarge();default:return this.isLarge()}},j.isSmall=function(){switch(this.elements.length){case 0:return!0;case 1:return this.elements[0].isSmall();default:return!1}},j.isLarge=function(){var a,b;return b=this,null==(a=this._isLarge)?this._isLarge=this.elements.length>4||function(){var a,c,d,e;for(d=!1,a=A(b.elements),c=a.length;c--;)if(e=a[c],!e.isSmall()){d=!0;break}return d}():a},j.isNoop=function(){var a,b,c,d,e;if(null==(d=this._isNoop)){for(b=!0,a=A(this.elements),c=a.length;c--;)if(e=a[c],!e.isNoop()){b=!1;break}return this._isNoop=b}return d},j.walk=function(a){var b,d,e,f,g,h,i,j,k;for(h=!1,b=[],d=A(this.elements),e=0,f=d.length;f>e;++e)i=d[e],k=null!=(g=a(i.value,this,"element"))?g:i.value.walk(a),k!==i.value?(h=!0,b.push(m(i.pos,i.key,k))):b.push(i);return j=b,h?c(this.pos,j):this},j.typeId=21,j._toAst=function(a,b){var c,d,e,f,g,h;for(h=[],c=A(this.elements),d=0,e=c.length;e>d;++d)f=c[d],g=f.pos,h.push(N(a,g.line)),h.push(N(a,g.column)),h.push(N(a,g.file)),h.push(N(a,f.key)),h.push(f.value.toAst(a,b));return h},c._fromAst=function(a){var b,d,e,f;for(d=z.call(arguments,1),f=[],e=0,b=d.length;b>e;e+=5)f.push(m(g(d[e],d[e+1],d[e+2]),d[e+3],d[e+4]));return c(a,f)},j._toJSON=function(){var a,b,c,d,e,f;for(f=[],a=A(this.elements),b=0,c=a.length;c>b;++b)d=a[b],e=d.pos,f.push(e.line,e.column,e.file,d.key,k(d.value));return f},c.fromJSON=function(a,b,d){var e,f,h,i,j,k,l,n,o;for(f=z.call(arguments,3),n=[],h=0,e=f.length;e>h;h+=5)l=f[h],j=f[h+1],k=f[h+2],i=f[h+3],o=f[h+4],n.push(m(g(l,j,k),i,V(o)));return c(g(a,b,d),n)},c.Pair=m=function(){function a(d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=d,g.key=e,null==f&&(f=eb(d)),f instanceof b||(f=l(d,f)),g.value=f,g}var c;return c=a.prototype,a.displayName="ObjPair",c.isSmall=function(){return this.value.isSmall()},c.isLarge=function(){return this.value.isLarge()},c.isNoop=function(){return this.value.isNoop()},c.walk=function(b){var c,d;return d=null!=(c=b(this.value,this,"value"))?c:this.value.walk(b),d!==this.value?a(this.pos,this.key,d):this},c.inspect=db.prototype.inspect,a}(),c}(S),c.Regex=hb=function(a){function b(a,c,e){var f;return f=this instanceof b?this:t(d),f.pos=a,f.source=c,null==e&&(e=""),f.flags=e,f}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Regex","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("/"),d(this.source.replace(/(\\\\)*\\?\//g,"$1\\/")||"(?:)"),d("/"),d(this.flags)},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.typeId=22,d._toAst=function(a){return[N(a,this.source)].concat(""!==this.flags?[N(a,this.flags)]:[])},b._fromAst=function(a,c,d){return b(a,c,d||"")},d._toJSON=function(){return[this.source,this.flags]},b.fromJSON=function(a,c,d,e,f){return b(g(a,c,d),e,f)},b}(S),c.Return=ib=function(a){function b(a,d){var e;return e=this instanceof b?this:t(c),e.pos=a,null==d&&(d=eb(a)),e.node=d,"function"==typeof d.toStatement?d.toStatement().mutateLast(function(c){return b(a,c)},{noop:!0}):e}var c,d;return d=a.prototype,c=b.prototype=t(d),c.constructor=b,b.displayName="Return","function"==typeof a.extended&&a.extended(b),c.compile=function(a,b,c,d){var e;null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("return"),this.node.isConst()&&void 0===this.node.constValue()||(d(" "),this.node.compile(a,2,!1,d)),d(";"),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},c.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},c.exitType=function(){return"return"},c.removeTrailingReturnVoids=function(){return this.node.isConst()&&void 0===this.node.constValue()?eb(this.pos):this},c.isSmall=function(){return this.node.isSmall()},c.isLarge=function(){return this.node.isLarge()},c.mutateLast=function(a,c){var d;return(null!=c?c["return"]:void 0)?(d=this.node.mutateLast(a,c),d!==this.node?b(this.pos,d):this):this},c.typeId=23,c._toAst=function(a,b){return this.node.isConst()&&void 0===this.node.constValue()?[]:[this.node.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},c._toJSON=function(){return k(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),V(e))},b}(kb),c.Root=jb=function(){function a(b,d,e,f){var g;return g=this instanceof a?this:t(c),g.pos=b,null==d&&(d=eb(b)),g.body=d,null==e&&(e=[]),g.variables=e,null==f&&(f=[]),g.declarations=f,n([],e),g}var c;return c=a.prototype,a.displayName="Root",c.compile=function(a){var c,d,g,h,i,j,k,l,m,n,p,q,r,s;return null==a&&(a={}),a.indent||(a.indent=0),a.uglify||"function"!=typeof a.writer||(s=a.writer),n=s?e(s):f(),p=(new Date).getTime(),null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(c=a.sourceMap)&&c.add(n.line,n.column,this.pos.line,this.pos.column),o(a,n,this.declarations,this.variables,this.body,!0),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile(),g=(new Date).getTime(),"function"==typeof a.progress&&a.progress("compile",g-p),h=0,null==s&&(d=n.toString(),a.uglify&&(i=b("fs"),null!=a.sourceMap&&(m=b("path"),l=b("os"),q=m.join(l.tmpDir(),"gs-"+4294967296*Math.random()+".map"),i.writeFileSync(q,a.sourceMap.toString(),"utf8")),r=b("uglify-js"),null!=(c=r.AST_Node)&&(k=c.warn_function),"function"==typeof k&&(r.AST_Node.warn_function=function(){}),j=r.minify(d,{fromString:!0,inSourceMap:q,outSourceMap:null!=(c=a.sourceMap)?c.generatedFile:void 0}),null!=k&&(r.AST_Node.warn_function=k),null!=q&&i.unlinkSync(q),d=j.code,h=(new Date).getTime(),"function"==typeof a.progress&&a.progress("uglify",h-g),null!=a.sourceMap&&(a.sourceMap=j.map)),"function"==typeof a.writer&&(a.writer(d),d="")),n=null,{compileTime:g-p,uglifyTime:a.uglify?h-g:void 0,code:d||""}},c.toString=function(a){return null==a&&(a={}),this.compile(a).code},c.isLarge=function(){return!0},c.walk=function(b){var c,d;return d=null!=(c=b(this.body,this,"body"))?c:this.body.walk(b),d!==this.body?a(this.pos,d,this.variables,this.declarations):this},c.mutateLast=function(b,c){var d;return d=this.body.mutateLast(b,c),d!==this.body?a(this.pos,d,this.variables,this.declarations):this},c.exitType=function(){return this.last().exitType()},c.last=function(){var a;return(a=this.body)[a.length-1]},c.removeTrailingReturnVoids=function(){var b;return b=this.body.removeTrailingReturnVoids(),b!==this.body?a(this.pos,b,this.variables,this.declarations):this},c.inspect=db.prototype.inspect,c.typeId=24,c._toAst=function(a,b){var c;return c=this,[this.declarations.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.declarations),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.variables.length?E(a,function(){var b,d,e,f,g;for(b=[],d=A(c.variables),e=0,f=d.length;f>e;++e)g=d[e],b.push(N(a,g));return b}()):N(a,0),this.body.toAst(a,b)]},a._fromAst=function(b,c,d,e){return a(b,e,d||[],c||[])},c._toJSON=function(){var a;return a=[j(this.variables,0),j(this.declarations,0)],k(this.body)&&a.push.apply(a,A(this.body.toJSON())),a},a.fromJSON=function(b,c,d,e,f){var h;return h=z.call(arguments,5),a(g(b,c,d),V(h),e,f)},a}(),c.This=mb=function(a){function b(a){var c;return c=this instanceof b?this:t(d),c.pos=a,c}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="This","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column,this.pos.file),d("this")},d.compileAsBlock=function(a,b,c,d){eb(this.pos).compileAsBlock(a,b,c,d)},d.isNoop=function(){return!0},d.walk=function(){return this},d.typeId=25,b._fromAst=function(a){return b(a)},b.fromJSON=function(a,c,d){return b(g(a,c,d))},b}(S),c.Throw=nb=function(a){function b(a,c){var e;return e=this instanceof b?this:t(d),e.pos=a,null==c&&(c=eb(a)),e.node=c,"function"==typeof c.toStatement?c.toStatement().mutateLast(function(a){return b(e.pos,a)},{noop:!0}):e}var c,d;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Throw","function"==typeof a.extended&&a.extended(b),d.compile=function(a,b,c,d){var e;return null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(e=a.sourceMap)&&e.add(d.line,d.column,this.pos.line,this.pos.column),d("throw "),this.node.compile(a,2,!1,d),d(";"),null!=a.sourceMap&&this.pos.file?a.sourceMap.popFile():void 0},d.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,d):this},d.exitType=function(){return"throw"},d.isSmall=function(){return this.node.isSmall()},d.isLarge=function(){return this.node.isLarge()},d.typeId=26,d._toAst=function(a,b){return[this.node.toAst(a,b)]},b._fromAst=function(a,c){return b(a,c)},d._toJSON=function(){return k(this.node)?this.node.toJSON():[]},b.fromJSON=function(a,c,d){var e;return e=z.call(arguments,3),b(g(a,c,d),V(e))},b}(kb),c.Switch=lb=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=eb(a)),null==d&&(d=[]),h.cases=d,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,b instanceof S||(b=l(a,b)),h.node=b,h.defaultCase=f.maybeToStatement(),h}var d,e,f;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="Switch","function"==typeof b.extended&&b.extended(c),e.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.node,this.cases,this.defaultCase,a)},e.compile=function(b,c,d,e){var f,g,h,i,j,k,l;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");for(null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(i=b.sourceMap)&&i.add(e.line,e.column,this.pos.line,this.pos.column),l=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),l||e(" ")),e("switch"),l||e(" "),e("("),this.node.compile(b,2,!1,e),e(")"),l||e(" "),e("{"),k=a(b),f=A(this.cases),g=0,h=f.length;h>g;++g)j=f[g],l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("case "),j.node.compile(b,2,!1,e),e(":"),j.body.isNoop()||(j.node.isSmall()&&j.body.isSmall()?(l||e(" "),j.body.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),j.body.compileAsStatement(k,!0,e)));this.defaultCase.isNoop()||(l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("default:"),this.defaultCase.isSmall()?(l||e(" "),this.defaultCase.compileAsStatement(b,!0,e)):(l||(e(b.linefeed||"\n"),e.indent(k.indent)),this.defaultCase.compileAsStatement(k,!0,e))),l||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,g,h,i,j,k,l,m,n,o,p;for(p=null!=(h=a(this.node,this,"node"))?h:this.node.walk(a),m=!1,b=[],d=A(this.cases),e=0,g=d.length;g>e;++e)i=d[e],k=null!=(h=a(i.node,this,"caseNode"))?h:i.node.walk(a),j=null!=(h=a(i.body,this,"caseBody"))?h:i.body.walk(a),k!==i.node||j!==i.body?(m=!0,b.push(f(i.pos,k,j))):b.push(i);return l=b,n=null!=(h=a(this.defaultCase,this,"defaultCase"))?h:this.defaultCase.walk(a),o=null!=this.label?null!=(h=a(this.label,this,"label"))?h:this.label.walk(a):this.label,p!==this.node||m||n!==this.defaultCase||o!==this.label?c(this.pos,p,l,n,o):this},e.typeId=27,e._toAst=function(a,b){var c,d,e,f,g;for(g=[this.label?this.label.toAst(a,b):N(a,0),this.node.toAst(a,b)],c=A(this.cases),d=0,e=c.length;e>d;++d)f=c[d],g.push(N(a,f.pos.line)),g.push(N(a,f.pos.column)),g.push(N(a,f.pos.file||0)),g.push(f.node.toAst(a,b)),g.push(f.body.toAst(a,b));return this.defaultCase instanceof eb||g.push(this.defaultCase.toAst(a,b)),g},c._fromAst=function(a,b,d){var e,h,i,j,k;switch(e=z.call(arguments,3),j=e.length,j%5){case 0:break;case 1:--j,h=e[j];break;default:throw new Error("Unknown number of arguments passed to _fromAst")}for(k=[],i=0;j>i;i+=5)k.push(f(g(e[i],e[i+1],e[i+2]),e[i+3],e[i+4]));return c(a,d,k,h,b||null)},e._toJSON=function(){var a,b,c,d,e;for(e=[this.label||0,k(this.node,0)],a=A(this.cases),b=0,c=a.length;c>b;++b)d=a[b],e.push(d.pos.line,d.pos.column,d.pos.file,k(d.node,0),k(d.body,0));
return this.defaultCase instanceof eb||e.push(k(this.defaultCase,0)),e},c.fromJSON=function(a,b,d,e,h){var i,j,k,l,m,n,o,p,q,r;switch(i=z.call(arguments,5),q=i.length,q%5){case 0:break;case 1:--q,o=i[q];break;default:throw new Error("Unknown number of arguments passed to fromJSON")}for(r=[],p=0;q>p;p+=5)m=i[p],k=i[p+1],l=i[p+2],n=i[p+3],j=i[p+4],r.push(f(g(m,k,l),V(n),V(j)));return c(g(a,b,d),V(h),r,V(o),e?V(e):null)},c.Case=f=function(){function a(c,d,e){var f;return f=this instanceof a?this:t(b),f.pos=c,null==d&&(d=eb(c)),null==e&&(e=eb(c)),d instanceof S||(d=l(c,d)),f.node=d,f.body=e.maybeToStatement(),f}var b;return b=a.prototype,a.displayName="SwitchCase",b.isLarge=function(){return!0},b.isSmall=function(){return!1},b.walk=function(b){var c,d,e;return e=null!=(c=b(this.node,this,"node"))?c:this.node.walk(b),d=null!=(c=b(this.body,this,"body"))?c:this.body.walk(b),e!==this.node||d!==this.body?a(this.pos,e,d):this},b.inspect=db.prototype.inspect,a}(),c}(kb),c.TryCatch=qb=function(b){function c(a,b,d,f,g){var h;return h=this instanceof c?this:t(e),h.pos=a,null==b&&(b=eb(a)),h.catchIdent=d,null==f&&(f=eb(a)),null==g&&(g=null),h.label=g,h.tryBody=b.maybeToStatement(),h.tryBody.isNoop()?h.tryBody:(h.catchBody=f.maybeToStatement(),h)}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryCatch","function"==typeof b.extended&&b.extended(c),e.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.tryBody,this.catchIdent,this.catchBody,a)},e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f,g;return g=null!=(b=a(this.tryBody,this,"tryBody"))?b:this.tryBody.walk(a),e=null!=(b=a(this.catchIdent,this,"catchIdent"))?b:this.catchIdent.walk(a),d=null!=(b=a(this.catchBody,this,"catchBody"))?b:this.catchBody.walk(a),f=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,g!==this.tryBody||e!==this.catchIdent||d!==this.catchBody||f!==this.label?c(this.pos,g,e,d,f):this},e.removeTrailingReturnVoids=function(){var a,b;return b=this.tryBody.removeTrailingReturnVoids(),a=this.catchBody.removeTrailingReturnVoids(),b!==this.tryBody||a!==this.catchBody?c(this.pos,b,this.catchIdent,a,this.label):this},e.typeId=28,e._toAst=function(a,b){return[this.tryBody.toAst(a,b),this.catchIdent.toAst(a,b),this.catchBody.toAst(a,b)].concat(this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e,f){return c(a,b,d,e,f)},e._toJSON=function(){var a;return a=[this.label||0,k(this.tryBody,0),this.catchIdent],k(this.catchBody)&&a.push.apply(a,A(this.catchBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f,h){var i;return i=z.call(arguments,6),c(g(a,b,d),V(f),V(h),V(i),e?V(e):null)},c}(kb),c.TryFinally=rb=function(b){function c(a,b,d,f){var g;if(g=this instanceof c?this:t(e),g.pos=a,null==b&&(b=eb(a)),null==d&&(d=eb(a)),null==f&&(f=null),g.label=f,g.tryBody=b.maybeToStatement(),g.finallyBody=d.maybeToStatement(),null==f){if(g.tryBody.isNoop())return g.finallyBody;if(g.finallyBody.isNoop())return g.tryBody}return g}var d,e;return d=b.prototype,e=c.prototype=t(d),e.constructor=c,c.displayName="TryFinally","function"==typeof b.extended&&b.extended(c),e.withLabel=function(a){return null==a&&(a=null),c(this.pos,this.tryBody,this.finallyBody,a)},e.compile=function(b,c,d,e){var f,g,h;if(1!==c)throw new Error("Cannot compile a statement except on the Block level");null!=b.sourceMap&&this.pos.file&&b.sourceMap.pushFile(this.pos.file),null!=(f=b.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),h=b.minify,null!=this.label&&(this.label.compile(b,c,d,e),e(":"),h||e(" ")),h?e("try{"):(e("try {"),e(b.linefeed||"\n")),g=a(b),h||e.indent(g.indent),this.tryBody instanceof qb&&null==this.tryBody.label?(this.tryBody.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e(h?"}catch(":"} catch ("),this.tryBody.catchIdent.compile(b,2,!1,e),e(h?"){":") {"),this.tryBody.catchBody.isNoop()||(h||(e(b.linefeed||"\n"),e.indent(g.indent)),this.tryBody.catchBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)))):(this.tryBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent))),h?e("}finally{"):(e("} finally {"),e(b.linefeed||"\n")),h||e.indent(g.indent),this.finallyBody.compileAsStatement(g,!0,e),h||(e(b.linefeed||"\n"),e.indent(b.indent)),e("}"),null!=b.sourceMap&&this.pos.file&&b.sourceMap.popFile()},e.walk=function(a){var b,d,e,f;return f=null!=(b=a(this.tryBody,this,"tryBody"))?b:this.tryBody.walk(a),d=null!=(b=a(this.finallyBody,this,"finallyBody"))?b:this.finallyBody.walk(a),e=null!=this.label?null!=(b=a(this.label,this,"label"))?b:this.label.walk(a):this.label,f!==this.tryBody||d!==this.finallyBody||e!==this.label?c(this.pos,f,d,e):this},e.removeTrailingReturnVoids=function(){var a,b;return b=this.tryBody.removeTrailingReturnVoids(),a=this.finallyBody.removeTrailingReturnVoids(),b!==this.tryBody||a!==this.finallyBody?c(this.pos,b,a,this.label):this},e.typeId=29,e._toAst=function(a,b){return[this.tryBody.toAst(a,b),this.finallyBody.toAst(a,b)].concat(this.label?[this.label.toAst(a,b)]:[])},c._fromAst=function(a,b,d,e){return c(a,b,d,e)},e._toJSON=function(){var a;return a=[this.label||0,k(this.tryBody,0)],k(this.finallyBody)&&a.push.apply(a,A(this.finallyBody.toJSON())),a},c.fromJSON=function(a,b,d,e,f){var h;return h=z.call(arguments,5),c(g(a,b,d),V(f),V(h),e?V(e):null)},c}(kb),c.Unary=sb=function(a){function b(c,e,g){var h;if(h=this instanceof b?this:t(d),h.pos=c,h.op=e,null==g&&(g=eb(c)),!v(e,f))throw new Error("Unknown unary operator: "+e);if(g instanceof a||(g=l(line,column,g)),!("delete"!==e||g instanceof G&&"."===g.op))throw new Error("Cannot use delete operator on a non-access");return h.node=g,h}var c,d,e,f;return c=a.prototype,d=b.prototype=t(c),d.constructor=b,b.displayName="Unary","function"==typeof a.extended&&a.extended(b),d.compile=function(a,c,d,e){var f,g;g=this.op,null!=a.sourceMap&&this.pos.file&&a.sourceMap.pushFile(this.pos.file),null!=(f=a.sourceMap)&&f.add(e.line,e.column,this.pos.line,this.pos.column),"++post"===g||"--post"===g?(this.node.compile(a,16,!1,e),e(g.substring(0,2))):(e(g),("typeof"===g||"void"===g||"delete"===g||("+"===g||"-"===g||"++"===g||"--"===g)&&(this.node instanceof b&&("+"===g||"-"===g||"++"===g||"--"===g)||this.node instanceof N&&"number"==typeof this.node.value&&m(this.node.value)))&&e(" "),this.node.compile(a,16,!1,e)),null!=a.sourceMap&&this.pos.file&&a.sourceMap.popFile()},d.compileAsBlock=function(a,b,c,d){var f;f=this.op,y.call(e,f)?this.compile(a,b,c,d):this.node.compileAsBlock(a,b,c,d)},d.compileAsStatement=function(a,b,d){var f;f=this.op,y.call(e,f)?c.compileAsStatement.call(this,a,b,d):this.node.compileAsStatement(a,b,d)},f=["++","--","++post","--post","!","~","+","-","typeof","void","delete"],e={"++":!0,"--":!0,"++post":!0,"--post":!0,"delete":!0},d.invert=function(){return"!"===this.op&&this.node instanceof b&&"!"===this.node.op?this.node:c.invert.call(this)},d.isLarge=function(){return this.node.isLarge()},d.isSmall=function(){return this.node.isSmall()},d.isAssign=function(){return y.call(e,this.op)},d.isNoop=function(){var a;return null==(a=this._isNoop)?this._isNoop=!y.call(e,this.op)&&this.node.isNoop():a},d.walk=function(a){var c,d;return d=null!=(c=a(this.node,this,"node"))?c:this.node.walk(a),d!==this.node?b(this.pos,this.op,d):this},d.typeId=30,d._toAst=function(a,b){return[N(a,this.op),this.node.toAst(a,b)]},b._fromAst=function(a,c,d){return b(a,c,d)},d._toJSON=function(){var a;return a=[this.op],k(this.node)&&a.push.apply(a,A(this.node.toJSON())),a},b.fromJSON=function(a,c,d,e){var f;return f=z.call(arguments,4),b(g(a,c,d),e,V(f))},b}(S),ub=c.While=function(a,b,c,d){return T(a,null,b,null,c,d)},F={1:D,2:E,3:G,4:J,5:I,6:K,7:L,8:M,9:N,10:O,11:P,12:Q,13:R,14:T,15:U,16:W,17:Y,18:_,19:$,20:eb,21:fb,22:hb,23:ib,24:jb,25:mb,26:nb,27:lb,28:qb,29:rb,30:sb},c.byTypeId=function(a,b,c,d){var e,f;return f=z.call(arguments,4),(e=F[a])._fromAst.apply(e,[g(b,c,d)].concat(f))},V=c.fromJSON=function(a){var b,c;if(!a)return eb(g(0,0));if(w(a)){if(0===a.length)return eb(g(0,0));if(c=a[0],a.length<1||"number"!=typeof c)throw new Error("Expected an array with a number as its first item, got "+B(c));if(!y.call(F,c))throw new Error("Unknown node type: "+c);return(b=F[c]).fromJSON.apply(b,A(z.call(a,1)))}throw new TypeError("Must provide an object or array to deserialize")},c.fromLiteral=r}.call(this),a.exports},b["./parser"]=function(){var a={exports:this};return function(c){function d(a){return a instanceof Te.nothing}function e(a){return a}function f(a){return function(){return a}}function g(a,b,c){var d,e,f;for(null==b&&(b=[]),null==c&&(c=0),e=a.length,d=+c,0>d&&(d+=e);e>d;++d)f=a[d],b.push(Qd(f));return b}function h(a){return g(a).join("")}function i(a,b){return function(c){return function(d,e){var f;f=d[a],f.push(b);try{return c(d,e)}finally{f.pop()}}}}function j(a){var b,c,d,e,f,g,h;for(h=sb(null),b=Cb(a),d=0,e=b.length;e>d;++d)if(g=b[d],"number"==typeof g)h[g]=!0;else for(f=+g[0],c=+g[1];c>=f;++f)h[f]=!0;return h}function k(a,b){return function(c,d){return c.source.charCodeAt(d)===b?sc(d+1,b):c.fail(a,d)}}function l(a,b){return function(c,d){var e;return e=c.source.charCodeAt(d),b[e]?sc(d+1,e):c.fail(a,d)}}function m(a){return"function"==typeof a.mutator&&"function"==typeof a.rule?m(a.rule):wf(function(a){return!!a},a)}function n(a,b,c,d){var f;if(null==b&&(b=0),null==c&&(c=1/0),null==d&&(d=!1),0!==b%1||0>b)throw new RangeError("Expected minimum to be a non-negative integer, got "+b);if(c!==1/0&&0!==c%1||b>c)throw new RangeError("Expected maximum to be Infinity or an integer of at least "+b+", got "+c);return f=e,d?function(d,e){var f,g,h;for(f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(++f,h=g.index,h===e)throw new Error("Infinite loop detected");e=h}return sc(e,f)}:f===e?function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(i[f]=g.value,++f,h=g.index,h===e)throw new Error("Infinite loop detected");e=h}return sc(e,i)}:wf(function(a,b){var c,d,e,g,h;for(c=[],d=Cb(a),e=0,g=d.length;g>e;++e)h=d[e],c.push(f(h.value,b,h.startIndex,h.endIndex));return c},function(d,e){var f,g,h,i;for(i=[],f=0;c>f;){if(g=a(d,e),!g){if(b>f)return;break}if(h=g.index,i[f]={startIndex:e,endIndex:h,value:g.value},h===e)throw new Error("Infinite loop detected");e=h,++f}return sc(e,i)})}function o(a,b){return n(a,0,1/0,b)}function p(a,b){return n(a,1,1/0,b)}function q(a,b){var c;return c={},"function"==typeof b?wf(function(a,d,e){return a===c?b(d,e):a},function(b,d){return a(b,d)||sc(d,c)}):function(c,d){return a(c,d)||sc(d,b)}}function r(){var a,b,c,d,e,f,g,h,i,j;switch(i=Bb.call(arguments),i.length){case 0:throw new Error("Expected rules to be non-empty");case 1:return i[0];default:for(f=[],b=0,d=i.length;d>b;++b)if(h=i[b],h.oneOf)for(a=Cb(h.oneOf),c=0,e=a.length;e>c;++c)j=a[c],f.push(j);else f.push(h);return g=function(a,b){var c,d,e,g;for(d=0,c=f.length;c>d;++d)if(g=f[d],e=g(a,b))return e},g.oneOf=f,g}}function s(){var a;return a=Bb.call(arguments),o(r.apply(void 0,a))}function t(){var a;return a=Bb.call(arguments),p(r.apply(void 0,a))}function u(a){return function(b,c){var d;return d=a(b,c),d?sc(c):void 0}}function v(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o;if(f=Bb.call(arguments),0===f.length)throw new Error("Expected items to be non-empty");if(1===f.length)if(yb(f[0])){if("this"===f[0][0])return f[0][1]}else if("function"==typeof f[0])return l=f[0],function(a,b){var c;return(c=l(a,b))?sc(c.index):void 0};for(m=[],i=[],h=[],j=[],o=-1,c=!1,n=1/0,b=!1,d=0,a=f.length;a>d;++d){if(e=f[d],g=void 0,l=void 0,yb(e)){if(2!==e.length)throw new Error("Found an array with "+e.length+" length at index #"+d);if("string"!=typeof e[0])throw new TypeError("Array in index #"+d+" has an improper key: "+Eb(e[0]));if("function"!=typeof e[1])throw new TypeError("Array in index #"+d+" has an improper rule: "+Eb(e[1]));if(g=e[0],xb(g,h))throw new Error("Can only have one "+JSON.stringify(g)+" key in sequential");h.push(g),l=e[1],"this"===g?o=m.length:c=!0}else{if("function"!=typeof e){if(e===Og){if(n!==1/0)throw new Error("Can only have one SHORT_CIRCUIT per sequential");n=d;continue}throw new TypeError("Found a non-array, non-function in index #"+d+": "+Eb(e))}l=e}j.push(null),m.push(l),i.push(g)}if(-1!==o){if(c)throw new Error("Cannot specify both the 'this' key and another key");return b?(k=j[o],wf(function(a,b){return k(a.value,b,a.startIndex,a.endIndex)},function(a,b){var c,d,e,f,g,h;for(h=0,d=0,c=m.length;c>d;++d){if(g=m[d],e=g(a,b),!e){if(n>d)return;throw Og}d===o&&(f={value:e.value,startIndex:b,endIndex:e.index}),b=e.index}return sc(b,f)})):function(a,b){var c,d,e,f,g;for(d=0,c=m.length;c>d;++d){if(g=m[d],e=g(a,b),!e){if(n>d)return;throw Og}b=e.index,d===o&&(f=e.value)}return sc(b,f)}}if(c)return b?wf(function(a,b){var c,d,e,f,g,i;for(i={},d=0,c=h.length;c>d;++d)f=h[d],f&&(e=a[f],g=j[d],i[f]=g?g(e.value,b,e.startIndex,e.endIndex):e.value);return i},function(a,b){var c,d,e,f,g,h,j;for(h={},e={},d=0,c=m.length;c>d;++d){if(j=m[d],f=j(a,b),!f){if(n>d)return;throw Og}g=i[d],g&&(h[g]={value:f.value,startIndex:b,endIndex:f.index}),b=f.index}return sc(b,h)}):function(a,b){var c,d,e,f,g,h;for(h={},c=0,f=m.length;f>c;++c){if(g=m[c],d=g(a,b),!d){if(n>c)return;throw Og}b=d.index,e=i[c],e&&(h[e]=d.value)}return sc(b,h)};if(b)throw new Error("Cannot use a mutator on a sequential without keys");return function(a,b){var c,d,e,f;for(d=0,c=m.length;c>d;++d){if(f=m[d],e=f(a,b),!e){if(n>d)return;throw Og}b=e.index}return sc(b)}}function w(a,b){return function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?sc(f.index,[e.value].concat(f.value)):void 0}}function x(a,b){return function(c,d){var e,f;return e=a(c,d),e&&(f=b(c,e.index))?sc(f.index,e.value.concat(f.value)):void 0}}function y(a,b){return sc(b)}function z(a,b,c){return null==b&&(b=y),null==c&&(c=a),function(d,e){var f,g,h,i,j,k,l;if(g=a(d,e)){for(f=g.index,k=[g.value],h=0;(l=b(d,f),l)&&(i=c(d,l.index),i);++h){if(j=i.index,j===f)throw new Error("Infinite loop detected");f=j,k.push(i.value)}return sc(f,k)}}}function A(a){return function(b,c){return a(b,c)?void 0:sc(c)}}function B(a){return function(b,c){return a(b,c)?void 0:C(b,c)}}function C(a,b){var c,d;return d=a.source,b>=d.length?a.fail("any",b):(c=d.charCodeAt(b),13===c&&10===d.charCodeAt(+b+1)&&(++b,c=10),sc(+b+1,c))}function D(a,b){var c,d;if(d=a.source,c=d.charCodeAt(b),13===c)10===d.charCodeAt(+b+1)&&(++b,c=10);else if(10!==c&&8232!==c&&8233!==c)return;return sc(+b+1,c)}function E(a,b){return b>=a.source.length?sc(b):void 0}function F(a){return v(Vg,["this",a])}function G(a,b){return a.options.noindent?Gd(a,b):sc(b)}function H(a,b){var c;return c=JSON.stringify(b),function(d,e){var f;return f=a(d,e),f&&f.value===b?f:d.fail(c,e)}}function I(a){var b;return b=sb(null),function(c){return zb.call(b,c)?b[c]:b[c]=a(c)}}function J(a,b){return a.options.noindent?void 0:sc(b)}function K(a,b){var c;return c=Uc(a,b),a.options.noindent||c.value===a.indent.peek()?c:void 0}function L(a,b){var c,d,e;if(a.options.noindent)throw new Error("Can't use Advance if in noindent mode");return c=Uc(a,b),d=c.value,e=a.indent,d>e.peek()?(e.push(d),sc(b,d)):void 0}function M(a,b){var c;return c=Uc(a,b),a.indent.push(c.value),sc(b,c.value)}function N(a){return function(b,c){var d;return d=b.indent,d.push(+d.peek()+a),sc(c,0)}}function O(a,b){var c;if(c=a.indent,c.canPop())return c.pop(),sc(b);throw kg("Unexpected dedent",a,b)}function P(a){return function(b,c){var d,e,f,g;g=b.indent,e=g.count();try{return a(b,c)}finally{for(f=+e,d=+g.count();d>f;++f)g.pop()}}}function Q(a){return function(b,c){var d;d=b.disallowSpaceBeforeAccess,d.push(+d.peek()+1);try{return a(b,c)}finally{d.pop()}}}function R(a){var b;return b=z(p(a),p(zh,!0)),wf(function(a){var b,c,d,e,f;for(f=[],b=Cb(a),c=0,d=b.length;d>c;++c)e=b[c],g(e,f);return f.join("")})(b)}function S(a,b,c,d){var e,f,g,h,i,j,k;if(null==d&&(d=0),0!==d%1)throw new RangeError("Expected exponent to be an integer, got "+d);for(;d>0;)a+=b.charAt(0)||"0",b=b.substring(1),--d;for(;0>d;)b=a.slice(-1)+b,a=a.slice(0,-1),++d;for(h=0,e=0,f=a.length;f>e;++e)g=a.charAt(e),h=h*c+parseInt(g,c);if(b){for(j=0,i=0,k=0,f=b.length;f>k&&(g=b.charAt(k),!(j>=4503599627370496/c));++k)j=j*c+parseInt(g,c),++i;h+=j/Math.pow(c,i)}return h}function T(a,b,c){var d,e;return e=R(c),d=v(Gh,["separator",b],Og,["integer",e],["fraction",q(v(tf,og,tf,["this",e]),"")],tf),wf(function(b,c,d,e){var f,g,h,i;if(h=b.separator,g=b.integer,f=b.fraction,i=S(g,f,a),!isFinite(i))throw kg("Unable to parse number "+Bg(c.source.substring(d,e)),c,d);return Ue(d,i)})(d)}function U(a,b,c){var e,f,g,i,j,k;for(k=[],i=[],e=Cb(a),f=0,g=e.length;g>f;++f)j=e[f],"number"==typeof j?i.push(j):d(j)||(k.push(Ue(c,h(i))),i=[],k.push(j));return i.length>0&&k.push(Ue(c,h(i))),k}function V(a,b,c){var d,e,f,g,h,i;if(h=c.length,0===h)return Ue(b,"");if(1===h&&c[0].isConstType("string"))return c[0];if(f=a.getMacroByLabel("stringConcat"),!f)throw new Error("Cannot use string interpolation until the string-concat operator has been defined");if(1===h)return f.func({left:Ue(b,""),op:"",right:c[0]},a,b);for(g=c[0],d=1,e=c.length;e>d;++d)i=c[d],g=f.func({left:g,op:"",right:i},a,b);return g}function W(a,b){var c,d,e,f,g;for(d=0,e=a.indent.peek(),f=b;e>d&&(c=Wg(a,f));){if(f=c.index,g=we[c.value],!g)throw new Error("Unexpected indent char: "+JSON.stringify(c.value));d+=+g}if(d>e)throw kg("Mixed tabs and spaces in string literal",a,f);return d===e||D(a,f)?sc(f,d):void 0}function X(a,b,c){var d,e,f,g,h,i,j,k,l;for(j=[a.first],(0===j[0].length||1===j[0].length&&""===j[0][0])&&j.shift(),g=1,d=+a.numEmptyLines;d>g;++g)j.push([""]);for(j.push.apply(j,Cb(a.rest)),h=j.length,h>0&&(0===j[h-1].length||1===j[h-1].length&&""===j[h-1][0])&&(j.pop(),--h),l=[],g=0,e=j.length;e>g;++g)i=j[g],g>0&&l.push("\n"),l.push.apply(l,Cb(i));for(f=l.length-2;f>=0;--f)"string"==typeof l[f]&&"string"==typeof l[f+1]&&l.splice(f,2,""+l[f]+l[f+1]);for(f=0,e=l.length;e>f;++f)k=l[f],"string"==typeof k&&(l[f]=Ue(c,k));return l}function Y(a,b){var c;return c=v(a,Og,["first",b],["numEmptyLines",o(v(Vg,["this",D]),!0)],["rest",q(P(v(M,["this",q(z(v(W,["this",b]),D),function(){return[]})],q(D),O)),function(){return[]})],a),wf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=X(a,b,c),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,V(b,c,i)})(c)}function Z(a,b){var c,d,e,f,g,h;if(f=xf(a,b),f&&(h=a.getConst(f.value))){if(a.inAst.peek())return sc(f.index,Qe("macroConst",b,a.scope.peek(),Ue(b,f.value)));for(c=h.value,d=f.index;"object"==typeof c&&null!==c;){if(g=Rc(a,d),!g)throw kg("Constant '"+f.value+"' cannot appear without being accessed upon.",a,b);if(!g.value.isConst())throw kg("Constant '"+f.value+"' must only be accessed with constant keys.",a,d);if(e=g.value.constValue(),!zb.call(c,e))throw kg("Unknown key "+JSON.stringify(String(e))+" in constant.",a,d);c=c[e],d=g.index}return sc(d,Ue(b,c))}}function $(a,b){var c;return c=Z(a,b),c&&null==c.value.value?c:void 0}function _(a,b,c){var d;return d=b.getMacroByLabel("mutateFunction"),d?d.func({op:"",node:a},b,c):a}function ab(a,b){var c,d,e,f,g;for(g=0,c=Cb(a),d=0,e=c.length;e>d;++d)if(f=c[d],f.isInternalCall("param")&&f.args[2].constValue()&&(++g,g>1))throw kg("Cannot have more than one spread parameter",b,f.index);return a}function bb(a){for(var b;a.length&&(b=a[a.length-1],d(b));)a.pop();return a}function cb(a,c,d,e){var f,g,h,i,j,k,l,m,n,o;for(l=[],m=null,f=Cb(e),g=0,h=f.length;h>g;++g)if(i=f[g],j=i.key,o=i.property,i=null,j.isConst()){if(k=String(j.constValue()),("get"===o||"set"===o)&&m&&m.property!==o&&m.key===k){m=null;continue}if(xb(k,l))throw n=b("./parser").ParserError,n("Duplicate key "+Bg(k)+" in object",a,j.index);l.push(k),m="get"===o||"set"===o?{key:k,property:o}:null}else m=null;return Qe("object",c,a.scope.peek(),[d||Te.nothing(c)].concat(function(){var b,d,f,g,h,i,j,k;for(b=[],d=Cb(e),f=0,g=d.length;g>f;++f)h=d[f],i=h.key,k=h.value,j=h.property,h=null,b.push(Qe("array",i.index,a.scope.peek(),[i,k].concat(j?"string"==typeof j?[Ue(c,j)]:[j]:[])));return b}()))}function db(a,b){function c(b,c){return function(d,e){return g.func({left:d,op:b,right:c},a,e)}}var d,e,f,g,h,i;for(d=Cb(a.assignOperators()),e=d.length;e--;)if(g=d[e],i=g.rule,f=i(a,b),f&&(h=Pd(a,f.index)))return sc(h.index,c(f.value,h.value))}function eb(a,b){var c,d;return c=je(a,b),c&&(d=db(a,c.index))?sc(d.index,d.value(c.value,b)):void 0}function fb(a,b){var c,d,e,f,g,h,i;for(c=Cb(a.allBinaryOperators()),d=c.length;d--;)if(i=c[d],g=!1,e=b,i.invertible&&(f=qf(a,b),f.value&&(g=!0),e=f.index),h=i.rule(a,e))return sc(h.index,{op:h.value,operator:i,inverted:g})}function gb(a,b){return a.disallowSpaceBeforeAccess.peek()?sc(b):Vg(a,b)}function hb(a,b){var c;return c=Ge(a,b),c.value.length>0?c:void 0}function ib(a,b){var c,d,e,f,g;for(c=Cb(a),d=0,e=c.length;e>d;++d)g=c[d],g.isInternalCall("syntaxParam")&&(f=g.args[0],f.isSymbol&&f.isIdent&&b.add(f,!0,th.any))}function jb(a,b){var c,d,e,f,g,h,i;if(h=xd(a,b)){for(i=a.source,g=i.length,f=h.index,e=[];g>f;++f){if(d=qd(a,f))return sc(d.index,e);c=i.charCodeAt(f),13===c&&10===i.charCodeAt(+f+1)&&(c=10,++f),e.push(c)}throw kg("Literal text never ends",a,b)}}function kb(a){return a.replace(/\s+/g," ")}function lb(a,b){var c,d,e,f,g,i,j;for(i=a.source,g=i.length,e=b,d=[];g>e;++e)if(f=jb(a,e))e=f.index-1,d=d.concat(f.value);else{if(vd(a,e)||yd(a,e)||wd(a,e))break;c=i.charCodeAt(e),13===c&&10===i.charCodeAt(e+1)&&(c=10,++e),d.push(c)}return e!==b?(j=h(d),a.options.embeddedUnpretty&&(j=kb(j)),sc(e,Qe("embedWrite",b,a.scope.peek(),Ue(b,j),Ue(b,!1)))):void 0}function mb(a,b){var c,d,e,f,g;if(g=wd(a,b)){for(e=g.index,f=a.source.length;f>e;){if(d=pd(a,e)){e=d.index;break}if(c=C(a,e),!c)break;if(e===c.index)throw new Error("Infinite loop detected");e=c.index}return sc(e,Te.nothing(b))}}function nb(a,b,c){var e,f,g,h,i,j,k,l,m;for(l=[],e=Cb(a),i=0,g=e.length;g>i;++i)for(j=e[i],f=Cb(j),k=0,h=f.length;h>k;++k)m=f[k],m.isInternalCall("block")?l.push.apply(l,Cb(m.args)):d(m)||l.push(m);switch(l.length){case 0:return Te.nothing(c);case 1:return l[0];default:return Qe("block",c,b.scope.peek(),l)}}function ob(){return Ye({Logic:wg(Se),Expression:Md,Assignment:eb,ExpressionOrAssignment:Od,ExpressionOrAssignmentOrBody:Pd,FunctionDeclaration:Sd,Statement:_g,Body:mc,BodyNoEnd:nc,GeneratorBody:Wd,GeneratorBodyNoEnd:Xd,End:G,Identifier:ge,SimpleAssignable:ke,Parameter:cg,InvocationArguments:De,ObjectLiteral:Ub,ArrayLiteral:Tb,DedentedBody:Zc,ObjectKey:Pf,Type:uh,NoSpace:Ef,ColonEqual:Kc},$e,Fh,r,v)}var pb,qb,rb,sb,tb,ub,vb,wb,xb,yb,zb,Ab,Bb,Cb,Db,Eb,Fb,Gb,Hb,Ib,Jb,Kb,Lb,Mb,Nb,Ob,Pb,Qb,Rb,Sb,Tb,Ub,Vb,Wb,Xb,Yb,Zb,$b,_b,ac,bc,cc,dc,ec,fc,gc,hc,ic,jc,kc,lc,mc,nc,oc,pc,qc,rc,sc,tc,uc,vc,wc,xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd,id,jd,kd,ld,md,nd,od,pd,qd,rd,sd,td,ud,vd,wd,xd,yd,zd,Ad,Bd,Cd,Dd,Ed,Fd,Gd,Hd,Id,Jd,Kd,Ld,Md,Nd,Od,Pd,Qd,Rd,Sd,Td,Ud,Vd,Wd,Xd,Yd,Zd,$d,_d,ae,be,ce,de,ee,fe,ge,he,ie,je,ke,le,me,ne,oe,pe,qe,re,se,te,ue,ve,we,xe,ye,ze,Ae,Be,Ce,De,Ee,Fe,Ge,He,Ie,Je,Ke,Le,Me,Ne,Oe,Pe,Qe,Re,Se,Te,Ue,Ve,We,Xe,Ye,Ze,$e,_e,af,bf,cf,df,ef,ff,gf,hf,jf,kf,lf,mf,nf,of,pf,qf,rf,sf,tf,uf,vf,wf,xf,yf,zf,Af,Bf,Cf,Df,Ef,Ff,Gf,Hf,If,Jf,Kf,Lf,Mf,Nf,Of,Pf,Qf,Rf,Sf,Tf,Uf,Vf,Wf,Xf,Yf,Zf,$f,_f,ag,bg,cg,dg,eg,fg,gg,hg,ig,jg,kg,lg,mg,ng,og,pg,qg,rg,sg,tg,ug,vg,wg,xg,yg,zg,Ag,Bg,Cg,Dg,Eg,Fg,Gg,Hg,Ig,Jg,Kg,Lg,Mg,Ng,Og,Pg,Qg,Rg,Sg,Tg,Ug,Vg,Wg,Xg,Yg,Zg,$g,_g,ah,bh,ch,dh,eh,fh,gh,hh,ih,jh,kh,lh,mh,nh,oh,ph,qh,rh,sh,th,uh,vh,wh,xh,yh,zh,Ah,Bh,Ch,Dh,Eh,Fh,Gh;Qb=this,pb=function(a,b){var c;if(null==a)throw new TypeError("Expected parent to be an object, got "+Eb(a));if(c=a[b],"function"!=typeof c)throw new Error("Trying to bind child '"+String(b)+"' which is not a function");return function(){return c.apply(a,arguments)}},qb=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},rb=function(a,b){if("function"!=typeof a)throw new TypeError("Expected left to be a Function, got "+Eb(a));if("function"!=typeof b)throw new TypeError("Expected right to be a Function, got "+Eb(b));return function(){return a.call(this,b.apply(this,arguments))}},sb="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},tb=function(a,b){var c;if("number"!=typeof a)throw new TypeError("Expected numArgs to be a Number, got "+Eb(a));if("function"!=typeof b)throw new TypeError("Expected f to be a Function, got "+Eb(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(Bb.call(arguments)))}},c([])):b},ub=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&Lg(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,i=null,c?c.push(h):g?h():Lg(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){b=1,a=c},function(c){b=2,a=c},!0),b){case 0:throw new Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw new Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),vb=function(a,b){function c(c,f){var g;try{g=a[c](f)}catch(h){return ub.rejected(h)}return g.done?ub.fulfilled(g.value):g.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw new TypeError("Expected generator to be an Object, got "+Eb(a));if("function"!=typeof a.send)throw new TypeError("Expected generator.send to be a Function, got "+Eb(a.send));if("function"!=typeof a["throw"])throw new TypeError("Expected generator.throw to be a Function, got "+Eb(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+Eb(b));return d(void 0)},wb=function(a,b){var c;for(c in b)zb.call(b,c)&&(a[c]=b[c]);return a},xb="function"==typeof Array.prototype.indexOf?function(a){return function(b,c){return-1!==a.call(c,b)}}(Array.prototype.indexOf):function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},yb="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),zb=Object.prototype.hasOwnProperty,Ab=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+Eb(b));return"function"==typeof a?(c=function(){return vb(a.apply(this,arguments))},c.sync=function(){return vb(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return vb(a.apply(this,arguments),!0)},c):vb(a,b)},Bb=Array.prototype.slice,Cb=function(a){if(null==a)throw new TypeError("Expected an object, got "+Eb(a));if(yb(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return Bb.call(a);throw new TypeError("Expected an object with a length property, got "+Eb(a))},Db=function(a,b,c){var d,e,f,g;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+Eb(a));return d=ub(),f=d.promise,g=d.reject,e=d.fulfill,d=null,a.apply(b,Cb(c).concat([function(a,b){null!=a?g(a):e(b)}])),f},Eb=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),Lg="function"==typeof c.setImmediate?c.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(a){return function(b){var c;if("function"!=typeof b)throw new TypeError("Expected func to be a Function, got "+Eb(b));return c=Bb.call(arguments,1),c.length?a(function(){b.apply(void 0,Cb(c))}):a(b)}}(process.nextTick):function(a){var b;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+Eb(a));return b=Bb.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,b)},0):setTimeout(a,0)},lg=b("./parser-nodes"),Ue=lg.Value,Ke=lg.Call,Qe=lg.InternalCall,Je=lg.Access,Te=lg.Symbol,Hg=b("./parser-scope"),We=b("./parser-macrocontext"),Ye=b("./parser-macroholder"),th=b("./types"),ch=b("./utils").stringRepeat,Rb=b("./parser-utils").addParamToScope,Mb=b("./utils"),Bg=Mb.quote,Bh=Mb.unique,Zd=Mb.getPackageVersion,Mb=null,kg=function(a){function b(c,e,f){var g,h,i;return g=this instanceof b?this:sb(d),null==c&&(c=""),g.message=c,null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,i=e.getPosition(f),g.line=i.line,g.column=i.column,g.message=c+(" at "+(g.filename?g.filename+":":"")+g.line+":"+g.column)):(g.line=0,g.column=0),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),g}var c,d;return c=a.prototype,d=b.prototype=sb(c),d.constructor=b,b.displayName="ParserError","function"==typeof a.extended&&a.extended(b),d.name="ParserError",b}(Error),Xe=function(a){function b(c,e,f){var g,h,i,j;return g=this instanceof b?this:sb(d),null==c&&(c=""),null==e&&(e=null),null==f&&(f=0),g.index=f,e?(g.source=e.source,g.filename=e.options.filename,j=e.getPosition(f),g.line=j.line,g.column=j.column,i=[],c instanceof a?("Error"!==Eb(c)&&(i.push(Eb(c)),i.push(": ")),i.push(String(c.message))):i.push(String(c)),i.push(" at "),g.filename&&(i.push(String(g.filename)),i.push(":")),g._message=i.join(""),i.push(g.line),i.push(":"),i.push(g.column),g.message=i.join("")):(g.line=0,g.column=0,g._message="",g.message=""),h=a.call(g,g.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(g,b):"stack"in h&&(g.stack=h.stack),c instanceof a&&(g.inner=c),g}var c,d;return c=a.prototype,d=b.prototype=sb(c),d.constructor=b,b.displayName="MacroError","function"==typeof a.extended&&a.extended(b),d.name="MacroError",d.setPosition=function(){},b}(Error),sc=function(){function a(c,d){var e;if(e=this instanceof a?this:sb(b),e.index=c,e.value=d,0!==c%1||0>c)throw new RangeError("Expected index to be a non-negative integer, got "+c);return e}var b;return b=a.prototype,a.displayName="Box",a}(),uc=function(){var a;return a=-1,function(b){function c(a,c){var e,f,g,h,i,j,k,l;return g=a.cache,h=a.indent.peek(),i=null!=(e=g[h])?e:g[h]=[],j=null!=(e=i[f=c%16])?e:i[f]=[],k=j[d],k&&k.start===c?k.result:(l=b(a,c),j[d]={start:c,result:l},l)}var d;return d=++a,c}}(),Qd=function(){var a;return a=String.fromCharCode,function(b){return b>65535?a((b-65536>>10)+55296)+a((b-65536)%1024+56320):a(b)}}(),wf=tb(2,function(a,b){function c(c,d){var e;return e=b(c,d),e?sc(e.index,a(e.value,c,d,e.index)):void 0}return a===e?b:("function"!=typeof a&&(a=f(a)),c.rule=b,c.mutator=a,c)}),Og={},Wg=l("space",j([9,11,12,32,160,5760,6158,[8192,8202],8239,8287,12288,65263])),Xg=uc(o(Wg,!0)),Gh=k('"0"',48),Xc=l("[0-9]",j([[48,57]])),og=k('"."',46),Hc=k('":"',58),hd=uc((Mb=v(Hc,Hc),wf("::")(Mb))),rg=k('"|"',124),Hd=k('"="',61),vf=k('"-"',45),sg=k('"+"',43),tg=l("[+\\-]",j([43,45])),Ne=l("letter",j([[65,90],[97,122],170,181,186,[192,214],[216,246],[248,705],[710,721],[736,740],748,750,[880,884],886,887,[890,893],902,[904,906],908,[910,929],[931,1013],[1015,1153],[1162,1317],[1329,1366],1369,[1377,1415],[1488,1514],[1520,1522],[1569,1610],1646,1647,[1649,1747],1749,1765,1766,1774,1775,[1786,1788],1791,1808,[1810,1839],[1869,1957],1969,[1994,2026],2036,2037,2042,[2048,2069],2074,2084,2088,[2308,2361],2365,2384,[2392,2401],2417,2418,[2425,2431],[2437,2444],2447,2448,[2451,2472],[2474,2480],2482,[2486,2489],2493,2510,2524,2525,[2527,2529],2544,2545,[2565,2570],2575,2576,[2579,2600],[2602,2608],2610,2611,2613,2614,2616,2617,[2649,2652],2654,[2674,2676],[2693,2701],[2703,2705],[2707,2728],[2730,2736],2738,2739,[2741,2745],2749,2768,2784,2785,[2821,2828],2831,2832,[2835,2856],[2858,2864],2866,2867,[2869,2873],2877,2908,2909,[2911,2913],2929,2947,[2949,2954],[2958,2960],[2962,2965],2969,2970,2972,2974,2975,2979,2980,[2984,2986],[2990,3001],3024,[3077,3084],[3086,3088],[3090,3112],[3114,3123],[3125,3129],3133,3160,3161,3168,3169,[3205,3212],[3214,3216],[3218,3240],[3242,3251],[3253,3257],3261,3294,3296,3297,[3333,3340],[3342,3344],[3346,3368],[3370,3385],3389,3424,3425,[3450,3455],[3461,3478],[3482,3505],[3507,3515],3517,[3520,3526],[3585,3632],3634,3635,[3648,3654],3713,3714,3716,3719,3720,3722,3725,[3732,3735],[3737,3743],[3745,3747],3749,3751,3754,3755,[3757,3760],3762,3763,3773,[3776,3780],3782,3804,3805,3840,[3904,3911],[3913,3948],[3976,3979],[4096,4138],4159,[4176,4181],[4186,4189],4193,4197,4198,[4206,4208],[4213,4225],4238,[4256,4293],[4304,4346],4348,[4352,4680],[4682,4685],[4688,4694],4696,[4698,4701],[4704,4744],[4746,4749],[4752,4784],[4786,4789],[4792,4798],4800,[4802,4805],[4808,4822],[4824,4880],[4882,4885],[4888,4954],[4992,5007],[5024,5108],[5121,5740],[5743,5759],[5761,5786],[5792,5866],[5888,5900],[5902,5905],[5920,5937],[5952,5969],[5984,5996],[5998,6e3],[6016,6067],6103,6108,[6176,6263],[6272,6312],6314,[6320,6389],[6400,6428],[6480,6509],[6512,6516],[6528,6571],[6593,6599],[6656,6678],[6688,6740],6823,[6917,6963],[6981,6987],[7043,7072],7086,7087,[7168,7203],[7245,7247],[7258,7293],[7401,7404],[7406,7409],[7424,7615],[7680,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8124],8126,[8130,8132],[8134,8140],[8144,8147],[8150,8155],[8160,8172],[8178,8180],[8182,8188],8305,8319,[8336,8340],8450,8455,[8458,8467],8469,[8473,8477],8484,8486,8488,[8490,8493],[8495,8505],[8508,8511],[8517,8521],8526,8579,8580,[11264,11310],[11312,11358],[11360,11492],[11499,11502],[11520,11557],[11568,11621],11631,[11648,11670],[11680,11686],[11688,11694],[11696,11702],[11704,11710],[11712,11718],[11720,11726],[11728,11734],[11736,11742],11823,12293,12294,[12337,12341],12347,12348,[12353,12438],[12445,12447],[12449,12538],[12540,12543],[12549,12589],[12593,12686],[12704,12727],[12784,12799],[13312,19893],[19968,40907],[40960,42124],[42192,42237],[42240,42508],[42512,42527],42538,42539,[42560,42591],[42594,42606],[42623,42647],[42656,42725],[42775,42783],[42786,42888],42891,42892,[43003,43009],[43011,43013],[43015,43018],[43020,43042],[43072,43123],[43138,43187],[43250,43255],43259,[43274,43301],[43312,43334],[43360,43388],[43396,43442],43471,[43520,43560],[43584,43586],[43588,43595],[43616,43638],43642,[43648,43695],43697,43701,43702,[43705,43709],43712,43714,[43739,43741],[43968,44002],[44032,55203],[55216,55238],[55243,55291],[63744,64045],[64048,64109],[64112,64217],[64256,64262],[64275,64279],64285,[64287,64296],[64298,64310],[64312,64316],64318,64320,64321,64323,64324,[64326,64433],[64467,64829],[64848,64911],[64914,64967],[65008,65019],[65136,65140],[65142,65262],[65264,65276],[65313,65338],[65345,65370],[65382,65470],[65474,65479],[65482,65487],[65490,65495],[65498,65500]])),Nf=l("number",j([[48,57],178,179,185,[188,190],[1632,1641],[1776,1785],[1984,1993],[2406,2415],[2534,2543],[2548,2553],[2662,2671],[2790,2799],[2918,2927],[3046,3058],[3174,3183],[3192,3198],[3302,3311],[3430,3445],[3664,3673],[3792,3801],[3872,3891],[4160,4169],[4240,4249],[4969,4988],[5870,5872],[6112,6121],[6128,6137],[6160,6169],[6470,6479],[6608,6618],[6784,6793],[6800,6809],[6992,7001],[7088,7097],[7232,7241],[7248,7257],8304,[8308,8313],[8320,8329],[8528,8578],[8581,8585],[9312,9371],[9450,9471],[10102,10131],11517,12295,[12321,12329],[12344,12346],[12690,12693],[12832,12841],[12881,12895],[12928,12937],[12977,12991],[42528,42537],[42726,42735],[43056,43061],[43216,43225],[43264,43273],[43472,43481],[43600,43609],[44016,44025],[65296,65305]])),zh=k('"_"',95),fd=k('"$"',36),dc=k('"@"',64),ce=k('"#"',35),ng=k('"%"',37),Jd=k('"="',61),gh=l("symbolic",j([33,35,37,38,42,43,45,47,[60,63],92,94,96,124,126,127,[128,159],[161,169],[171,177],180,[182,184],187,191,215,247,[706,709],[722,735],[741,747],749,[751,879],885,888,889,[894,901],903,907,909,930,1014,[1154,1161],[1318,1328],1367,1368,[1370,1376],[1416,1487],[1515,1519],[1523,1568],[1611,1631],[1642,1645],1648,1748,[1750,1764],[1767,1773],1789,1790,[1792,1807],1809,[1840,1868],[1958,1968],[1970,1983],[2027,2035],[2038,2041],[2043,2047],[2070,2073],[2075,2083],[2085,2087],[2089,2307],[2362,2364],[2366,2383],[2385,2391],[2402,2405],2416,[2419,2424],[2432,2436],2445,2446,2449,2450,2473,2481,[2483,2485],[2490,2492],[2494,2509],[2511,2523],2526,[2530,2533],2546,2547,[2554,2564],[2571,2574],2577,2578,2601,2609,2612,2615,[2618,2648],2653,[2655,2661],2672,2673,[2677,2692],2702,2706,2729,2737,2740,[2746,2748],[2750,2767],[2769,2783],[2786,2789],[2800,2820],2829,2830,2833,2834,2857,2865,2868,[2874,2876],[2878,2907],2910,[2914,2917],2928,[2930,2946],2948,[2955,2957],2961,[2966,2968],2971,2973,[2976,2978],[2981,2983],[2987,2989],[3002,3023],[3025,3045],[3059,3076],3085,3089,3113,3124,[3130,3132],[3134,3159],[3162,3167],[3170,3173],[3184,3191],[3199,3204],3213,3217,3241,3252,[3258,3260],[3262,3293],3295,[3298,3301],[3312,3332],3341,3345,3369,[3386,3388],[3390,3423],[3426,3429],[3446,3449],[3456,3460],[3479,3481],3506,3516,3518,3519,[3527,3584],3633,[3636,3647],[3655,3663],[3674,3712],3715,3717,3718,3721,3723,3724,[3726,3731],3736,3744,3748,3750,3752,3753,3756,3761,[3764,3772],3774,3775,3781,[3783,3791],3802,3803,[3806,3839],[3841,3871],[3892,3903],3912,[3949,3975],[3980,4095],[4139,4158],[4170,4175],[4182,4185],[4190,4192],[4194,4196],[4199,4205],[4209,4212],[4226,4237],4239,[4250,4255],[4294,4303],4347,[4349,4351],4681,4686,4687,4695,4697,4702,4703,4745,4750,4751,4785,4790,4791,4799,4801,4806,4807,4823,4881,4886,4887,[4955,4968],[4989,4991],[5008,5023],[5109,5120],5741,5742,[5787,5791],[5867,5869],[5873,5887],5901,[5906,5919],[5938,5951],[5970,5983],5997,[6001,6015],[6068,6102],[6104,6107],[6109,6111],[6122,6127],[6138,6157],6159,[6170,6175],[6264,6271],6313,[6315,6319],[6390,6399],[6429,6469],6510,6511,[6517,6527],[6572,6592],[6600,6607],[6619,6655],[6679,6687],[6741,6783],[6794,6799],[6810,6822],[6824,6916],[6964,6980],[6988,6991],[7002,7042],[7073,7085],[7098,7167],[7204,7231],[7242,7244],[7294,7400],7405,[7410,7423],[7616,7679],7958,7959,7966,7967,8006,8007,8014,8015,8024,8026,8028,8030,8062,8063,8117,8125,[8127,8129],8133,[8141,8143],8148,8149,[8156,8159],[8173,8177],8181,[8189,8191],[8203,8231],[8234,8238],[8240,8286],[8288,8303],8306,8307,[8314,8318],[8330,8335],[8341,8449],[8451,8454],8456,8457,8468,[8470,8472],[8478,8483],8485,8487,8489,8494,8506,8507,[8512,8516],[8522,8525],8527,[8586,9311],[9372,9449],[9472,10101],[10132,11263],11311,11359,[11493,11498],[11503,11516],11518,11519,[11558,11567],[11622,11630],[11632,11647],[11671,11679],11687,11695,11703,11711,11719,11727,11735,[11743,11822],[11824,12287],[12289,12292],[12296,12320],[12330,12336],12342,12343,[12349,12352],[12439,12444],12448,12539,[12544,12548],[12590,12592],[12687,12689],[12694,12703],[12728,12783],[12800,12831],[12842,12880],[12896,12927],[12938,12976],[12992,13311],[19894,19967],[40908,40959],[42125,42191],42238,42239,[42509,42511],[42540,42559],42592,42593,[42607,42622],[42648,42655],[42736,42774],42784,42785,42889,42890,[42893,43002],43010,43014,43019,[43043,43055],[43062,43071],[43124,43137],[43188,43215],[43226,43249],[43256,43258],[43260,43263],[43302,43311],[43335,43359],[43389,43395],[43443,43470],[43482,43519],[43561,43583],43587,[43596,43599],[43610,43615],[43639,43641],[43643,43647],43696,[43698,43700],43703,43704,43710,43711,43713,[43715,43738],[43742,43967],[44003,44015],[44026,44031],[55204,55215],[55239,55242],[55292,63743],64046,64047,64110,64111,[64218,64255],[64263,64274],[64280,64284],64286,64297,64311,64317,64319,64322,64325,[64434,64466],[64830,64847],64912,64913,[64968,65007],[65020,65135],65141,[65277,65295],[65306,65312],[65339,65344],[65371,65381],[65471,65473],65480,65481,65488,65489,65496,65497,[65501,65535]])),id=k("'\"'",34),Qg=k('"\'"',39),mh=uc(n(id,3,3,!0)),qh=uc(n(Qg,3,3,!0)),Jg=k('";"',59),_b=k('"*"',42),vc=k('"^"',94),ag=k('"["',91),Yf=k('"{"',123),Cc=k('"}"',125),$f=k('"("',40),ec=k('"\\\\"',92),Nc=k('","',44),Ac=r(D,E,function(a,b){return od(a,b)||rd(a,b)
}),of=uc(function(){function a(a,b){var c,d,e;if(e=a.source,47===e.charCodeAt(b)&&47===e.charCodeAt(+b+1))for(d=e.length,b-=-2;;++b)if(b>=d||13===(c=e.charCodeAt(b))||10===c||8232===c||8233===c)return sc(b)}function b(a,b){var c,d,e;if(d=a.source,e=b,47===d.charCodeAt(b)&&42===d.charCodeAt(+b+1)&&33!==d.charCodeAt(+b+2))for(c=d.length,b-=-2;;++b){if(b>=c)throw kg("Multi-line comment never ends",a,e);if(42===d.charCodeAt(b)&&47===d.charCodeAt(+b+1))return Vg(a,+b+2)}}return q(r(a,b))}()),Vg=uc(v(Xg,of)),Ef=uc(A(Wg)),Dd=uc(F(D)),Ed=uc(o(Dd,!0)),Tg=uc(p(Dd,!0)),Fd=v(Ed,Vg),Ff=A(Dd),Zf=uc(F(k('"("',40))),Ec=uc(F(k('")"',41))),_f=uc(F(ag)),Fc=uc(F(k('"]"',93))),Xf=uc(F(Yf)),Bc=uc(F(Cc)),Id=F(Jd),mg=uc(F(ng)),ed=uc(F(fd)),Mc=uc(F(Nc)),mf=uc(q(Mc)),Oc=r(v(["this",Mc],Ed),Tg),nf=uc(q(Oc)),Ob=v(Tg,K),Ug=uc(function(a,b){return a.options.noindent?Ed(a,b):Ob(a,b)}),Pc=uc(r(v(Mc,q(Ug)),Ug)),Ld=uc(k('"!"',33)),pf=uc(q(Ld)),lf=uc(q(dc)),Gc=uc(v(Vg,["this",Hc],A(Hc))),Lc=uc(v(Gc,Vg,["this",D])),Gf=uc(A(Gc)),Hf=uc(function(a,b){var c;if(c=a.options,c.noindent){if(Lc(a,b))return sc(b);if(c.embedded&&(Ic(a,b)||Jc(a,b)))return sc(b)}return Gf(a,b)}),Bf=uc(r(Ne,zh,fd)),yf=uc(r(Bf,Nf)),Af=uc(p(yf)),Lf=uc(function(a,b){return sc(b,Te.nothing(b))}),Md=function(a,b){return Md(a,b)},_g=function(a,b){return _g(a,b)},mc=function(a,b){return mc(a,b)},nc=function(a,b){return nc(a,b)},Se=function(a,b){return Se(a,b)},Kb=uc((Mb=z(w(Bf,o(yf)),vf,Af),wf(function(a){var b,c,d,e,f;for(f=g(a[0]),b=Cb(a),c=1,d=b.length;d>c;++c)e=b[c],f.push(Qd(e[0]).toUpperCase()),g(e,f,1);return f.join("")})(Mb))),xf=uc(F(Kb)),Pb=uc((Mb=p(gh),wf(h)(Mb))),eh=uc(F(Pb)),Kc=uc(F((Mb=v(Hc,Jd),wf(":=")(Mb)))),zf=uc(F(r((Mb=F(t(Kb,Pb)),wf(function(a){return a.join("")})(Mb)),Kc))),Ze=uc(F(v(["this",zf],Hf))),_e=z(Ze,Mc),Dh=uc(function(a,b){var c,d,e;if(d=Ze(a,b),d&&(c=a.getMacroByName(d.value))){if(e=c(a,b),!e)throw Og;return e}}),Eh=I(function(a){return H(xf,a)}),fh=I(function(a){return H(eh,a)}),$e=I(function(a){return H(Ze,a)}),Fh=I(function(a){var b,c,d,e,f,g;for(g=[Vg],b=a.split(/([a-z]+)/gi),e=0,c=b.length;c>e;++e)f=b[e],f&&g.push(H(0===e%2?Pb:Kb,f));return d=v.apply(void 0,g),wf(a)(d)}),Lb=sb(null),Lb[9]=4,Lb[32]=1,we=Lb,Mb=o(Wg),Uc=wf(function(a){var b,c,d,e,f;for(e=0,b=Cb(a),c=b.length;c--;){if(d=b[c],f=we[d],!f)throw new Error("Unexpected indent char: "+JSON.stringify(d));e+=+f}return e})(Mb),hh=uc((Mb=Eh("this"),wf(function(a,b,c){return Te.ident(c,b.scope.peek(),"this")})(Mb))),kh=uc((Mb=F(dc),wf(function(a,b,c){return Te.ident(c,b.scope.peek(),"this")})(Mb))),Vb=uc((Mb=Eh("arguments"),wf(function(a,b,c){return Te.ident(c,b.scope.peek(),"arguments")})(Mb))),ih=uc(r(hh,kh)),jh=r(v(["this",hh],og),v(["this",kh],q(og))),$d=function(){var a,b;return a=["as","AST","arguments","break","case","catch","class","const","continue","debugger","default","delete","do","else","enum","eval","export","extends","false","finally","for","function","if","import","Infinity","instanceof","in","let","macro","mutable","NaN","new","not","null","package","private","protected","public","return","static","super","switch","then","this","throw","true","try","typeof","undefined","var","void","while","with","yield"],b=a.concat(["end"]).sort(),function(c){return c&&c.noindent?b:a}}(),Zg=uc(F((Mb=v(og,og,og),wf("...")(Mb)))),sf=uc(q(Zg)),Yg=uc((Mb=v(["spread",sf],["node",Md]),wf(function(a,b,c){var d,e;return e=a.spread,d=a.node,"..."===e?Qe("spread",c,b.scope.peek(),d):d})(Mb))),Sb=rb(i("disallowSpaceBeforeAccess",0),i("insideIndentedAccess",!1)),Dc=uc(v($f,Vg,["this",Sb(x(q(v(["this",z(Yg,Mc)],mf),function(){return[]}),q(P(v(Tg,M,["this",q(v(K,["this",z(Yg,Pc)]),function(){return[]})],Ed,nf,O)),function(){return[]})))],Ec)),vh=uc(Q(v(r(v(Wg,Vg),u(D)),["this",x(z(Yg,Mc),r(v(J,Mc,Tg,["this",P(v(L,K,["this",z(Yg,Pc)],mf,O))]),wf(function(){return[]})(mf)))]))),De=uc(r(Dc,vh)),ge=uc(r((Mb=v(function(a,b){return a.inAst.peek()?sc(b):void 0},ed,Ef,["this",De]),wf(function(a,b,c){return Ke(c,b.scope.peek(),Te.ident(c,b.scope.peek(),"$"),a)})(Mb)),function(a,b){var c;return c=xf(a,b),!c||xb(c.value,$d(a.options))||a.hasMacroOrOperator(c.value||a.scope.peek().hasConst(c.value))?a.fail("identifier",b):sc(c.index,Te.ident(b,a.scope.peek(),c.value))})),tf=uc(o(zh,!0)),Yc=uc(function(){var a,b,c;return c=R(Xc),a=v(["integer",c],["fraction",q(v(tf,og,tf,["this",c]),"")],["exponent",q((b=v(l("[Ee]",j([69,101])),["sign",q(tg)],["digits",c]),wf(function(a){var b,c,d;return c=a.e,d=a.sign,b=a.digits,(d?Qd(d):"")+b})(b)),"")],q(v(zh,q(Af)))),wf(function(a,b,c,d){var e,f,g,h;if(g=a.integer,f=a.fraction,e=a.exponent,h=S(g,f,10,e?parseInt(e,10):0),!isFinite(h))throw kg("Unable to parse number "+Bg(b.source.substring(c,d)),b,c);return Ue(c,h)})(a)}()),de=l("[0-9A-Fa-f]",j([[48,57],[65,70],[97,102]])),fe=uc(T(16,l("[Xx]",j([88,120])),de)),Vf=l("[0-7]",j([[48,55]])),Wf=uc(T(8,l("[Oo]",j([79,111])),de)),ic=l("[01]",j([48,49])),jc=uc(T(2,l("[Bb]",j([66,98])),de)),Cg=uc(function(){function a(a){var c,d,e,f,g,h,i;if(null==(d=b[a])){switch(a){case 2:e=ic;break;case 8:e=Vf;break;case 10:e=Xc;break;case 16:e=de;break;default:for(i=sb(null),f=0,c=a>10?+a:10;c>f;++f)i[f+48]=!0;for(f=0,c=(a>36?+a:36)-10;c>f;++f)i[f+65]=!0,i[f+97]=!0;h=["[0-"],h.push(String.fromCharCode((a>9?+a:9)+48)),a>=10&&(g=(a>36?+a:36)-10,h.push("A-"),h.push(String.fromCharCode(g+65)),h.push("a-"),h.push(String.fromCharCode(g+97))),h.push("]"),e=l(h.join(""),i)}return b[a]=R(e)}return d}var b,c,d;return b=[],d=n(Xc,1,2),c=l("[Rr]",j([82,114])),function(b,e){var f,g,i,j,k,l,m,n,o,p,q;if(l=d(b,e),l&&(n=h(l.value),o=c(b,l.index))){if(m=parseInt(n,10),!isFinite(m))throw kg("Unable to parse radix "+Bg(n),b,e);if(2>m)throw kg("Radix must be at least 2, got "+m,b,e);if(m>36)throw kg("Radix must be at most 36, got "+m,b,e);if(g=a(m),j=g(b,o.index),!j)throw b.fail("integer after radix",o.index),Og;if(f=tf(b,j.index).index,k=og(b,f),k&&(i=g(b,tf(b,k.index).index),i&&(q=S(j.value,i.value,m),f=i.index)),null==q&&(q=S(j.value,"",m)),!isFinite(q))throw kg("Unable to parse number "+Bg(b.source.substring(e,f)),b,e);return p=tf(b,f),sc(p.index,Ue(e,q))}}}()),Of=uc(F(r(fe,Wf,jc,Cg,Yc))),he=uc(function(a,b){var c;return c=xf(a,b),c?sc(c.index,Ue(b,c.value)):void 0}),ie=uc(r(he,Of)),Mb=v(k('"x"',120),Og,["this",n(de,2,2)]),ee=wf(function(a){return parseInt(h(a),16)})(Mb),Ah=v(k('"u"',117),Og,["this",r((Mb=n(de,4,4),wf(function(a){return parseInt(h(a),16)})(Mb)),(Mb=v(Yf,["this",n(de,1,6)],Cc),wf(function(a,b,c){var d,e;if(d=h(a),e=parseInt(d,16),e>1114111)throw kg("Unicode escape sequence too large: '\\u{"+d+"}'",b,c);return e})(Mb)))]),Pg=function(){var a,b;return a=sb(null),a[98]=8,a[102]=12,a[114]=13,a[110]=10,a[116]=9,a[118]=11,b=a,r(wf(0)(Gh),wf(function(a){return b[a]||a})(C))}(),fc=v(ec,Og,["this",r(ee,Ah,Pg)]),ye=i("position","expression"),Ce=i("position","statement"),Zb=ye(function(a,b){return eb(a,b)}),Od=uc(r(Zb,Md)),Pd=uc(r(Od,mc)),ah=v(fd,Ef,Og,["this",r(Z,ge,v(Zf,["this",Sb(r(Md,Lf))],Ec))]),Rg=uc((Mb=v(Qg,Og,["this",s(fc,B(r(Qg,D)))],Qg),wf(function(a,b,c){return Ue(c,h(a))})(Mb))),ld=s(fc,ah,B(r(id,D))),kd=uc((Mb=v(id,Og,["this",ld],id),wf(function(a,b,c){var d,e,f,g,h,i;for(d=[],e=U(a,b,c),f=0,g=e.length;g>f;++f)h=e[f],h.isConstValue("")||d.push(h);return i=d,V(b,c,i)})(Mb))),jd=uc((Mb=v(ng,id,Og,["this",ld],id),wf(function(a,b,c){var d;return d=U(a,b,c),Qe("array",c,b.scope.peek(),d)})(Mb))),lh="function"==typeof String.prototype.trimRight?function(a){return a.trimRight()}:function(a){return a.replace(/\s+$/,"")},Mb=s(fc,B(r(qh,D))),rh=wf(function(a){return[lh(h(a))]})(Mb),Mb=s(fc,ah,B(r(mh,D))),oh=wf(function(a){var b,c,e,f,g,i;for(i=[],f=[],b=Cb(a),c=0,e=b.length;e>c;++c)g=b[c],"number"==typeof g?f.push(g):d(g)||(f.length>0&&(i.push(h(f)),f=[]),i.push(g));return f.length>0&&i.push(lh(h(f))),i})(Mb),sh=uc(Y(qh,rh)),ph=uc(Y(mh,oh)),nh=uc((Mb=v(ng,mh,Og,["first",oh],["numEmptyLines",o(v(Vg,["this",D]),!0)],["rest",q(P(v(M,["this",q(v(W,["this",z(oh,v(D,W))]),function(){return[]})],q(D),O)),function(){return[]})],mh),wf(function(a,b,c){var d;return d=X(a,b,c),Qe("array",c,b.scope.peek(),d)})(Mb))),gc=uc(v(ec,Ef,["this",he])),bh=uc(F(r(gc,sh,ph,nh,Rg,kd,jd))),Dg=function(){var a,b,c,e,f,g,i;return c=k('"r"',114),a=o(yf),g=wf(h)(a),e={},a=v(ce,o(B(D),!0)),f=wf(e)(a),a=r(Wg,D),i=wf(e)(a),F((a=v(c,["text",r(v(mh,Og,["this",s((b=v(ec,fd),wf(36)(b)),i,f,ah,B(mh))],mh),v(qh,Og,["this",s(i,f,B(qh))],qh),v(id,Og,["this",s((b=v(id,id),wf(34)(b)),(b=v(ec,fd),wf(36)(b)),ah,B(r(id,D,fd)))],id),v(Qg,Og,["this",s((b=v(Qg,Qg),wf(39)(b)),B(r(Qg,D)))],Qg))],["flags",g]),wf(function(a,b,c){var f,g,i,j,k,l,m,n,o,p;for(p=a.text,l=a.flags,o=[],j=[],f=Cb(p),g=0,i=f.length;i>g;++g)m=f[g],"number"==typeof m?j.push(m):m===e||d(m)||(j.length>0&&(o.push(Ue(c,h(j))),j=[]),o.push(m));if(j.length>0&&o.push(Ue(c,h(j))),p=V(b,c,o),p.isConst())try{new RegExp(String(p.constValue()))}catch(q){throw kg(q.message,b,c)}for(n=[],f=Cb(l),g=0,i=f.length;i>g;++g){if(k=f[g],xb(k,n))throw kg("Invalid regular expression: flag "+Bg(k)+" occurred more than once",b,c);if("g"!==k&&"i"!==k&&"m"!==k&&"y"!==k)throw kg("Invalid regular expression: unknown flag "+Bg(k),b,c);n.push(k)}return Qe("new",c,b.scope.peek(),Te.ident(c,b.scope.peek(),"RegExp"),p,Ue(c,l))})(a)))}(),Rc=r(v(og,["this",ie]),v(ag,["this",Sb(Md)],Fc)),Qc=uc(r(Z,Of,bh,Dg)),Re=uc(r(ih,Vb,Qc)),qf=uc(q(Eh("not"))),rf=uc(q(k('"?"',63))),Wd=i("inGenerator",!0)(mc),Xd=i("inGenerator",!0)(nc),Me=k('"<"',60),Le=F(Me),be=k('">"',62),ae=F(be),Td=uc(v(Vg,vf,be)),Hb=r(v(Td,["this",r(_g,Lf)]),mc,_g),Rd=i("inGenerator",!1)(Hb),Yd=i("inGenerator",!0)(Hb),me=r(ge,(Mb=v(["parent",jh],["child",ie]),wf(function(a,b,c){var d,e;return e=a.parent,d=a.child,Je(c,b.scope.peek(),e,d)})(Mb)),(Mb=v(["parent",ih],hd,["child",ie]),wf(function(a,b,c){var d,e;return e=a.parent,d=a.child,Je(c,b.scope.peek(),e,Ue(c,"prototype"),d)})(Mb)),(Mb=v(["parent",ih],["isProto",q(hd)],ag,["child",Sb(Md)],Fc),wf(function(a,b,c){var d,e,f;return f=a.parent,e=a.isProto,d=a.child,e?Je(c,b.scope.peek(),f,Ue(c,"prototype"),d):Je(c,b.scope.peek(),f,d)})(Mb))),pg=uc(r(og,hd)),Mb=r(v(["type",pg],["child",ie]),v(["type",q(hd)],ag,["child",Sb(Md)],Fc)),le=wf(function(a,b,c){var d,e,f;return f=a.type,d=a.child,e="::"===f,function(a,b,f){return e?Je(f,b.scope.peek(),a,Ue(c,"prototype"),d):Je(f,b.scope.peek(),a,d)}})(Mb),ke=uc((Mb=v(["head",me],["tail",o(le)]),wf(function(a,b,c){var d,e,f,g,h;for(g=a.head,d=Cb(a.tail),e=0,f=d.length;f>e;++e)h=d[e],g=h(g,b,c);return g})(Mb))),ze=i("inFunctionTypeParams",!0),Mf=i("inFunctionTypeParams",!1),uh=function(a,b){return uh(a,b)},Yb=uc((Mb=v(_f,["this",q(Sb(uh))],Fc),wf(function(a,b,c){var d;return d=Te.ident(c,b.scope.peek(),"Array"),a?Qe("typeGeneric",c,b.scope.peek(),d,a):d})(Mb))),Uf=v(["key",function(a,b){return Sc(a,b)}],Gc,["value",uh]),Tf=uc((Mb=v(Xf,["this",Sb(q(z(Uf,Oc),function(){return[]}))],mf,Bc),wf(function(a,b,c){var d,e,f,g,h,i,j,k,l;if(0===a.length)return Te.ident(c,b.scope.peek(),"Object");for(j=[],h=[],d=Cb(a),e=0,f=d.length;f>e;++e){if(g=d[e],i=g.key,l=g.value,g=null,!i.isConst())throw kg("Expected a constant key, got "+Eb(i),b,i.index);if(k=String(i.constValue()),xb(k,j))throw kg("Duplicate object key: "+Bg(k),b,i.index);j.push(k),h.push(i,l)}return Qe("typeObject",c,b.scope.peek(),h)})(Mb))),Mb=v(r(v(Zf,Sb(z(uh,Oc)),Ec),ze(uh),Lf),Td,["this",q(uh)]),Vd=wf(function(a,b,c){var d;return d=Te.ident(c,b.scope.peek(),"Function"),a?Qe("typeGeneric",c,b.scope.peek(),d,a):d})(Mb),Df=r(function(a,b){return a.inFunctionTypeParams.peek()?void 0:Vd(a,b)},v(Zf,["this",Sb(Mf(function(a,b){return uh(a,b)}))],Ec),Yb,Tf,$,(Mb=v(["base",ke],["args",q(v(k('"<"',60),Og,["this",z(function(a,b){return uh(a,b)},Mc)],Vg,k('">"',62)),function(){return[]})]),wf(function(a,b,c){var d,e;return e=a.base,d=a.args,d.length?Qe("typeGeneric",c,b.scope.peek(),[e].concat(Cb(d))):e})(Mb))),qg=uc(F(rg)),uh=uc((Mb=z(Df,qg),wf(function(a,b,c){var d,e,f,g,h;for(g=[],d=Cb(a),f=0,e=d.length;e>f;++f)h=d[f],h.isInternalCall("typeUnion")?g.push.apply(g,Cb(h.args)):g.push(h);return 1===g.length?g[0]:Qe("typeUnion",c,b.scope.peek(),g)})(Mb))),kf=q(v(Eh("as"),Og,["this",uh])),tc=uc(v(_f,["this",Sb(Od)],Fc)),Sc=r(bh,wf(function(a,b,c){return Ue(c,String(a.constValue()))})(Of),he),Pf=uc(r(tc,Sc)),Qf=uc(v(["this",Pf],Gc,A(Hd),function(a,b){if(a.options.noindent){if(Dd(a,b))return;if(a.options.embedded&&(od(a,b)||rd(a,b)))return}return sc(b)})),ne=r(ge,(Mb=v(["parent",jh],["child",he]),wf(function(a,b,c){var d,e;return e=a.parent,d=a.child,Je(c,b.scope.peek(),e,d)})(Mb))),Mb=v(["isMutable",m(q(Eh("mutable")))],["isSpread",m(sf)],["ident",ne],["asType",kf],["defaultValue",q(v(Id,["this",Md]))]),oe=wf(function(a,b,c){var d,e,f,g,h;if(g=a.isMutable,h=a.isSpread,f=a.ident,d=a.asType,e=a.defaultValue,h&&e)throw kg("Cannot specify a default value for a spread parameter",b,c);return Qe("param",c,b.scope.peek(),f,e||Te.nothing(c),Ue(c,h),Ue(c,g),d||Te.nothing(c))})(Mb),cg=function(a,b){return cg(a,b)},Mb=v(_f,Ed,["this",Sb(function(a,b){return eg(a,b)})],Ed,Fc),Xb=wf(function(a,b,c){return Qe("array",c,b.scope.peek(),a)})(Mb),bg=v(["key",Qf],["value",cg]),Mb=v(["this",oe],Gf),gg=wf(function(a,b,c){var d,e;if(d=a.args[0],d.isSymbol&&d.isIdent)e=Ue(c,d.name);else{if(!d.isInternalCall("access"))throw new Error("Unknown object key type: "+Eb(d));e=d.args[1]}return{key:e,value:a}})(Mb),Ie=q(r(bg,gg)),Mb=v(Xf,Ed,["this",Sb(z(Ie,Oc))],Ed,Bc),Sf=wf(function(a,b,c){return cb(b,c,Te.nothing(c),function(){var b,c,d,e,f;for(b=[],c=Cb(a),d=0,e=c.length;e>d;++d)f=c[d],f&&b.push(f);return b}())})(Mb),cg=r(oe,Xb,Sf),dg=r(cg,Lf),eg=Sb((Mb=z(dg,Oc),wf(function(a,b){return ab(bb(a),b)})(Mb))),Mb=v(Zf,Og,Ed,["this",eg],Ed,Ec),fg=wf(function(){function a(b,c,e){var f,g,h,i,j,k,l,m;if(b.isInternalCall())if(b.func.isParam){if(k=b.args[0],k.isSymbol&&k.isIdent)l=k.name;else{if(!k.isInternalCall("access"))throw new Error("Unknown param ident type: "+Eb(b));if(i=k.args[1],!i.isConstType("string"))throw new Error("Expected constant access");l=i.constValue()}if(xb(l,e))throw kg("Duplicate parameter name: "+Bg(l),c,k.index);e.push(l)}else if(b.func.isArray)for(f=Cb(b.args),g=0,h=f.length;h>g;++g)j=f[g],a(j,c,e);else{if(!b.func.isObject)throw new Error("Unknown param type: "+Eb(b));for(f=Cb(b.args),g=1,h=f.length;h>g;++g)m=f[g],a(m.args[1],c,e)}else if(!d(b))throw new Error("Unknown param type: "+Eb(b))}return function(b,c){var d,e,f,g,h;for(g=[],d=Cb(b),e=0,f=d.length;f>e;++e)h=d[e],a(h,c,g);return b}}())(Mb),Eg=i("requireParameterSequence",!0),gd=i("requireParameterSequence",!1),Ib=function(){function a(a){return a?Yd:Rd}var b,c,d,e,f,g;return d=r(Ld,dc,_b,vc),b=o(d),e=wf(function(a,b,c){var d,e,f,g,h,i;for(h={autoReturn:!0,bound:!1,generator:!1,curry:!1},i=[],d=Cb(a),e=0,f=d.length;f>e;++e){if(g=d[e],xb(g,i))throw kg("Function flag "+Bg(Qd(g))+" specified more than once",b,c);switch(i.push(g),g){case 33:h.autoReturn=!1;break;case 64:h.bound=!0;break;case 42:h.generator=!0;break;case 94:h.curry=!0;break;default:throw new Error("Unknown function flag: "+Bg(Qd(g)))}}return h})(b),f=q(v(Me,["this",z(ge,Mc)],ae),function(){return[]}),g=q(fg,function(){return[]}),c=ze(kf),Sb(function(b,d){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;if(o=f(b,d),u=b.pushScope(!0),s=b.requireParameterSequence.peek()?fg:g,r=s(b,o.index),!r)return b.popScope(),void 0;for(h=Cb(r.value),i=h.length;i--;)q=h[i],Rb(u,q);if(l=e(b,r.index),m=l.value,j=c(b,l.index),k=a(l.value.generator)(b,j.index),!k)return b.popScope(),void 0;if(n=Qe("function",d,b.scope.peek(),Qe("array",d,b.scope.peek(),r.value),m.autoReturn?Qe("autoReturn",k.value.index,k.value.scope,k.value):k.value,Ue(d,m.bound),j.value||Te.nothing(d),Ue(d,m.generator)),t=_(n,b,d),m.curry&&r.value.length>1&&(t=Ke(d,b.scope.peek(),Te.ident(d,b.scope.peek(),"__curry"),Ue(d,r.value.length),t)),o.value.length){if(p=b.getMacroByLabel("generic"),!p)throw kg("Cannot use generics until the generic macro has been defined",b,d);t=p.func({macroData:[t,o.value]},b,d)}return b.popScope(),sc(k.index,t)})}(),Sd=Eg(Ib),Ud=uc(v(Vg,ce,["this",gd(Ib)])),wg=i("preventUnclosedObjectLiteral",!0),Wb=uc(wg((Mb=v(_f,Vg,["this",Sb(x(q(v(["this",z(Yg,Mc)],mf),function(){return[]}),q(P(v(Tg,M,["this",q(v(K,["this",z(Yg,Pc)]),function(){return[]})],Ed,nf)),function(){return[]})))],Fc),wf(function(a,b,c){return Qe("array",c,b.scope.peek(),a)})(Mb)))),Mg=uc((Mb=v(mg,u(ag),Og,["this",Wb]),wf(function(a,b,c){var d;if(d=b.getMacroByLabel("constructSet"),!d)throw new Error("Cannot use literal set until the construct-set macro has been defined");return d.func({op:"",node:a},b,c)})(Mb))),Cf=uc(function(a,b){return a.options.noindent?Ff(a,b):sc(b)}),md=v(["key",Qf],Cf,["value",Md]),_d=uc(r(Eh("get"),Eh("set"))),yg=uc(v(["property",r(Eh("property"),_d)],Vg,["key",Qf],Cf,Og,["value",Md])),zg=uc(r(yg,md)),uf=v(["property",q(_d)],["key",Pf],Gf,["value",Sd]),Ag=r(zg,uf),xh=uc((Mb=z(zg,Mc),wf(function(a,b,c){return cb(b,c,Te.nothing(c),a)})(Mb))),je=uc(function(a,b){var c,d;return c=Jb(a,b),c&&(d=c.value,d.isSymbol&&d.isIdent||d.isInternalCall("access"))?c:void 0}),Sg=r((Mb=v(["this",je],Gf),wf(function(a,b,c){var d;if(a.isSymbol&&a.isIdent)d=Ue(c,a.name);else{if(!a.isInternalCall("access"))throw kg("Unknown ident type: "+Eb(a),b,c);d=a.args[1]}return{key:d,value:a}})(Mb)),(Mb=v(["this",Qc],Gf),wf(function(a,b,c){var d;return d=a.isConst()&&!a.isConstType("string")?Ue(c,String(a.value)):a,{key:d,value:a}})(Mb)),(Mb=v(["this",hh],Gf),wf(function(a,b,c){return{key:Ue(c,"this"),value:a}})(Mb)),(Mb=v(["this",Vb],Gf),wf(function(a,b,c){return{key:Ue(c,"arguments"),value:a}})(Mb)),(Mb=v(["this",tc],Gf),wf(function(a){return{key:a,value:a}})(Mb))),He=uc(r(Ag,(Mb=v(Vg,["flag",q(tg)],["key",Sg]),wf(function(a,b,c){var d,e;return d=a.flag,e=a.key,d?{key:e.key,value:Ue(c,43===d)}:e})(Mb)),(Mb=v(Vg,["bool",tg],["key",he]),wf(function(a,b,c){var d,e;return d=a.bool,e=a.key,{key:e,value:Ue(c,43===d)}})(Mb)))),Rf=uc(Sb((Mb=v(Xf,Vg,["prototype",q(v(Eh("extends"),["this",wg(Se)],Vg,r(Mc,u(D),u(Bc))))],["pairs",x(q(v(["this",z(He,Mc)],mf),function(){return[]}),q(P(v(Tg,M,["this",q(v(K,["this",z(He,Pc)]),function(){return[]})],O)),function(){return[]}))],Ed,nf,Ed,Bc),wf(function(a,b,c){var d,e;return e=a.prototype,d=a.pairs,cb(b,c,e,d)})(Mb)))),jf=uc((Mb=v(mg,Yf,Og,Vg,["this",Sb(x(q(v(["this",z(md,Mc)],mf),function(){return[]}),q(P(v(Tg,M,["this",q(v(K,["this",z(md,Pc)]),function(){return[]})],O)),function(){return[]})))],Ed,nf,Ed,Bc),wf(function(a,b,c){var d;if(d=b.macros.getByLabel("constructMap"),!d)throw new Error("Cannot use literal map until the construct-map macro has been defined");return d.func({op:"",node:cb(b,c,Te.nothing(c),a)},b,c)})(Mb))),Wc=function(){function a(a,b,c){var d,e,f,g,h;return f=a.rule(b,c),f&&(d=Ec(b,f.index))?(e=Te.ident(c,b.scope.peek(),"x"),h=b.pushScope(!0),h.add(e,!1,th.any),g=_(Qe("function",c,b.scope.peek(),Qe("array",c,b.scope.peek(),Qe("param",c,b.scope.peek(),e,Te.nothing(c),Ue(c,!1),Ue(c,!1),Te.nothing(c))),Qe("autoReturn",c,b.scope.peek(),a.func({op:f.value,node:e},b,c)),Ue(c,!1),Te.nothing(c),Ue(c,!1)),b,c),b.popScope(),sc(d.index,g)):void 0}function b(a,b,c){var d,e,f,g,h,i,j,k;return f=!1,a.invertible&&(e=qf(b,c),e.value&&(f=!0),c=e.index),h=a.rule(b,c),h&&(d=Ec(b,h.index))?(g=Te.ident(c,b.scope.peek(),"x"),j=Te.ident(c,b.scope.peek(),"y"),k=b.pushScope(!0),k.add(g,!1,th.any),k.add(j,!1,th.any),i=_(Qe("function",c,b.scope.peek(),Qe("array",c,b.scope.peek(),function(){var a,d,e,f,h;for(a=[],d=[g,j],e=0,f=d.length;f>e;++e)h=d[e],a.push(Qe("param",c,b.scope.peek(),h,Te.nothing(c),Ue(c,!1),Ue(c,!1),Te.nothing(c)));return a}()),Qe("autoReturn",c,b.scope.peek(),a.func({left:g,inverted:f,op:h.value,right:j},b,c)),Ue(c,!1),Te.nothing(c),Ue(c,!1)),b,c),b.popScope(),sc(d.index,Ke(c,b.scope.peek(),Te.ident(c,b.scope.peek(),"__curry"),Ue(c,2),i))):void 0}return function(c,d){var e,f,g,h;for(e=Cb(c.allBinaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=b(h,c,d)))return g;for(e=Cb(c.prefixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g;for(e=Cb(c.postfixUnaryOperators()),f=e.length;f--;)if(h=e[f],null!=(g=a(h,c,d)))return g}}(),hg=uc(Sb(v(Zf,["this",r(v(["this",Zb],Ec),(Mb=v(["left",Md],["operator",q(fb)],Ec),wf(function(a,b,c){var d,e,f,g,h;return d=a.left,(e=a.operator)?(h=b.pushScope(!0),g=b.makeTmp(c,"x"),f=_(Qe("function",c,b.scope.peek(),Qe("array",c,b.scope.peek(),Qe("param",c,b.scope.peek(),g,Te.nothing(c),Ue(c,!1),Ue(c,!1),Te.nothing(c))),Qe("autoReturn",c,b.scope.peek(),e.operator.func({left:d.rescope(h),inverted:e.inverted,op:e.op,right:g},b,c)),Ue(c,!1),Te.nothing(c),Ue(c,!1)),b,c),b.popScope(),f):d})(Mb)),Wc,(Mb=v(["operator",fb],["right",Md],Ec),wf(function(a,b,c){var d,e,f,g,h,i,j,k;return j=a.right,d=a.operator,g=d.op,h=d.operator,e=d.inverted,k=b.pushScope(!0),f=b.makeTmp(c,"x"),i=_(Qe("function",c,b.scope.peek(),Qe("array",c,b.scope.peek(),Qe("param",c,b.scope.peek(),f,Te.nothing(c),Ue(c,!1),Ue(c,!1),Te.nothing(c))),Qe("autoReturn",c,b.scope.peek(),h.func({left:f,inverted:e,op:g,right:j.rescope(k)},b,c)),Ue(c,!1),Te.nothing(c),Ue(c,!1)),b,c),b.popScope(),i})(Mb)),(Mb=v(["this",hb],Ec),wf(function(a,b,c){var d,e,f;return f=b.pushScope(!0),d=b.makeTmp(c,"o"),e=_(Qe("function",c,b.scope.peek(),Qe("array",c,b.scope.peek(),Qe("param",c,b.scope.peek(),d,Te.nothing(c),Ue(c,!1),Ue(c,!1),Te.nothing(c))),Qe("autoReturn",c,b.scope.peek(),Tc(!1,{type:"normal",existential:!1,node:d},a,b,c).rescope(f)),Ue(c,!1),Te.nothing(c),Ue(c,!1)),b,c),b.popScope(),e})(Mb)))]))),Vc=uc(function(a,b){var c;return a.asterixAsArrayLength.peek()&&(c=_b(a,b))?sc(c.index,Te.ident(b,a.scope.peek(),"__currentArrayLength")):void 0}),ve=uc((Mb=z(zg,Pc),wf(function(a,b,c){return cb(b,c,Te.nothing(c),a)})(Mb))),yh=uc(function(a,b){return a.preventUnclosedObjectLiteral.peek()?void 0:sc(b)}),ue=uc(v(yh,J,Vg,D,Ed,["this",P(v(L,K,["this",ve],O))])),wh=v(_b,Vg,["this",r(P(v(N(2),["this",r(ve,function(a,b){return te(a,b)},Yg)])),Yg)]),te=uc((Mb=z(wh,v(mf,Ug)),wf(function(a,b,c){return Qe("array",c,b.scope.peek(),a)})(Mb))),se=uc(v(yh,J,Vg,D,Ed,["this",P(v(L,K,["this",te],O))])),qe=i("inAst",!0),xe=i("inEvilAst",!0),bc=q(v($f,["this",Md],Ec)),ac=v(Eh("ASTE"),Og,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw kg("Can only use ASTE inside of another AST",a,b);return sc(b)}throw kg("Can only use ASTE inside of a macro",a,b)},["position",bc],["body",function(){var a,b;return b=qe(Od),a=xe(b),function(c,d){var e;return e=Ld(c,d),e?a(c,e.index):b(c,d)}}()]),cc=v(Eh("AST"),Og,function(a,b){if(a.inMacro.peek()){if(a.inAst.peek())throw kg("Can only use AST inside of another AST",a,b);return sc(b)}throw kg("Can only use AST inside of a macro",a,b)},["position",bc],["body",function(){var a,b;return b=qe(r(mc,_g)),a=xe(b),function(c,d){var e;return e=Ld(c,d),e?a(c,e.index):b(c,d)}}()]),$b=uc((Mb=r(ac,cc),wf(function(a,b,c){var d,e;if(e=a.position,d=a.body,e&&"number"!=typeof e.index)throw kg("Unexpected position node in AST",b,c);return We.constifyObject(e,d,c,b.scope.peek())})(Mb))),xg=uc(r(xh,Re,Wb,Rf,Mg,jf,$b,hg,Ud,Dh,ge,Vc,ue,se)),Tc=function(){function a(a,c,d,e,f){var g;if(e>=f.length)return d;if(g=f[e],!zb.call(b,g.type))throw new Error("Unknown call-chain link: "+g.type);return b[g.type](a,c,d,g,e,f)}var b;return b={access:function(){var b;return b={multi:function(a,b,c){return function(d){var e,f,g,h;return f=d,h=[],d.cacheable&&(g=a.makeTmp(b,"ref",d.type(a)),h.push(g.id),f=Ke(b,a.scope.peek(),Te.assign["="](b),g,d.doWrap(a)),d=g),e=Qe("array",b,a.scope.peek(),function(){var e,g,h,i,j;for(e=[],g=Cb(c.elements),j=0,h=g.length;h>j;++j)i=g[j],e.push(Je(b,a.scope.peek(),0===j?f:d,i));return e}()),h.length?Qe("tmpWrapper",b,e.scope,[e].concat(function(){var a,c,d,e;for(a=[],c=0,d=h.length;d>c;++c)e=h[c],a.push(Ue(b,e));return a}())):e}}},function(c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q;if(i=f.bind?function(a,b){return Ke(d,c.scope.peek(),Te.ident(d,c.scope.peek(),"__bind"),a,b)}:function(a,b){return Je(d,c.scope.peek(),a,b)},f.owns)return q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=Ke(d,c.scope.peek(),Te.assign["="](d),p,e.doWrap(c)),e=p),j=f.child,n=j,j.cacheable&&(p=c.makeTmp(d,"ref",j.type(c)),q.push(p.id),n=Ke(d,c.scope.peek(),Te.assign["="](d),p,j.doWrap(c)),j=p),m=Qe("if",d,c.scope.peek(),function(){var a,b;if(b=c.getMacroByLabel("ownership"),!b)throw new Error("Cannot use ownership access until the ownership operator has been defined");if(f.existential){if(a=c.getMacroByLabel("existential"),!a)throw new Error("Cannot use existential access until the existential operator has been defined");return Ke(d,c.scope.peek(),Te.binary["&&"](d),a.func({op:"",node:o},c,d),b.func({left:e,op:"",right:n},c,d))}return b.func({left:o,op:"",right:n},c,d)}(),a(c,d,i(e,j),+g+1,h),Te.nothing(d)),q.length?Qe("tmpWrapper",d,m.scope,[m].concat(function(){var a,b,c,e;for(a=[],b=0,c=q.length;c>b;++b)e=q[b],a.push(Ue(d,e));return a}())):m;switch(f.type){case"access":l=function(a){return i(a,f.child)};break;case"accessIndex":if(!zb.call(b,f.child.type))throw new Error("Unknown index type: "+f.child.type);l=b[f.child.type](c,d,f.child);break;default:throw new Error("Unknown link type: "+f.type)}if(f.existential){if(q=[],o=e,e.cacheable&&(p=c.makeTmp(d,"ref",e.type(c)),q.push(p.id),o=Ke(d,c.scope.peek(),Te.assign["="](d),p,e.doWrap(c)),e=p),k=c.getMacroByLabel("existential"),!k)throw new Error("Cannot use existential access until the existential operator has been defined");return m=Qe("if",d,c.scope.peek(),k.func({op:"",node:o},c,d),a(c,d,l(e),+g+1,h),Te.nothing(d)),q.length?Qe("tmpWrapper",d,m.scope,[m].concat(function(){var a,b,c,e;for(a=[],b=0,c=q.length;c>b;++b)e=q[b],a.push(Ue(d,e));return a}())):m}return a(c,d,l(e),+g+1,h)}}(),call:function(b,c,d,e,f,g){function h(){return a(b,c,e.isContextCall?Qe("contextCall",c,b.scope.peek(),[d].concat(Cb(e.args))):e.isNew?Qe("new",c,b.scope.peek(),[d].concat(Cb(e.args))):Ke(c,b.scope.peek(),d,e.args),+f+1,g)}var i,j,k,l,m,n,o,p,q;return e.existential?(q=[],n=d,!d.isInternalCall("access")||e.isContextCall||e.isNew?d.cacheable&&(p=b.makeTmp(c,"ref",d.type(b)),q.push(p.id),n=Ke(c,b.scope.peek(),Te.assign["="](c),p,d.doWrap(b)),d=p):(i=d.args,k=i[0],j=i[1],i=null,o=k,m=j,k.cacheable&&(p=b.makeTmp(c,"ref",k.type(b)),q.push(p.id),o=Ke(c,b.scope.peek(),Te.assign["="](c),p,k.doWrap(b)),k=p),j.cacheable&&(p=b.makeTmp(c,"ref",j.type(b)),q.push(p.id),m=Ke(c,b.scope.peek(),Te.assign["="](c),p,j.doWrap(b)),j=p),(k!==o||j!==m)&&(n=Je(c,b.scope.peek(),o,m),d=Je(c,b.scope.peek(),k,j))),l=Qe("if",c,b.scope.peek(),Ke(c,b.scope.peek(),Te.binary["==="](c),Ke(c,b.scope.peek(),Te.unary["typeof"](c),n),Ue(c,"function")),h(),Te.nothing(c)),q.length?Qe("tmpWrapper",c,l.scope,[l].concat(function(){var a,b,d,e;for(a=[],b=0,d=q.length;d>b;++b)e=q[b],a.push(Ue(c,e));return a}())):l):h()}},b.accessIndex=b.access,function(b,c,d,e,f){var g,h,i,j,k,l;if(0===d.length&&!b&&"normal"===c.type)return c.node;for(k=[],"thisAccess"===c.type&&k.push({type:"access",child:c.child,existential:c.existential}),g=Cb(d),h=0,i=g.length;i>h;++h)switch(l=g[h],l.type){case"protoAccess":case"protoAccessIndex":k.push({type:"access",child:Ue(f,"prototype"),existential:l.existential}),k.push((j=wb({},l),j.type="protoAccess"===l.type?"access":"accessIndex",j));break;case"access":case"accessIndex":k.push(l);break;case"call":if(b&&l.isContextCall)throw kg("Cannot call with both new and @ at the same time",e,f);k.push((j=wb({},l),j.isNew=b,j)),b=!1;break;case"generic":e.getConstValue("DISABLE_GENERICS",!1)||(k.push({type:"access",child:Ue(f,"generic"),existential:!1}),k.push({type:"call",args:l.args,existential:!1}));break;default:throw new Error("Unknown link type: "+l.type)}return b&&k.push({type:"call",args:[],existential:!1,isNew:!0,isContextCall:!1}),a(e,f,c.node,0,k)}}(),Fe=r((Mb=v(Me,["this",z(function(a,b){return hc(a,b)},Mc)],ae),wf(function(a,b,c,d){return{type:"generic",args:a,index:d}})(Mb)),(Mb=v(["existential",rf],["owns",pf],["bind",lf],gb,["type",pg],["child",ie]),wf(function(a,b,c,d){return{type:"::"===a.type?"protoAccess":"access",child:a.child,existential:a.existential,owns:a.owns,bind:a.bind,index:d}})(Mb)),(Mb=v(["existential",rf],["owns",pf],["bind",lf],["type",q(hd)],ag,["child",Sb((Nb=z(i("asterixAsArrayLength",!0)(Md),Oc),wf(function(a){return a.length>1?{type:"multi",elements:a}:{type:"single",node:a[0]}})(Nb)))],Fc),wf(function(a,b,c,d){if("single"===a.child.type)return{type:"::"===a.type?"protoAccess":"access",child:a.child.node,existential:a.existential,owns:a.owns,bind:a.bind,index:d};if(a.owns)throw kg("Cannot use ! when using a multiple or slicing index",b,c);if(a.bind)throw kg("Cannot use @ when using a multiple or slicing index",b,c);return{type:"::"===a.type?"protoAccessIndex":"accessIndex",child:a.child,existential:a.existential,index:d}})(Mb)),(Mb=v(["existential",m(rf)],["isContextCall",m(lf)],["args",De]),wf(function(a,b,c,d){return{type:"call",args:a.args,existential:a.existential,isNew:!1,isContextCall:a.isContextCall,index:d}})(Mb))),zc=u(v(og,A(og))),Be=i("insideIndentedAccess",!0),Ge=x(o(Fe),q(v(function(a,b){var c;return c=a.disallowSpaceBeforeAccess.peek(),!c||1===c&&a.insideIndentedAccess.peek()?sc(b):void 0},J,Tg,["this",P((Mb=v(L,K,zc,["this",z(Be(o(Fe)),v(Ug,zc))],O),wf(function(a){var b;return(b=[]).concat.apply(b,Cb(a))})(Mb)))]),function(){return[]})),Mb=v(["isNew",m(q(Eh("new")))],["head",r((Nb=v(["node",kh],["existential",rf],["owns",pf],["bind",lf],["child",ie]),wf(function(a){return wb({type:"thisAccess"},a)})(Nb)),wf(function(a){return{type:"normal",node:a}})(xg))],["tail",Ge]),hc=wf(function(a,b,c){var d,e,f;return e=a.isNew,d=a.head,f=a.tail,Tc(e,wb({},d),f,b,c)})(Mb),Mb=v(["head",r((Nb=v(["node",kh],["existential",rf],["owns",pf],["bind",lf],["child",ie]),wf(function(a){return wb({type:"thisAccess"},a)})(Nb)),wf(function(a){return{type:"normal",node:a}})(xg))],["tail",function(a,b){var c,d;for(d=Ge(a,b).value,d=d.slice();d.length>0&&"access"!==(c=d[d.length-1].type)&&"protoAccess"!==c;)d.pop();return 0===d.length?sc(b,[]):sc(d[d.length-1].index,d)}]),Jb=wf(function(a,b,c){var d,e;return d=a.head,e=a.tail,Tc(!1,wb({},d),e,b,c)})(Mb),dh=uc((Mb=v(Eh("super"),Og,["child",q(r(v(Ed,Vg,og,["this",ie]),v(ag,["this",Sb(Md)],Fc)))],["args",De]),wf(function(a,b,c){var d,e;return e=a.child,d=a.args,Qe("super",c,b.scope.peek(),[e||Te.nothing(c)].concat(Cb(d)))})(Mb))),Kd=uc((Mb=v(Eh("eval"),Og,["this",De]),wf(function(a,b,c){if(1!==a.length)throw kg("Expected only one argument to eval, got "+a.length,b,c);return Ke(c,b.scope.peek(),Te.ident(c,b.scope.peek(),"eval",!0),a[0])})(Mb))),Ee=uc(r(function(a,b){var c,d,e;if(e=a.inAst,e.peek()&&(d=ed(a,Vg(a,b).index))){e.push(!1);try{if(c=De(a,d.index),!c)return;return sc(c.index,Ke(b,a.scope.peek(),Te.ident(b,a.scope.peek(),"$"),c.value))}finally{e.pop()}}},hc,dh,Kd)),re=i("inCascade",!0),xc=uc(v(A(Zg),og,u(og),["accesses",o(Fe)],["assignment",q(re(db))])),yc=function(a,b){return yc(a,b)},yc=uc(v(["main",xc],["subcascades",q(P(v(Tg,L,K,["this",z(yc,Ug)],O)),function(){return[]})])),wc=uc((Mb=v(["head",Ee],["tail",r(function(a,b){return a.inCascade.peek()?sc(b,[]):void 0},x(o(v(gb,["this",wf(function(a){return{main:a,subcascades:[]}})(xc)])),q(v(J,function(a,b){return a.disallowSpaceBeforeAccess.peek()?void 0:sc(b)},Tg,["this",P(v(L,K,["this",z(yc,Ug)],O))]),function(){return[]})))]),wf(function(a,b,c){var d,e,f,g;if(e=a.head,g=a.tail,g.length){if(f=b.getMacroByLabel("cascade"),!f)throw kg("Cannot use cascades until the cascade macro has been defined",b,c);return d=function(a,c,e){var g;return g=this,c.length?f.func({macroData:[a,function(){var a,f,h,i,j;for(a=[],f=Cb(c),i=0,j=f.length,h=function(a){var c,f,g,h;return c=a.main,f=c.accesses,g=c.assignment,c=null,h=a.subcascades,function(a){var c,i;return c=Tc(!1,{type:"normal",node:a},f,b,e),i=null!=g?g(c,e):c,h?d(i,h,e):i}};j>i;++i)a.push(h.call(g,f[i]));return a}()]},b,e):a},d(e,g,c)}return e})(Mb))),ug=uc(function(a,b){var c,d,e,f,g,h,i;if(f=wc(a,b)){for(e=!0;e;)for(e=!1,c=Cb(a.postfixUnaryOperators()),d=c.length;d--;)if(h=c[d],i=h.rule,g=i(a,f.index)){f=sc(g.index,h.func({op:g.value,node:f.value},a,b)),e=!0;
break}return f}}),vg=uc(function(a,b){var c,d,e,f,g,h;for(c=Cb(a.prefixUnaryOperators()),d=c.length;d--;)if(g=c[d],h=g.rule,f=h(a,b),f&&(e=vg(a,f.index)))return sc(e.index,g.func({op:f.value,node:e.value},a,b));return ug(a,b)}),kc=function(){var a;return a=[],function(b){return a[b]||(a[b]=uc(function(a,c){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;if(r=a.binaryOperators(b),!r)return vg(a,c);if(n=kc(+b+1),i=n(a,c)){for(d=Cb(r),e=d.length;e--;){for(q=d[e],v=q.rule,w=[],h=i.index;;){if(k=!1,q.invertible&&(j=qf(a,h),j.value&&(k=!0),h=j.index),p=v(a,h),!p)break;if(o=n(a,p.index),!o)break;if(h=o.index,w.push({inverted:k,op:p.value,node:o.value}),q.maximum&&w.length>=q.maximum)break}if(w.length){if(q.rightToLeft){for(u=w[w.length-1].node,l=w.length;l--;)s=w[l],u=q.func({left:0===l?i.value:w[l-1].node,inverted:s.inverted,op:s.op,right:u},a,c);t=u}else{for(m=i.value,f=0,g=w.length;g>f;++f)s=w[f],m=q.func({left:m,inverted:s.inverted,op:s.op,right:s.node},a,c);t=m}return sc(h,t)}}return i}}))}}(),Se=uc(kc(0)),Nd=uc(r(Dh,Se)),Md=uc(ye(Nd)),Oe=uc(v(Xg,["this",function(a,b){var c,d,e,f,h,i,j,k,l,m,n;if(n=a.source,47===n.charCodeAt(b)&&42===n.charCodeAt(+b+1)&&33===n.charCodeAt(+b+2))for(k=[47,42,33],l=[k],j=n.length,e=+b+3;;++e){if(e>=j)throw kg("Multi-line license comment never ends",a,b);if(d=n.charCodeAt(e),42===d&&47===n.charCodeAt(e+1)){for(k.push(42,47),m=[],f=0,c=l.length;c>f;++f)i=l[f],f>0&&m.push("\n"),g(i,m);return sc(e+2,Qe("comment",b,a.scope.peek(),Ue(b,m.join(""))))}if(13===d||10===d||8232===d||8233===d){if(13===d&&10===data.charCodeAt(e+1)&&++e,l.push(k=[]),h=W(a,e+1),!h)throw kg("Improper indent in multi-line license comment",a,e+1);e=h.index-1}else k.push(d)}}],Vg)),gf=Sb((Mb=v(["type",r(ge,bh,(Nb=v(Zf,Ed,["this",function(a,b){return ff(a,b)}],Ed,nf,Ec),wf(function(a,b,c){return Qe("syntaxSequence",c,b.scope.peek(),a)})(Nb)),(Nb=v(Zf,Ed,["this",function(a,b){return cf(a,b)}],Ed,Ec),wf(function(a,b,c){return Qe("syntaxChoice",c,b.scope.peek(),a)})(Nb)))],["multiplier",q(r(fh("?"),fh("*"),fh("+")))]),wf(function(a,b,c){var d,e;return e=a.type,d=a.multiplier,d?Qe("syntaxMany",c,b.scope.peek(),e,Ue(c,d)):e})(Mb))),df=r(bh,(Mb=v(["ident",r(ih,ge)],["type",q(v(Eh("as"),["this",gf]))]),wf(function(a,b,c){var d,e;return d=a.ident,e=a.type,Qe("syntaxParam",c,b.scope.peek(),d,e||Te.nothing(c))})(Mb))),ef=r((Mb=v(["lookahead",r(fh("?="),fh("?!"))],["type",r(bh,gf)]),wf(function(a,b,c){var d,e;return d=a.lookahead,e=a.type,Qe("syntaxLookahead",c,b.scope.peek(),Ue(c,"?!"===d),e)})(Mb)),df),ff=z(ef,Mc),cf=z(gf,qg),af=q((Mb=v(Eh("with"),["this",xh]),wf(function(a,b,c){if(a=a.reduce(b),!a.isLiteral())throw kg("Macro options must be a literal object without any logic, invocation, or anything else",b,c);return a.literalValue()})(Mb)),function(){return{}}),bf=v(K,Eh("syntax"),Og,function(a,b){var c,d,e,f;if(f=a.pushScope(!0),e=ff(a,b),!e)throw Og;if(d=af(a,e.index),a.startMacroSyntax(b,e.value,d.value),ib(e.value,f),f.add(Te.ident(b,a.scope.peek(),"macroName"),!0,th.string),c=Rd(a,d.index),!c)throw Og;return a.macroSyntax(b,"syntax",e.value,d.value,c.value),a.popScope(),sc(c.index)},Vg,Ac),Ve=r(v(function(a,b){return a.options.noindent?Gc(a,b):sc(b)},Vg,D,Ed,P(v(function(a,b){return a.options.noindent?M(a,b):L(a,b)},z(bf,Tg),O)),G),function(a,b){var c,d,e,f,g,h,i;if(i=a.pushScope(!0),h=fg(a,b),!h)throw Og;for(c=Cb(h.value),d=c.length;d--;)g=c[d],Rb(i,g,!0);if(f=af(a,h.index),e=Rd(a,f.index),!e)throw Og;return a.macroSyntax(b,"call",h.value,f.value,e.value),a.popScope(),sc(e.index,Te.nothing(b))}),Ae=i("inMacro",!0),Gb=v(Eh("macro"),["this",Ae(function(a,b){var c,d;return(d=_e(a,b))?(a.enterMacro(b,d.value),c=Ve(a,d.index),a.exitMacro(),sc(c.index,Te.nothing(b))):void 0})]),cd=function(){var a;return a=v(r(Eh("define"),Eh("macro")),Eh("syntax"),Og,["name",ge],Id,["value",ff]),Ae(function(b,c){var d,e;return(e=a(b,c))?(d=Rd(b,e.index),b.defineSyntax(c,e.value.name.name,e.value.value,null!=d?d.value:void 0),sc(d?d.index:e.index,Te.nothing(c))):void 0})}(),Mb=v(r(Eh("define"),Eh("macro")),Eh("helper"),Og,["name",ge],["value",r(v(Id,["this",Md]),Sd)]),_c=wf(function(a,b,c){var d,e;return d=a.name,e=a.value,b.defineHelper(c,d,e),Te.nothing(c)})(Mb),bd=function(){var a;return a=v(r(Eh("define"),Eh("macro")),Eh("operator"),Og,["type",r(Eh("binary"),Eh("assign"),Eh("unary"))],["ops",z(zf,Mc)],["options",af]),Ae(function(b,c){var d,e,f,g,h,i,j,k;if(k=a(b,c)){switch(d=k.value,j=d.type,f=d.ops,g=d.options,d=null,i=b.pushScope(!0),j){case"binary":case"assign":i.add(Te.ident(c,b.scope.peek(),"left"),!0,th.any),i.add(Te.ident(c,b.scope.peek(),"op"),!0,th.string),i.add(Te.ident(c,b.scope.peek(),"right"),!0,th.any);break;case"unary":i.add(Te.ident(c,b.scope.peek(),"op"),!0,th.string),i.add(Te.ident(c,b.scope.peek(),"node"),!0,th.any);break;default:throw new Error("Unhandled value in switch")}if(e=Rd(b,k.index),!e)throw Og;switch(j){case"binary":h=b.defineBinaryOperator(c,f,g,e.value);break;case"assign":h=b.defineAssignOperator(c,f,g,e.value);break;case"unary":h=b.defineUnaryOperator(c,f,g,e.value);break;default:throw new Error}return b.popScope(),sc(e.index,Te.nothing(c))}})}(),ad=uc(r(cd,_c,bd,Gb)),Mb=v(Eh("const"),Og,["name",xf],Id,["value",Md]),$c=wf(function(a,b,c){var d,e;if(d=a.name,e=a.value,e=b.macroExpandAll(e.reduce(b)),!e.isLiteral())throw kg("const value must be a literal.",b,c);return b.defineConst(c,d,e.literalValue()),Te.nothing(c)})(Mb),_g=uc(v(["this",Ce(r(Oe,ad,$c,eb,Nd))],Vg)),hf=function(){function a(a){var b,c,d,e;for(e=a.length,b=[],d=0;e>d;++d)b.push(a.charCodeAt(d));return c=b,function(b,d){var f,g;for(g=b.source,f=0;e>f;++f)if(g.charCodeAt(+d+f)!==c[f])return;return sc(+d+e,a)}}function b(b){return c[b]||(c[b]=a(b))}var c;return c=sb(null),function(a,c){return function(d,e){var f;return f=d.options[a],"string"!=typeof f&&(f=c),b(f)(d,e)}}}(),xd=uc(hf("embeddedOpenLiteral","<%@")),qd=hf("embeddedCloseLiteral","@%>"),wd=uc(hf("embeddedOpenComment","<%--")),pd=hf("embeddedCloseComment","--%>"),vd=uc(hf("embeddedOpen","<%")),od=uc(v(Ed,Vg,r(E,hf("embeddedClose","%>")))),yd=uc(hf("embeddedOpenWrite","<%=")),rd=uc(v(Ed,Vg,r(E,hf("embeddedCloseWrite","%>")))),Ic=uc(v(Gc,od)),Jc=uc(v(Gc,rd)),Jf=uc(A(xd)),If=uc(A(wd)),Kf=uc(A(yd)),dd=i("allowEmbeddedText",!1),Cd=dd((Mb=v(If,Jf,yd,["this",Md],rd),wf(function(a,b,c){return Qe("embedWrite",c,b.scope.peek(),a,Ue(c,!0))})(Mb))),td=r(mb,Cd,lb),sd=uc((Mb=v(function(a,b){return a.options.embedded&&a.allowEmbeddedText.peek()&&b<a.source.length?sc(b):void 0},od,["this",o(td)],r(E,v(If,Kf,Jf,vd))),wf(function(a,b,c){return Qe("block",c,b.scope.peek(),a)})(Mb))),Ig=uc(F(Jg)),Kg=uc(o(Ig,!0)),Pe=uc(function(){var a;return a=v(Kg,["this",_g]),function(b,c){var d,e,f,g,h,i;if(f=K(b,c)){for(d=c,h=[],g=!1;;)if(i=sd(b,d))g=!1,h.push(i.value),d=i.index;else{if(i=g?a(b,d):_g(b,d),!i)break;g=!0,h.push(i.value),d=i.index}if(0!==h.length)return e=Kg(b,d),e&&(d=e.index),sc(d,h)}}}()),Fg=Ab(function(a,b){function c(){g=9}function d(){for(;;)switch(g){case 0:a.clearCache(),i=Pe(a,b),g=i?1:9;break;case 1:k=[i.value],h=i.index,++g;case 2:++g;case 3:a.clearCache(),g=a.options.sync?5:4;break;case 4:return++g,{done:!1,value:ub.fulfilled(void 0)};case 5:l=Tg(a,h),g=l?6:8;break;case 6:j=Pe(a,l.index),g=j?7:8;break;case 7:h=j.index,k.push(j.value),g=2;break;case 8:return a.clearCache(),++g,{done:!0,value:sc(h,nb(k,a,b))};case 9:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j,k,l;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),Fb=wf(nb,z(Pe,Tg)),lc=r(v(K,["this",r(ve,te)]),Fb),nd=v(Kf,If,Jf,vd,["this",Fb],od),ud=r(td,nd),Ad=Ab(function(a,b){function c(){g=7}function d(){for(;;)switch(g){case 0:j=[],h=b,++g;case 1:++g;case 2:a.clearCache(),g=a.options.sync?4:3;break;case 3:return++g,{done:!1,value:ub.fulfilled(void 0)};case 4:i=ud(a,h),g=i?5:6;break;case 5:if(j.push(i.value),h===i.index)throw new Error("Infinite loop detected");h=i.index,g=1;break;case 6:return a.clearCache(),++g,{done:!0,value:sc(h,Qe("block",b,a.scope.peek(),j.concat([Qe("return",b,a.scope.peek(),Te.ident(b,a.scope.peek(),"write"))])))};case 7:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),Gd=v(Ed,Vg,q(Kg),Eh("end")),qc=P(v(Vg,D,Ed,L,["this",lc],O)),pc=v(function(a,b){return Lc(a,b)||a.options.embedded&&(Ic(a,b)||Jc(a,b))?sc(b):void 0},Gc,Ed,["this",function(a,b){var c;c=a.indent,c.push(+c.peek()+1);try{return lc(a,b)}finally{c.pop()}}]),oc=v(["this",pc],Gd),mc=uc(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?oc(a,b):qc(a,b),a.popScope(),c}),nc=uc(function(a,b){var c,d;return d=a.pushScope(!0),c=a.options.noindent?pc(a,b):qc(a,b),a.popScope(),c}),rc=q(k('"﻿"',65279)),Ng=q(v(ce,Ld,o(B(D)))),pe=q(z((Mb=v(Eh("import"),Vg,["this",Rg]),wf(function(a,b,c){if(!a.isConst()||"string"!=typeof a.constValue())throw kg("Expected a string literal in import statement",b,c);return a.constValue()})(Mb)),Tg),function(){return[]}),Gg=Ab(function(a){function b(){i=14}function c(b){for(;;)switch(i){case 0:if(j=rc(a,0),q=Ng(a,j.index),k=Ed(a,q.index),o=pe(a,k.index),o.value.length&&!a.options.filename)throw kg("Cannot use the import statement if not compiling from a file",a,k.index);k=Ed(a,o.index),i=E(a,k.index)?1:2;break;case 1:return i=14,{done:!0,value:sc(k.index,Qe("root",k.index,a.scope.peek(),Ue(k.index,a.options.filename||null),Te.nothing(k.index),Ue(k.index,!1),Ue(k.index,!1)))};case 2:f=Cb(o.value),g=0,h=f.length,++i;case 3:i=h>g?4:8;break;case 4:n=f[g],a.clearCache(),i=a.options.sync?5:6;break;case 5:a.importSync(n,o.index),i=7;break;case 6:return++i,{done:!1,value:a["import"](n,o.index)};case 7:++g,i=3;break;case 8:a.clearCache(),i=a.options.sync?9:10;break;case 9:p=Fg.sync(a,k.index),i=12;break;case 10:return++i,{done:!1,value:Fg(a,k.index)};case 11:p=b,++i;case 12:a.clearCache(),i=p?13:14;break;case 13:return l=Ed(a,p.index),m=Vg(a,l.index),a.clearCache(),++i,{done:!0,value:sc(m.index,Qe("root",k.index,a.scope.peek(),Ue(k.index,a.options.filename||null),p.value,Ue(k.index,!1),Ue(k.index,!1)))};case 14:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+i)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var f,g,h,e,i,c,d,j,k,l,m,n,o,p,q;return i=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Bd=Ab(function(a){function b(){f=6}function c(b){for(;;)switch(f){case 0:g=rc(a,0),i=Ng(a,g.index),a.clearCache(),f=a.options.sync?1:2;break;case 1:h=Ad.sync(a,i.index),f=4;break;case 2:return++f,{done:!1,value:Ad(a,i.index)};case 3:h=b,++f;case 4:a.clearCache(),f=h?5:6;break;case 5:return++f,{done:!0,value:sc(h.index,Qe("root",i.index,a.scope.peek(),Ue(i.index,a.options.filename||null),h.value,Ue(i.index,!0),Ue(i.index,a.inGenerator.peek())))};case 6:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g,h,i;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),zd=Ab(function(a){function b(){f=5}function c(b){for(;;)switch(f){case 0:a.inGenerator.push(!0),f=a.options.sync?1:2;break;case 1:g=Bd.sync(a),f=4;break;case 2:return++f,{done:!1,value:Bd(a)};case 3:g=b,++f;case 4:return a.inGenerator.pop(),++f,{done:!0,value:g};case 5:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),Ub=uc(r(xh,Rf,ue)),Tb=uc(r(Wb,se)),Zc=uc(F(r(v(D,Ed,["this",lc]),v(function(a,b){return a.options.embedded?sc(b):void 0},u(od),Ed,["this",lc]),Lf))),$g=function(){function a(c){var d;return d=this instanceof a?this:sb(b),d.initial=c,d.data=[],d}var b;return b=a.prototype,a.displayName="Stack",b.count=function(){return this.data.length},b.push=function(a){this.data.push(a)},b.pop=function(){var a;if(a=this.data,0===a.length)throw new Error("Cannot pop");return a.pop()},b.canPop=function(){return this.data.length>0},b.peek=function(){var a,b;return a=this.data,b=a.length,0===b?this.initial:a[b-1]},a}(),jg=function(){function a(b,c,d){var e;return e=this instanceof a?this:sb(D),null==b&&(b=""),e.source=b,null==c&&(c=ob()),e.macros=c,null==d&&(d={}),e.options=d,e.indent=$g(0),e.position=$g("statement"),e.inAst=$g(!1),e.inGenerator=$g(!1),e.inFunctionTypeParams=$g(!1),e.preventUnclosedObjectLiteral=$g(!1),e.allowEmbeddedText=$g(!0),e.inMacro=$g(!1),e.inAst=$g(!1),e.inEvilAst=$g(!1),e.asterixAsArrayLength=$g(!1),e.disallowSpaceBeforeAccess=$g(0),e.insideIndentedAccess=$g(!1),e.inCascade=$g(!1),e.requireParameterSequence=$g(!1),e.scope=$g(Hg(null,!0)),e.failureMessages=[],e.failureIndex=-1,e.calculateLineInfo(),e.cache=[],e.currentTmpId=-1,e}function c(a){return function(b){var c,d,e,f;if(0===b)return{line:0,column:0};for(e=0,f=a.length;e!==f;)if(d=Math.floor((e+f)/2),c=a[d],c>b)f=d;else{if(!(b>c)){e=d;break}if(e===d)break;e=d}return{line:e+1,column:b-a[e]+1}}}function e(a){var b;switch(b=Bh(a).sort(function(a,b){return qb(a.toLowerCase(),b.toLowerCase())}),b.length){case 0:return"End of input";case 1:return b[0];case 2:return b[0]+" or "+b[1];default:return Bb.call(b,0,-1).join(", ")+", or "+b[b.length-1]}}function f(a,b){var c,d,e,g,h,i,j,k;if(b instanceof lg)return b.reduce(a);if(yb(b)){for(c=[],d=Cb(b),e=0,g=d.length;g>e;++e)h=d[e],c.push(f(a,h));return c}if("object"==typeof b&&null!==b&&b.constructor===Object){j={};for(i in b)zb.call(b,i)&&(k=b[i],j[i]=f(a,k));return j}return b}function g(a,b,c){var d,e;return d=this,e=this.scope.peek(),Qe("root",a,e,Ue(a,null),Qe("return",a,e,Qe("function",a,e,Qe("array",a,e,[b].concat(function(){var b,c,d,f,g;for(b=[],c=["__wrap","__const","__value","__symbol","__call","__macro"],d=0,f=c.length;f>d;++d)g=c[d],b.push(Qe("param",a,e,Te.ident(a,e,g),Te.nothing(a),Ue(a,!1),Ue(a,!0),Te.nothing(a)));return b}())),Qe("autoReturn",c.index,c.scope,c),Ue(a,!1),Te.nothing(a),Ue(a,!1))),Ue(a,!1),Ue(a,!1))}function h(a){if(a.isSymbol&&a.isIdent)return["ident",a.name];if(a.isConst())return["const",a.constValue()];if(!a.isInternalCall())throw new Error("Unhandled value in switch");switch(a.func.name){case"syntaxSequence":return["sequence"].concat(Cb(w(j(a.args))));case"syntaxChoice":return["choice"].concat(function(){var b,c,d,e,f;for(b=[],c=Cb(a.args),d=0,e=c.length;e>d;++d)f=c[d],b.push(h(f));return b}());case"syntaxMany":return["many",a.args[1].constValue()].concat(h(a.args[0]));default:throw new Error("Unhandled value in switch")}}function i(a){var b,c,e,f,g,i;if(a.isConst())return["const",a.constValue()];if(a.isInternalCall("syntaxParam"))return b=a.args,e=b[0],c=b[1],b=null,i="this"===e.name?["this"]:["ident",e.name],d(c)||i.push.apply(i,h(c)),i;if(a.isInternalCall("syntaxLookahead"))return b=a.args,g=b[0],f=b[1],b=null,["lookahead",g.constValue()?1:0].concat(h(f));throw new Error("Unhandled value in switch")}function j(a){return q(function(){var b,c,d,e;for(b=[],c=0,d=a.length;d>c;++c)e=a[c],b.push(i(e));return b}())}function k(a){var b,c,d,e,f;for(b=[],c=Cb(w(a)),d=0,e=c.length;e>d;++d)f=c[d],b.push(I(f));return b}function l(a){var b,c,d,e,f,g,h,i;if(c=this,a.isSymbol&&a.isIdent)return h=a.name,f=this.macros,f.hasSyntax(h)?f.getSyntax(h):function(a,b){return a.macros.getSyntax(h).call(this,a,b)};if(a.isConstType("string"))return i=a.constValue(),zb.call(L,i)&&L[i]||Fh(i);if(!a.isInternalCall())throw new Error("Unhandled value in switch");switch(a.func.name){case"syntaxSequence":return n.call(this,a.args);case"syntaxChoice":return r.apply(void 0,function(){var b,d,e,f,g;for(b=[],d=Cb(a.args),e=0,f=d.length;f>e;++e)g=d[e],b.push(l.call(c,g));return b}());case"syntaxMany":switch(b=a.args,e=b[0],g=b[1],b=null,d=l.call(this,e),g.constValue()){case"*":return o(d);case"+":return p(d);case"?":return r(d,Lf);default:throw new Error("Unhandled value in switch")}break;default:throw new Error("Unhandled value in switch")}}function m(a){var b,c,e,f,g,h;if(a.isConstType("string"))return h=a.constValue(),zb.call(L,h)&&L[h]||Fh(h);if(a.isInternalCall("syntaxParam"))return b=a.args,f=b[0],c=b[1],b=null,[f.name,l.call(this,d(c)?Te.ident(0,a.scope,"Expression"):c)];if(a.isInternalCall("syntaxLookahead"))return b=a.args,g=b[0],c=b[1],b=null,e=l.call(this,c),g.constValue()?A(e):u(e);throw new Error("Unhandled value in switch")}function n(a){var b;return b=this,v.apply(void 0,function(){var c,d,e,f;for(c=[],d=0,e=a.length;e>d;++d)f=a[d],c.push(m.call(b,f));return c}())}function q(a){return 0!==a.length?1!==a.length||yb(a[0])?a:a[0]:void 0}function s(a){var b,c;for(b in a)if(zb.call(a,b))return c=a[b],a}function t(){return{bare:!0}}function w(a){return null==a?[]:yb(a)?a:[a]}function x(a){var b,c,e,f,g,h,i,j;if(yb(a)){for(b=[],c=Cb(a),e=0,f=c.length;f>e;++e)g=c[e],d(g)?b.push(void 0):b.push(x(g));return b}if("object"==typeof a&&null!==a&&a.constructor===Object){i={};for(h in a)zb.call(a,h)&&(j=a[h],d(j)||(i[h]=x(j)));return i}return a}function y(a,b,c,d,e,f,g){function h(a,d,e){var f,h,i,j,k,l;if(d.inAst.peek()||!d.expandingMacros)return lg.MacroAccess(e,d.scope.peek(),g,x(a),"statement"===d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek());k=d.pushScope(!1),h=We(d,e,d.position.peek(),d.inGenerator.peek(),d.inEvilAst.peek()),"assignOperator"===b&&(f=h.macroExpand1(a.left),f.isIdent&&!d.inEvilAst.peek()&&(h.hasVariable(f)?h.isVariableMutable(f)||h.error("Trying to assign with "+a.op+" to immutable variable '"+f.name+"'",f):h.error("Trying to assign with "+a.op+" to unknown variable '"+f.name+"'",f)));try{j=c.call(h,x(a),pb(h,"wrap"),pb(h,"getConst"),pb(h,"makeLispyValue"),pb(h,"makeLispySymbol"),pb(h,"makeLispyCall"),pb(h,"macro"))}catch(m){throw m instanceof ReferenceError?m:m instanceof Xe?(i=d.getPosition(e),m.setPosition(i.line,i.column),m):Xe(m,d,e)}return j instanceof lg&&(j=j.reduce(d),l=h.getTmps(),l.unsaved.length&&(j=Qe("tmpWrapper",e,j.scope,[j].concat(function(){var a,b,c,d,f;for(a=[],b=Cb(l.unsaved),c=0,d=b.length;d>c;++c)f=b[c],a.push(Ue(e,f));return a}())))),d.popScope(),j}var i,j,k,l,m,n,o;switch(o=this.macros,this.currentMacro){case F:return g=o.addBinaryOperator(e,h,f,g);case E:return g=o.addAssignOperator(e,h,f,g);case N:return g=o.addUnaryOperator(e,h,f,g);case H:if(!d)throw new Error("Expected rule to exist");return o.addSyntax(f.name,wf(h)(d)),g=o.addMacro(h,g,null!=f.type&&zb.call(th,l=f.type)?th[l]:void 0);default:if(!d)throw new Error("Expected rule to exist");for(i=Cb(o.getOrAddByNames(this.currentMacro)),j=0,k=i.length;k>j;++j)n=i[j],null!=this.pendingMacroId&&n.data.pop(),n.data.push(uc((l=v(["macroName",n.token],["macroData",d]),wf(h)(l))));if(f.label&&o.addByLabel(f.label,{func:h}),null!=this.pendingMacroId){if(null!=g)throw new Error("Cannot provide the macro id if there is a pending macro id");return m=this.pendingMacroId,this.pendingMacroId=null,o.replaceMacro(m,h,null!=f.type&&zb.call(th,l=f.type)?th[l]:void 0),g=m}return g=o.addMacro(h,g,null!=f.type&&zb.call(th,l=f.type)?th[l]:void 0)}}function z(a){function b(){return(new Date).getTime()-c>5?Lg(function(a,d){return c=(new Date).getTime(),b.apply(a,Cb(d))},this,arguments):a.apply(this,arguments)}var c;return c=(new Date).getTime(),b}function B(){var a;return a=z(function(b,c){var d,e,f,g;if(f=this,null!=b._macroExpandAlled)return c(null,b._macroExpandAlled);if(b instanceof lg.MacroAccess){try{g=this.macroExpand1(b)}catch(h){return c(h)}return g instanceof lg?a.call(this,g,(e=!1,function(a,d){if(e)throw new Error("Attempted to call function more than once");return e=!0,null!=a?c(a):c(null,g._macroExpandAlled=g._macroExpanded=d._macroExpandAlled=d._macroExpanded=b._macroExpandAlled=b._macroExpanded=d)})):c(null,b._macroExpandAlled=b._macroExpanded=g)}return b.walkAsync(a,this,(d=!1,function(a,e){if(d)throw new Error("Attempted to call function more than once");return d=!0,null!=a?c(a):c(null,e._macroExpandAlled=e._macroExpanded=b._macroExpandAlled=b._macroExpanded=e)}))})}function C(a){var b,c;return null!=a._macroExpandAlled?a._macroExpandAlled:a instanceof lg.MacroAccess?(b=this.macroExpand1(a),b instanceof lg?(c=C.call(this,b),b._macroExpandAlled=b._macroExpanded=c._macroExpandAlled=c._macroExpanded=a._macroExpandAlled=a._macroExpanded=c):a._macroExpandAlled=a._macroExpanded=b):(c=a.walk(C,this),c._macroExpandAlled=c._macroExpanded=a._macroExpandAlled=a._macroExpanded=c)}var D,E,F,H,I,J,K,L,M,N;return D=a.prototype,a.displayName="Parser",D.buildError=function(a,b){var c;return c="number"==typeof b?b:b.index,Xe(a,this,c)},D.makeTmp=function(a,b){return Te.tmp(a,this.scope.peek(),++this.currentTmpId,b)},D.calculateLineInfo=function(){var a,b,d,e,f;for(e=/(?:\r\n?|[\n\u2028\u2029])/g,f=this.source,b=this.lineInfo=[],a=0,b.push(0);;){if(d=e.exec(f),!d)break;a=+d.index+ +d[0].length,b.push(a)}this.getPosition=c(b)},D.indexFromPosition=function(a,b){var c;return c=this.lineInfo[a-1],null!=c?+c+b-1:0},D.getPosition=function(){throw new Error("line-info not initialized")},D.getLine=function(a){return null==a&&(a=this.index),this.getPosition(a).line},D.getColumn=function(a){return null==a&&(a=this.index),this.getPosition(a).column},D.fail=function(a,b){b>this.failureIndex&&(this.failureMessages=[],this.failureIndex=b),b>=this.failureIndex&&this.failureMessages.push(a)},D.getFailure=function(a){var b,c;return null==a&&(a=this.failureIndex),c=this.source,b=a<c.length?JSON.stringify(c.substring(a,a+20)):"end-of-input",kg("Expected "+e(this.failureMessages)+", but "+b+" found",this,a)},D["import"]=Ab(function(a,c){function d(){h=9}function e(d){for(;;)switch(h){case 0:if(j=b("fs"),m=b("path"),"string"!=typeof i.options.filename)throw kg("Cannot import if the filename option is not provided",i,c);k=m.resolve(m.dirname(i.options.filename),a),h=i.options.sync?1:2;break;case 1:o=j.readFileSync(k,"utf8"),h=4;break;case 2:return++h,{done:!1,value:Db(j.readFile,j,[k,"utf8"])};case 3:o=d,++h;case 4:l={filename:k,noindent:i.options.noindent,sync:i.options.sync},h=i.options.sync?5:6;break;case 5:n=ig.sync(o,i.macros,l),h=8;break;case 6:return++h,{done:!1,value:ig(o,i.macros,l)};case 7:n=d,++h;case 8:i.macros=n.macros,++h;case 9:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,i,f,j,k,l,m,n,o;return i=this,h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),D.importSync=function(a,b){if(!this.options.sync)throw new Error("Expected options.sync to be true");return this["import"].sync.call(this,a,b)},D.pushScope=function(a,b){var c;return null==a&&(a=!1),null==b&&(b=null),c=(b||this.scope.peek()).clone(a),this.scope.push(c),c},D.popScope=function(){this.scope.pop()},D.getPackageVersion=function(){var a;return null==(a=this._packageVersion)?this._packageVersion=Zd(this.options.filename):a},D.hasMacroOrOperator=function(a){return this.macros.hasMacroOrOperator(a)},D.assignOperators=function(){return this.macros.assignOperators},D.allBinaryOperators=function(){return this.macros.allBinaryOperators()},D.binaryOperators=function(a){return this.macros.binaryOperators[a]},D.prefixUnaryOperators=function(){return this.macros.prefixUnaryOperators},D.postfixUnaryOperators=function(){return this.macros.postfixUnaryOperators},D.getMacroByName=function(a){return this.macros.getByName(a)},D.getMacroByLabel=function(a){return this.macros.getByLabel(a)},D.enterMacro=function(a,b){if(!b)throw new Error("Must provide a macro name");if(this.currentMacro)throw kg("Attempting to define a macro "+Bg(String(b))+" inside a macro "+Bg(String(this.currentMacro)),this,a);this.currentMacro=b},D.exitMacro=function(){if(!this.currentMacro)throw new Error("Attempting to exit a macro when not in one");this.currentMacro=null},D.defineHelper=function(a,c,d){var e,f,g,h,i,j;i=b("./jstranslator"),h=this.macroExpandAll(d).reduce(this),j=h.type(this),e=i.defineHelper(this.macros,this.getPosition,c,h,j),g=e.helper,f=e.dependencies,e=null,this.options.serializeMacros&&this.macros.addSerializedHelper(c.name,g,j,f)},L={",":Mc,";":Ig,":":Gc,":=":Kc,"":Lf,"\n":Ug,"<":Le,">":ae,"(":Zf,")":Ec,"[":_f,"]":Fc,"{":Xf,"}":Bc,end:G},J=function(){var a;return a={ident:function(a,b){return Te.ident(0,a,b)},sequence:function(a){var b;return b=Bb.call(arguments,1),Qe("syntaxSequence",0,a,k(b,a))},choice:function(a){var b;return b=Bb.call(arguments,1),Qe("syntaxChoice",0,a,function(){var c,d,e,f;for(c=[],d=0,e=b.length;e>d;++d)f=b[d],c.push(J(f,a));return c}())},"const":function(a,b){return Ue(0,b)},many:function(a,b){var c;return c=Bb.call(arguments,2),Qe("syntaxMany",0,a,J(c,a),Ue(0,b))}},function(b,c){var d;if(null==b&&(b=[]),0===b.length)return Te.nothing(0);if(d=b[0],zb.call(a,d))return a[d].apply(a,[c].concat(Cb(Bb.call(b,1))));throw new Error("Unknown as-type: "+String(d))}}(),I=function(){var a;return a={"const":function(a,b){return Ue(0,b)},ident:function(a,b){var c;return c=Bb.call(arguments,2),Qe("syntaxParam",0,a,Te.ident(0,a,b),J(c,a))},"this":function(a){var b;return b=Bb.call(arguments,1),Qe("syntaxParam",0,a,Te.ident(0,a,"this"),J(b,a))},lookahead:function(a,b){var c;return c=Bb.call(arguments,2),Qe("syntaxLookahead",0,a,Ue(0,!!b),J(c,a))}},function(b,c){var d;if(d=b[0],zb.call(a,d))return a[d].apply(a,[c].concat(Cb(Bb.call(b,1))));throw new Error("Unknown param type: "+String(d))}}(),M={syntax:function(a,b,c,d,e,h){var i,k,l,m,o,p,r,u,v,w,x;if(i=this,v=this.scope.peek(),p=Te.ident(a,v,"macroFullData"),l=Qe("param",a,v,p,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),r=Te.ident(a,v,"macroName"),v.add(r,!1,th.string),o=Te.ident(a,v,"macroData"),v.add(o,!1,th.object),c=Qe("block",a,v,[Qe("var",a,v,r),Ke(a,v,Te.assign["="](a),r,Qe("access",a,v,p,Ue(a,"macroName"))),Qe("var",a,v,o),Ke(a,v,Te.assign["="](a),o,Qe("access",a,v,p,Ue(a,"macroData")))].concat(function(){var c,d,e,f,g;for(c=[],d=Cb(b),e=0,f=d.length;f>e;++e)g=d[e],g.isInternalCall("syntaxParam")&&(v.add(g.args[0],!0,th.any),c.push(Qe("block",a,v,Qe("var",a,v,g.args[0],Ue(a,!0)),Ke(a,v,Te.assign["="](a),g.args[0],Qe("access",a,v,o,Ue(a,g.args[0].name))))));return c}(),[c])),u=g.call(this,a,l,c),x=h(this.macroExpandAll(u).reduce(this),this.macros,this.getPosition,{"return":!0}),k=x.node.toString(t(e)),e.serializeMacros&&(w=k),m=Function(k)(),"function"!=typeof m)throw new Error("Error creating function for macro: "+String(this.currentMacro));return{handler:function(a){var b;return b=Bb.call(arguments,1),m.apply(this,[f(this.parser,a)].concat(b)).reduce(this.parser)},rule:n.call(this,b),serialization:null!=w?{type:"syntax",code:w,options:s(d),params:j(b),names:q(this.currentMacro)}:void 0}},defineSyntax:function(a,b,c,d,e,h){var i,k,l;return i=this,k=null!=c?function(){var j,k,m,n,o,p,q;if(p=i.scope.peek(),n=Te.ident(a,p,"macroData"),k=Qe("param",a,p,n,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),c=Qe("block",a,p,function(){var c,d,e,f,g;for(c=[],d=Cb(b),e=0,f=d.length;f>e;++e)g=d[e],g.isInternalCall("syntaxParam")&&(p.add(g.args[0],!0,th.any),c.push(Qe("block",a,p,Qe("var",a,p,g.args[0],lg.Value(a,!0)),Ke(a,p,Te.assign["="](a),g.args[0],Qe("access",a,p,n,Ue(a,g.args[0].name))))));return c}().concat([c])),o=g.call(i,a,k,c),q=h(i.macroExpandAll(o).reduce(i),i.macros,i.getPosition,{"return":!0}),j=q.node.toString(t(e)),e.serializeMacros&&(l=j),m=Function(j)(),"function"!=typeof m)throw new Error("Error creating function for syntax: "+d.name);return function(a){var b;return b=Bb.call(arguments,1),f(this.parser,m.apply(this,[f(this.parser,a)].concat(b)))}}():function(a){var b;return b=Bb.call(arguments,1),f(this.parser,a)},{handler:k,rule:n.call(this,b),serialization:e.serializeMacros?{type:"defineSyntax",code:l,options:s(d),params:j(b)}:void 0}},call:function(a,b,c,d,e,h){var i,j,k,l,m,n,o,p,r,u,v;if(i=this,r=this.scope.peek(),n=Te.ident(a,r,"macroFullData"),k=Qe("param",a,r,n,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),o=Te.ident(a,r,"macroName"),r.add(o,!1,th.string),m=Te.ident(a,r,"macroData"),r.add(m,!1,th.object),c=Qe("block",a,r,[Qe("var",a,r,o),Ke(a,r,Te.assign["="](a),o,Qe("access",a,r,n,Ue(a,"macroName"))),Qe("var",a,r,m),Ke(a,r,Te.assign["="](a),m,Qe("access",a,r,n,Ue(a,"macroData")))].concat(function(){var c,d,e,f,g,h;for(c=[],d=Cb(b),f=0,e=d.length;e>f;++f)h=d[f],h.isInternalCall("param")&&(g=h.args[0],r.add(g,!0,th.any),c.push(Qe("block",a,r,Qe("var",a,r,g,lg.Value(a,!0)),Ke(a,r,Te.assign["="](a),g,Qe("access",a,r,m,Ue(a,f))))));return c}(),[c])),p=g.call(this,a,k,c),v=h(this.macroExpandAll(p).reduce(this),this.macros,this.getPosition,{"return":!0}),j=v.node.toString(t(e)),e.serializeMacros&&(u=j),l=Function(j)(),"function"!=typeof l)throw new Error("Error creating function for macro: "+this.currentMacro);return l=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(l),{handler:l,rule:De,serialization:null!=u?{type:"call",code:u,options:s(d),names:q(this.currentMacro)}:void 0}},binaryOperator:function(a,b,c,d,e,h){var i,j,k,l,m,n,o,p,r;if(i=this,m=Te.ident(a,o,"macroData"),k=Qe("param",a,o,m,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),o=this.scope.peek(),c=Qe("block",a,o,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=Te.ident(a,o,g),o.add(f,!0,th.any),b.push(Qe("block",a,o,Qe("var",a,o,f,lg.Value(a,!0)),Ke(a,o,Te.assign["="](a),f,Qe("access",a,o,m,Ue(a,g)))));return b}().concat([c])),n=g.call(this,a,k,c),r=h(this.macroExpandAll(n).reduce(this),this.macros,this.getPosition,{"return":!0}),j=r.node.toString(t(e)),e.serializeMacros&&(p=j),l=Function(j)(),"function"!=typeof l)throw new Error("Error creating function for binary operator "+b.join(", "));return l=d.invertible?function(a){return function(b){var c,d;return c=Bb.call(arguments,1),d=a.apply(this,[f(this.parser,b)].concat(Cb(c))),b.inverted?Ke(d.index,d.scope,Te.unary["!"](d.index),d).reduce(this.parser):d.reduce(this.parser)}}(l):function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(l),{handler:l,rule:void 0,serialization:null!=p?{type:"binaryOperator",code:p,operators:q(b),options:s(d)}:void 0}},assignOperator:function(a,b,c,d,e,h){var i,j,k,l,m,n,o,p,r;if(i=this,o=this.scope.peek(),m=Te.ident(a,o,"macroData"),k=Qe("param",a,o,m,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),c=Qe("block",a,o,function(){var b,c,d,e,f,g;for(b=[],c=["left","op","right"],d=0,e=c.length;e>d;++d)g=c[d],f=Te.ident(a,o,g),o.add(f,!0,th.any),b.push(Qe("block",a,o,Qe("var",a,o,f,lg.Value(a,!0)),Ke(a,o,Te.assign["="](a),f,Qe("access",a,o,m,Ue(a,g)))));return b}().concat([c])),n=g.call(this,a,k,c),r=h(this.macroExpandAll(n).reduce(this),this.macros,this.getPosition,{"return":!0}),j=r.node.toString(t(e)),e.serializeMacros&&(p=j),l=Function(j)(),"function"!=typeof l)throw new Error("Error creating function for assign operator "+b.join(", "));return l=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(l),{handler:l,rule:void 0,serialization:null!=p?{type:"assignOperator",code:p,operators:q(b),options:s(d)}:void 0}},unaryOperator:function(a,b,c,d,e,h){var i,j,k,l,m,n,o,p,r;if(i=this,o=this.scope.peek(),m=Te.ident(a,o,"macroData"),k=Qe("param",a,o,m,Te.nothing(a),Ue(a,!1),Ue(a,!1),Te.nothing(a)),c=Qe("block",a,o,function(){var b,c,d,e,f,g;
for(b=[],c=["op","node"],d=0,e=c.length;e>d;++d)g=c[d],f=Te.ident(a,o,g),o.add(f,!0,th.any),b.push(Qe("block",a,o,Qe("var",a,o,f,lg.Value(a,!0)),Ke(a,o,Te.assign["="](a),f,Qe("access",a,o,m,Ue(a,g)))));return b}().concat([c])),n=g.call(this,a,k,c),r=h(this.macroExpandAll(n).reduce(this),this.macros,this.getPosition,{"return":!0}),j=r.node.toString(t(e)),e.serializeMacros&&(p=j),l=Function(j)(),"function"!=typeof l)throw new Error("Error creating function for unary operator "+b.join(", "));return l=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(l),{handler:l,rule:void 0,serialization:null!=p?{type:"unaryOperator",code:p,operators:q(b),options:s(d)}:void 0}}},K={syntax:function(a){var b,c,d,e,g,h,i;if(b=this,c=a.code,i=a.params,g=a.names,h=a.options,null==h&&(h={}),e=a.id,g=w(g),d=c,"function"!=typeof d)throw new Error("Error deserializing function for macro "+name);return d=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(d),this.enterMacro(0,g),y.call(this,0,"syntax",d,n.call(this,k(i,this.scope.peek())),null,h,e),this.exitMacro()},call:function(a){var b,c,d,e,g,h;if(b=this,c=a.code,g=a.names,h=a.options,null==h&&(h={}),e=a.id,g=w(g),d=c,"function"!=typeof d)throw new Error("Error deserializing function for macro "+name);return d=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(d),this.enterMacro(0,g),y.call(this,0,"call",d,De,null,h,e),this.exitMacro()},defineSyntax:function(a){var b,c,d,e,g,h;if(b=this,c=a.code,h=a.params,g=a.options,null==g&&(g={}),e=a.id,this.macros.hasSyntax(g.name))throw new Error("Cannot override already-defined syntax: "+g.name);if(null!=c){if(d=c,"function"!=typeof d)throw new Error("Error deserializing function for macro syntax "+g.name);d=function(a){return function(b){var c;return c=Bb.call(arguments,1),f(this.parser,a.apply(this,[f(this.parser,b)].concat(Cb(c))))}}(d)}else d=function(a){return f(this.parser,a)};return this.enterMacro(0,H),y.call(this,0,"defineSyntax",d,n.call(this,k(h,this.scope.peek())),null,g,e),this.exitMacro()},binaryOperator:function(a){var b,c,d,e,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),e=a.id,g=w(g),d=c,"function"!=typeof d)throw new Error("Error deserializing function for binary operator "+g.join(", "));return d=h.invertible?function(a){return function(b){var c,d;return c=Bb.call(arguments,1),d=a.apply(this,[f(this.parser,b)].concat(Cb(c))),b.inverted?Ke(d.index,d.scope,Te.unary["!"](d.index),d).reduce(this.parser):d.reduce(this.parser)}}(d):function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(d),this.enterMacro(0,F),y.call(this,0,"binaryOperator",d,void 0,g,h,e),this.exitMacro()},assignOperator:function(a){var b,c,d,e,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),e=a.id,g=w(g),d=c,"function"!=typeof d)throw new Error("Error deserializing function for assign operator "+g.join(", "));return d=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(d),this.enterMacro(0,E),y.call(this,0,"assignOperator",d,void 0,g,h,e),this.exitMacro()},unaryOperator:function(a){var b,c,d,e,g,h;if(b=this,c=a.code,g=a.operators,h=a.options,null==h&&(h={}),e=a.id,g=w(g),d=c,"function"!=typeof d)throw new Error("Error deserializing function for unary operator "+g.join(", "));d=function(a){return function(b){var c;return c=Bb.call(arguments,1),a.apply(this,[f(this.parser,b)].concat(Cb(c))).reduce(this.parser)}}(d),this.enterMacro(0,N),y.call(this,0,"unaryOperator",d,void 0,g,h,e),this.exitMacro()}},D.startMacroSyntax=function(a,b,c){function d(a,b,c){if(b.inAst.peek()||!b.expandingMacros)return lg.MacroAccess(c,b.scope.peek(),j,x(a),"statement"===b.position.peek(),b.inGenerator.peek(),b.inEvilAst.peek());throw new Error("Cannot use macro until fully defined")}var e,f,g,h,i,j,k,l;if(null==c&&(c={}),!this.currentMacro)throw new Error("Attempting to specify a macro syntax when not in a macro");for(l=n.call(this,b),k=this.macros,e=Cb(k.getOrAddByNames(this.currentMacro)),f=0,g=e.length;g>f;++f)i=e[f],i.data.push((h=v(["macroName",i.token],["macroData",l]),wf(d)(h)));return this.pendingMacroId=j=k.addMacro(d,void 0,null!=c.type&&zb.call(th,h=c.type)?th[h]:void 0),b},D.macroSyntax=function(a,c,d,e,f){var g,h,i,j,k;if(!zb.call(M,c))throw new Error("Unknown macro-syntax type: "+c);this.currentMacro||this.error("Attempting to specify a macro syntax when not in a macro"),g=M[c].call(this,a,d,f,e,this.options,b("./jstranslator")),h=g.handler,j=g.rule,k=g.serialization,g=null,i=y.call(this,a,c,h,j,d,e),null!=k&&(k.id=i,this.macros.addMacroSerialization(k))},F={},D.defineBinaryOperator=function(a,b,c,d){return this.enterMacro(a,F),this.macroSyntax(a,"binaryOperator",b,c,d),this.exitMacro()},E={},D.defineAssignOperator=function(a,b,c,d){return this.enterMacro(a,E),this.macroSyntax(a,"assignOperator",b,c,d),this.exitMacro()},N={},D.defineUnaryOperator=function(a,b,c,d){return this.enterMacro(a,N),this.macroSyntax(a,"unaryOperator",b,c,d),this.exitMacro()},H={},D.defineSyntax=function(a,b,c,d){return this.enterMacro(a,H),this.macroSyntax(a,"defineSyntax",c,{name:b},d),this.exitMacro()},D.defineConst=function(a,b,c){var d;d=this.scope.peek(),d===this.scope.initial&&(this.macros.addConst(b,c),this.options.serializeMacros&&this.macros.addSerializedConst(b)),d.addConst(b,c)},D.getConst=function(a,b){var c,d;return null==b&&(b=this.scope.peek()),null!=(c=b.constValue(a))?c:(d=this.macros.consts,zb.call(d,a)?{value:d[a]}:void 0)},D.getConstValue=function(a,b){var c;return c=this.getConst(a),c?c.value:b},D.deserializeMacros=function(a){var b,c,d,e,f,g,h;for(h in K)if(zb.call(K,h))for(f=K[h],b=Cb(null!=(e=zb.call(a,h)?a[h]:void 0)?e:[]),c=0,d=b.length;d>c;++c)g=b[c],f.call(this,g)},D.macroExpand1=function(a){var b,c,d,e,f,g;if(null!=a._macroExpanded)return a._macroExpanded;if(a instanceof lg.MacroAccess){for(e=[];a instanceof lg.MacroAccess;){e.push(a),this.position.push(a.inStatement?"statement":"expression"),this.inGenerator.push(a.inGenerator),this.inEvilAst.push(a.inEvilAst),this.scope.push(a.scope),f=this.expandingMacros,this.expandingMacros=!0,g=void 0;try{g=this.macros.getById(a.id)(a.data,this,a.index)}catch(h){throw h instanceof Xe&&h.setPosition(a.callLine,0),h}finally{this.scope.pop(),this.position.pop(),this.inGenerator.pop(),this.inEvilAst.pop(),this.expandingMacros=f}a=a.doWrapped?g.doWrap(this):g}for(b=0,c=e.length;c>b;++b)d=e[b],d._macroExpanded=a;return a}return a._macroExpanded=a},D.macroExpandAllAsync=function(a,b){return B().call(this,a,function(a,c){return b(a,c)})},D.macroExpandAll=function(a){return C.call(this,a)},D.macroExpandAllPromise=function(a){var b;return this.options.sync?ub.fulfilled(this.macroExpandAll(a)):(b=ub(),this.macroExpandAllAsync(a,function(a,c){return a?b.reject(a):b.fulfill(c)}),b.promise)},D.clearCache=function(){this.cache=[]},a}(),ig=Ab(function(a,b,c){function d(){h=8}function e(d){for(;;)switch(h){case 0:null==b&&(b=null),null==c&&(c={}),o=jg(a,null!=b?b.clone():void 0,c),b=o.macros,r=c.embeddedGenerator?zd:c.embedded?Bd:Gg,s=(new Date).getTime(),++h;case 1:h=c.sync?2:3;break;case 2:q=r.sync(o),h=6;break;case 3:return++h,{done:!1,value:r(o)};case 4:q=d,h=6;break;case 5:if(i!==Og)throw i;++h;case 6:if(o.clearCache(),k=(new Date).getTime(),"function"==typeof c.progress&&c.progress("parse",k-s),!q||q.index<a.length)throw o.getFailure(null!=q?q.index:void 0);return++h,{done:!1,value:o.macroExpandAllPromise(q.value)};case 7:return m=d,j=(new Date).getTime(),"function"==typeof c.progress&&c.progress("macroExpand",j-k),p=m.reduce(o),l=(new Date).getTime(),"function"==typeof c.progress&&c.progress("reduce",l-j),n=o.getPosition,o=null,++h,{done:!0,value:{result:p,macros:b,getPosition:n,parseTime:k-s,macroExpandTime:j-k,reduceTime:l-j,time:l-s}};case 8:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+h)}}function f(a){if(!(h>=1&&4>=h))throw d(),a;i=a,h=5}function g(a){for(;;)try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m,n,o,p,q,r,s;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),ig.ParserError=kg,ig.MacroError=Xe,ig.Node=lg,ig.MacroHolder=Ye,ig.unusedCaches=Ch,ig.deserializePrelude=function(a){var b,c;return b="string"==typeof a?Function("'use strict'; return "+a)():a,c=jg(),c.macros.deserialize(b,c,{}),c.macros},ig.getReservedWords=function(a,b){return null==b&&(b={}),Bh($d(b).concat(Cb(null!=a&&"function"==typeof a.getMacroAndOperatorNames&&a.getMacroAndOperatorNames()||[])))},a.exports=ig}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-utils"]=function(){var a={exports:this},c=this;return function(){function a(a,b,c){var d,e,f,g,h,i,j;for(j=[],g=!1,d=k(a),e=0,f=d.length;f>e;++e)h=d[e],i=b.call(c,h),j.push(i),h!==i&&(g=!0);return g?j:a}function d(a,b,c,d){var e;return e=!1,f(1,+a.length,!0,function(d,f){var g,h;return h=a[d],b.call(c,h,(g=!1,function(a,b){if(g)throw new Error("Attempted to call function more than once");return g=!0,"undefined"!=typeof a&&null!==a?f(a):(h!==b&&(e=!0),f(null,b))}))},function(b,c){return"undefined"!=typeof b&&null!==b?d(b):d(null,e?c:a)})}function e(a,c,d){var f,g,h,i,j,o,p,q,r;if(r=b("./parser-nodes"),c.isInternalCall()){if(c.func.isParam)if(o=c.args[0],q=c.args[2].constValue(),p=d||c.args[3].constValue(),h=c.args[4].convertNothing(void 0),o.isSymbol&&o.isIdentOrTmp)a.add(o,p,h?m(h):q?n.array:n.any);else{if(!o.isInternalCall("access"))throw new Error("Unknown param ident: "+l(o));if(i=o.args[1],!i.isConstType("string"))throw new Error("Expected constant access: "+l(i));a.add(r.Symbol.ident(c.index,c.scope,i.value),p,h?m(h):q?n.array:n.any)}else if(c.func.isArray)for(f=k(c.args),g=f.length;g--;)j=f[g],e(a,j,d);else if(c.func.isObject)for(f=k(c.args),g=f.length-1;g>=1;--g)j=f[g],e(a,j.args[1],d)}else if(!c.isSymbol||!c.isInternal||!c.isNothing)throw new Error("Unknown param node type: "+l(c))}var f,g,h,i,j,k,l,m,n;f=function(a,b,c,d,e){function f(a,b){j||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||g())}function g(){for(;!j&&null==i&&a>n&&++k<b;)++n,o=!0,d(k,h(f)),o=!1;j||null==i&&0!==n||(j=!0,null!=i?e(i):e(null,m))}var i,j,k,m,n,o;if("number"!=typeof a)throw new TypeError("Expected limit to be a Number, got "+l(a));if("number"!=typeof b)throw new TypeError("Expected length to be a Number, got "+l(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw new TypeError("Expected hasResult to be a Boolean, got "+l(c));if("function"!=typeof d)throw new TypeError("Expected onValue to be a Function, got "+l(d));if("function"!=typeof e)throw new TypeError("Expected onComplete to be a Function, got "+l(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,j=!1,k=-1,g(),void 0)},g="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),h=function(){function a(){throw new Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw new TypeError("Expected func to be a Function, got "+l(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw new TypeError("Expected silentFail to be a Boolean, got "+l(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),i=Object.prototype.hasOwnProperty,j=Array.prototype.slice,k=function(a){if(null==a)throw new TypeError("Expected an object, got "+l(a));if(g(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return j.call(a);throw new TypeError("Expected an object with a length property, got "+l(a))},l=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),n=b("./types"),m=function(){var a;return a={Boolean:n.boolean,String:n.string,Number:n.number,Array:n.array,Object:n.object,Function:n["function"],RegExp:n.regexp,Date:n.date,Error:n.error,RangeError:n.error,ReferenceError:n.error,SyntaxError:n.error,TypeError:n.error,URIError:n.error},function(b){var c,d,e,f,g,h,j,l,o,p,q,r,s;switch(b.nodeTypeId){case 0:switch(b.value){case null:return n["null"];case void 0:return n.undefined;default:return n.any}break;case 1:return b.isIdent&&i.call(a,b.name)?a[b.name]:n.any;case 2:if(!b.isInternalCall())return n.any;switch(b.func.name){case"typeUnion":for(o=n.none,c=k(b.args),f=0,g=c.length;g>f;++f)s=c[f],o=o.union(m(s));return o;case"typeGeneric":for(l=m(b.args[0]),c=[],d=k(b.args),f=1,g=d.length;g>f;++f)h=d[f],c.push(m(h));return j=c,l===n.array||l===n["function"]?n.generic.apply(n,[l.base].concat(j)):l!==n.any?n.generic.apply(n,[l].concat(j)):n.any;case"typeObject":for(p={},q=0,e=+b.args.length;e>q;q+=2)r=b.args[q],r.isConst()&&(p[r.constValue()]=m(b.args[q+1]));return n.makeObject(p);default:return n.any}break;default:return n.any}}}(),c.nodeToType=m,c.map=a,c.mapAsync=d,c.addParamToScope=e}.call(this),a.exports},b["./parser-scope"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw new TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw new TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),p=b("./types"),l=b("./parser-nodes"),k=l.Symbol.ident,o=l.Symbol.tmp,n=function(a){function b(d){var f,g;return f=this instanceof b?this:c(e),null==d&&(d="Scope already destroyed"),f.message=d,g=a.call(f,f.message),"function"==typeof a.captureStackTrace?a.captureStackTrace(f,b):"stack"in g&&(f.stack=g.stack),f}var d,e;return d=a.prototype,e=b.prototype=c(d),e.constructor=b,b.displayName="ScopeDestroyedError","function"==typeof a.extended&&a.extended(b),e.name="ScopeDestroyedError",b}(Error),m=function(){function a(b,d){var e;if(e=this instanceof a?this:c(l),null==b&&(b=null),e.parent=b,null==d&&(d=!1),e.isTop=d,!b&&!d)throw new Error("Must either provide a parent or is-top = true");return e.destroyed=!1,e.children=[],e.variables={},e.consts={},e.tmps={},d||b.children.push(e),e}function e(a){var b;for(b in a)if(f.call(a,b))return!1;return!0}function g(a,b){var c,d,e,i,j,k;if(k=a.variables,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(i=g(j,b)))return i}function i(a,b){var c,d,e,g,j,k;if(k=a.tmps,f.call(k,b))return k[b];for(c=h(a.children),d=0,e=c.length;e>d;++d)if(j=c[d],null!=(g=i(j,b)))return g}function j(a,b){var c,d,e,f,h;for(e=a,f=b instanceof o,h=0;e;){if(++h,h>1e3)throw new Error("Infinite loop detected");if(e=e.top(),f){if(null!=(c=i(e,b.id)))return c}else if(null!=(d=g(e,b.name)))return d;e=e.parent}}function k(a,b){var c,d,e,g,i,j;if(j=a.consts,f.call(j,b))return{value:j[b]};for(c=h(a.children),d=0,e=c.length;e>d;++d)if(i=c[d],null!=(g=k(i,b)))return g}var l;return l=a.prototype,a.displayName="Scope",l._allVariables=function(){var a,b,c,e,f;for(f=d({},this.variables),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allVariables());return f},l._allTmps=function(){var a,b,c,e,f;for(f=d({},this.tmps),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allTmps());return f},l._allConsts=function(){var a,b,c,e,f;for(f=d({},this.consts),a=h(this.children),b=0,c=a.length;c>b;++b)e=a[b],d(f,e._allConsts());return f},l.inspect=function(){var a,c,d,f,g;return this.isTop?(c=b("util").inspect,g=this._allVariables(),f=this._allTmps(),a=this._allConsts(),d=[],d.push("Scope("),e(g)&&e(f)&&e(a)||d.push(c(g)),e(f)&&e(a)||(d.push(", "),d.push(c(f))),e(a)||(d.push(", "),d.push(c(a))),d.push(")"),this.parent&&(d.push(" -> "),d.push(this.parent.inspect())),d.join("")):this.top().inspect()},l.destroy=function(){var a,b,c,d,e;if(this.destroyed)throw n();for(a=h(this.children),b=a.length;b--;)c=a[b],c.destroy();if(!this.isTop){if(e=this.parent.children,d=e.lastIndexOf(this),-1===d)throw new Error("Not found in parents' children");e.splice(d,1)}},l.clone=function(b){if(null==b&&(b=!1),this.destroyed)throw n();return a(this,b)},l.reparent=function(a){var b,c,d;if(null==a&&(a=null),this.destroyed)throw n();if(!a&&!this.isTop)throw new Error("Must either provide a parent or is-top = true");if(c=this.parent,a!==c){if(a===this)throw new Error("Cannot parent to self");if(a&&a.parent===this)throw new Error("Trying to become your own grandpa");if(this.parent=a,!this.isTop){if(d=c.children,b=d.lastIndexOf(this),-1===b)throw new Error("Not found in old parents' children");d.splice(b,1),a.children.push(this)}}},l.top=function(){if(this.destroyed)throw n();return this.isTop?this:this.parent.top()},l.add=function(a,b,c){if(null==b&&(b=!1),null==c&&(c=null),this.destroyed)throw n();a instanceof o?this.tmps[a.id]={isMutable:b,type:c}:this.variables[a.name]={isMutable:b,type:c}},l.addConst=function(a,b){this.consts[a]=b},l.has=function(a){if(this.destroyed)throw n();return null!=j(this,a)},l.isMutable=function(a){var b;if(this.destroyed)throw n();return(null!=(b=j(this,a))?b.isMutable:void 0)||!1},l.type=function(a){var b,c;if(this.destroyed)throw n();return b=j(this,a),b?(c=b.type,"function"==typeof c&&(b.type=p.any,b.type=c=c()),b.isMutable&&c&&c.isSubsetOf(p.undefinedOrNull)?b.type=p.any:c):p.any},l.constValue=function(a){var b,c,d;if(this.destroyed)throw n();for(c=this,d=0;c;){if(++d,d>1e3)throw new Error("Infinite loop detected");if(c=c.top(),null!=(b=k(c,a)))return b;c=c.parent}},a}(),a.exports=m,j=a.exports,j.ScopeDestroyedError=n}.call(this),a.exports},b["./parser-nodes"]=function(){var a={exports:this};return function(c){function d(a){return a.charAt(0).toUpperCase()+a.substring(1)}function e(a){var b;return null===a||"number"==(b=typeof a)||"string"===b||"boolean"===b||"undefined"===b}function f(a,b,c){var d;return d=q.call(arguments,3),v.apply(void 0,[b,c,A[a](b)].concat(d))}var g,h,i,j,k,l,m,n,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;g=function(a,b,c,d,e){function f(a,b){i||(--l,null!=a&&null==h&&(h=a),c&&null==h&&arguments.length>1&&k.push(b),m||g())}function g(){for(;!i&&null==h&&a>l&&++j<b;)++l,m=!0,d(j,n(f)),m=!1;i||null==h&&0!==l||(i=!0,null!=h?e(h):e(null,k))}var h,i,j,k,l,m;if("number"!=typeof a)throw new TypeError("Expected limit to be a Number, got "+s(a));if("number"!=typeof b)throw new TypeError("Expected length to be a Number, got "+s(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw new TypeError("Expected hasResult to be a Boolean, got "+s(c));if("function"!=typeof d)throw new TypeError("Expected onValue to be a Function, got "+s(d));if("function"!=typeof e)throw new TypeError("Expected onComplete to be a Function, got "+s(e));return k=c?[]:null,0>=b?e(null,k):((1>a||a!==a)&&(a=1/0),h=null,l=0,m=!1,i=!1,j=-1,g(),void 0)},h="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},i="function"==typeof Array.prototype.indexOf?function(a){return function(b,c){return-1!==a.call(c,b)}}(Array.prototype.indexOf):function(a,b){var c,d;for(d=+b.length,c=-1;++c<d;)if(a===b[c]&&c in b)return!0;return!1},j="function"==typeof Object.is?Object.is:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},k="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),l="function"==typeof Object.keys?Object.keys:function(a){var b,c;c=[];for(b in a)p.call(a,b)&&c.push(b);return c},m=function(a){if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+s(a));return a.displayName||a.name||""},n=function(){function a(){throw new Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw new TypeError("Expected func to be a Function, got "+s(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw new TypeError("Expected silentFail to be a Boolean, got "+s(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),p=Object.prototype.hasOwnProperty,q=Array.prototype.slice,r=function(a){if(null==a)throw new TypeError("Expected an object, got "+s(a));if(k(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return q.call(a);throw new TypeError("Expected an object with a length property, got "+s(a))},s=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),B=b("./jsutils").toJSSource,C=b("./types"),t=b("./utils"),u=t.Cache,w=t.isPrimordial,t=null,z=b("./parser-utils").nodeToType,y=function(){function a(){var c;throw c=this instanceof a?this:h(b),new Error("Node is not intended to be initialized directly")}var b;return b=a.prototype,a.displayName="Node",b.isValue=!1,b.isSymbol=!1,b.isCall=!1,b.isMacroAccess=!1,b.isNoop=function(){throw new Error("Not implemented: "+m(this.constructor)+".isNoop()")},b.isConst=function(){return!1},b.constValue=function(){throw new Error("Not a const: "+("undefined"==typeof this?"Undefined":s(this)))},b.isConstValue=function(){return!1},b.isConstType=function(){return!1},b.isConstTruthy=function(){return!1},b.isConstFalsy=function(){return!1},b.isLiteral=function(){return this.isConst()},b.literalValue=function(){return this.constValue()},b.isStatement=function(){return!1},b.doWrap=function(){return this},b.type=function(){return C.any},b.walk=function(){return this},b.walkAsync=function(a,b,c){c(null,this)},b.walkWithThis=function(a,b){var c;return null!=(c=a.call(b,this))?c:this.walk(a,b)},b.walkWithThisAsync=function(a,b,c){var d;d=this,a.call(b,function(e,f){e?c(e):null!=f?c(null,f):d.walkAsync(a,b,c)})},b.isInternalCall=function(){return!1},b.isUnaryCall=function(){return!1},b.isBinaryCall=function(){return!1},b.isAssignCall=function(){return!1},b.isNormalCall=function(){return!1},b.doWrapArgs=!0,b.convertNothing=function(){return this},b.returnType=function(a,b){return b?C.undefined:C.none},b.mutateLast=function(a,b,c){var d;return null!=(d=b.call(c,this))?d:this},b.withLabel=function(a){return a?f("label",this.index,this.scope,a,this):this},b._reduce=function(a){return this.walk(function(b){return b.reduce(a)})},b.reduce=function(a){var b;return null!=this._reduced?this._reduced:(b=this._reduce(a),this._reduced=b===this?this:b.reduce(a))},b.rescope=function(a){function b(d){var e,f;return e=d.scope,e&&e!==a?e===c?d.rescope(a):(f=e.parent,f===c&&e.reparent(a),d.walk(b)):d}var c;return this.scope&&this.scope!==a?(c=this.scope,this.scope=a,this.walk(b)):this},a}(),D=function(a){function b(a,c){var e;return e=this instanceof b?this:h(d),e.index=a,e.value=c,e}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="Value","function"==typeof a.extended&&a.extended(b),d.isValue=!0,d.nodeType="value",d.nodeTypeId=0,d.cacheable=!1,d.reduce=function(){return this},d.isNoop=function(){return!0},d.constValue=function(){return this.value},d.isConst=function(){return!0},d.isConstValue=function(a){return a===this.value},d.isConstType=function(a){return a===typeof this.value},d.isConstTruthy=function(){return!!this.value},d.isConstFalsy=function(){return!this.value},d.equals=function(a){return a===this||a instanceof b&&j(this.value,a.value)},d.type=function(){var a;if(a=this.value,null===a)return C["null"];switch(typeof a){case"number":return C.number;case"string":return C.string;case"boolean":return C.boolean;case"undefined":return C.undefined;default:throw new Error("Unhandled value in switch")}},d.inspect=function(){return"Value("+B(this.value)+")"},d.toString=function(){var a;if(a=this.value,a!==a)return"NaN";switch(a){case void 0:return"void";case null:return"null";case 1/0:return"Infinity";case-1/0:return"-Infinity";default:return B(a)}},b}(y),A=function(a){function b(){var a;throw a=this instanceof b?this:h(g),new Error("Symbol is not intended to be instantiated directly")}var f,g,i,j,k,l;return f=a.prototype,g=b.prototype=h(f),g.constructor=b,b.displayName="Symbol","function"==typeof a.extended&&a.extended(b),g.isSymbol=!0,g.nodeType="symbol",g.nodeTypeId=1,g.isNoop=function(){return!0},g.isIdent=!1,g.isTmp=!1,g.isIdentOrTmp=!1,g.isInternal=!1,g.isOperator=!1,g.reduce=function(){return this},g.cacheable=!1,j=function(b){function f(){var a;throw a=this instanceof f?this:h(j),new Error("Internal is not intended to be instantiated directly")}function g(a,c){var e,g;return e="is"+d(a),j[e]=!1,b[a]=g=function(b){function d(a){var b;return b=this instanceof d?this:h(g),b.index=a,b}var f,g,i,j;f=b.prototype,g=d.prototype=h(f),g.constructor=d,d.displayName="Symbol_name","function"==typeof b.extended&&b.extended(d),g.name=a,d.displayName="Symbol."+a,g.equals=function(a){return a===this||a instanceof d},g[e]=!0;for(i in c)p.call(c,i)&&(j=c[i],g[i]=j);return d}(f)}var j,k,l,m;k=b.prototype,j=f.prototype=h(k),j.constructor=f,f.displayName="Internal","function"==typeof b.extended&&b.extended(f),j.inspect=function(){return"Symbol."+this.name},j.toString=function(){return this.name+"!"},j.isInternal=!0,j.symbolType="internal",j.symbolTypeId=0,j.isGoto=!1,j.usedAsStatement=!1,l={access:{internalId:0,validateArgs:function(){var a;a=q.call(arguments,2)},_toString:function(a){var b,c;return c=[],c.push(a.args[0]),b=a.args[1],b.isConstType("string")&&/^[\w\$_][\w\d\$_]*$/.test(b.constValue())?(c.push("."),c.push(b.constValue())):(c.push("["),c.push(b),c.push("]")),c.join("")},_type:function(){var a,b,c;return c={Object:{getPrototypeOf:C.object["function"]().union(C.undefined),getOwnPropertyDescriptor:C.object["function"]().union(C.undefined),getOwnPropertyNames:C.string.array()["function"]().union(C.undefined),create:C.object["function"]().union(C.undefined),defineProperty:C.object["function"]().union(C.undefined),defineProperties:C.object["function"]().union(C.undefined),seal:C.object["function"]().union(C.undefined),freeze:C.object["function"]().union(C.undefined),preventExtensions:C.object["function"]().union(C.undefined),isSealed:C.boolean["function"]().union(C.undefined),isFrozen:C.boolean["function"]().union(C.undefined),isExtensible:C.boolean["function"]().union(C.undefined),keys:C.string.array()["function"]().union(C.undefined)},String:{fromCharCode:C.string["function"]()},Number:{isFinite:C.boolean["function"]().union(C.undefined),isNaN:C.boolean["function"]().union(C.undefined)},Array:{isArray:C.boolean["function"]().union(C.undefined)},Math:{abs:C.number["function"](),acos:C.number["function"](),asin:C.number["function"](),atan:C.number["function"](),atan2:C.number["function"](),ceil:C.number["function"](),cos:C.number["function"](),exp:C.number["function"](),floor:C.number["function"](),imul:C.number["function"]().union(C.undefined),log:C.number["function"](),max:C.number["function"](),min:C.number["function"](),pow:C.number["function"](),random:C.number["function"](),round:C.number["function"](),sin:C.number["function"](),sqrt:C.number["function"](),tan:C.number["function"]()},JSON:{stringify:C.string.union(C.undefined)["function"]().union(C.undefined),parse:C.string.union(C.number).union(C.boolean).union(C["null"]).union(C.array).union(C.object)["function"]().union(C.undefined)},Date:{UTC:C.number["function"]().union(C.undefined),now:C.number["function"]().union(C.undefined)}},b={Object:{toString:C.string["function"](),toLocaleString:C.string["function"]()},String:{valueOf:C.string["function"](),charAt:C.string["function"](),charCodeAt:C.number["function"](),concat:C.string["function"](),indexOf:C.number["function"](),lastIndexOf:C.number["function"](),localeCompare:C.number["function"](),match:C.array.union(C["null"])["function"](),replace:C.string["function"](),search:C.number["function"](),slice:C.string["function"](),split:C.string.array()["function"](),substring:C.string["function"](),toLowerCase:C.string["function"](),toLocaleLowerCase:C.string["function"](),toUpperCase:C.string["function"](),toLocaleUpperCase:C.string["function"](),trim:C.string["function"](),length:C.number},Boolean:{valueOf:C.boolean["function"]()},Number:{valueOf:C.number["function"](),toFixed:C.string["function"](),toExponential:C.string["function"](),toPrecision:C.string["function"]()},Array:{length:C.number,join:C.string["function"](),pop:C.any["function"](),push:C.number["function"](),concat:C.array["function"](),reverse:C.array["function"](),shift:C.any["function"](),unshift:C.number["function"](),slice:C.array["function"](),splice:C.array["function"](),sort:C.array["function"](),filter:C.array["function"]().union(C.undefined),forEach:C.undefined["function"]().union(C.undefined),some:C.boolean["function"]().union(C.undefined),every:C.boolean["function"]().union(C.undefined),map:C.array["function"]().union(C.undefined),indexOf:C.number["function"](),lastIndexOf:C.number["function"](),reduce:C.any["function"]().union(C.undefined),reduceRight:C.any["function"]().union(C.undefined)},Arguments:{length:C.number,callee:C.none,caller:C.none},Date:{toDateString:C.string["function"](),toTimeString:C.string["function"](),toLocaleDateString:C.string["function"](),toLocaleTimeString:C.string["function"](),valueOf:C.number["function"](),getTime:C.number["function"](),getFullYear:C.number["function"](),getUTCFullYear:C.number["function"](),getMonth:C.number["function"](),getUTCMonth:C.number["function"](),getDate:C.number["function"](),getUTCDate:C.number["function"](),getDay:C.number["function"](),getUTCDay:C.number["function"](),getHours:C.number["function"](),getUTCHours:C.number["function"](),getMinutes:C.number["function"](),getUTCMinutes:C.number["function"](),getSeconds:C.number["function"](),getUTCSeconds:C.number["function"](),getMilliseconds:C.number["function"](),getUTCMilliseconds:C.number["function"](),getTimezoneOffset:C.number["function"](),setTime:C.number["function"](),setMilliseconds:C.number["function"](),setUTCMilliseconds:C.number["function"](),setSeconds:C.number["function"](),setUTCSeconds:C.number["function"](),setMinutes:C.number["function"](),setUTCMinutes:C.number["function"](),setHours:C.number["function"](),setUTCHours:C.number["function"](),setDate:C.number["function"](),setUTCDate:C.number["function"](),setMonth:C.number["function"](),setUTCMonth:C.number["function"](),setFullYear:C.number["function"](),setUTCFullYear:C.number["function"](),toUTCString:C.string["function"](),toISOString:C.string["function"](),toJSON:C.string["function"]()},RegExp:{exec:C.array.union(C["null"])["function"](),test:C.boolean["function"](),global:C.boolean,ignoreCase:C.boolean,multiline:C.boolean,sticky:C.boolean.union(C.undefined)},Error:{name:C.string,message:C.string,stack:C.any}},a=u(),function(d,e){var f;return f=a.get(d),void 0===f&&(f=function(){var a,f,g,h,j,k,l,m;if(a=d.args,j=a[0],f=a[1],a=null,e&&(f=e.macroExpand1(f).reduce(e)),k=j.type(e),f.isConst()){if(g=f.constValue(),j instanceof i&&p.call(c,j.name)&&(l=c[j.name],p.call(l,g)))return l[g];if(k.isSubsetOf(C.string)?h=b.String:k.isSubsetOf(C.boolean)?h=b.Boolean:k.isSubsetOf(C.number)?h=b.Number:k.isSubsetOf(C.array)?h=b.Array:k.isSubsetOf(C.date)?h=b.Date:k.isSubsetOf(C.regexp)?h=b.RegExp:k.isSubsetOf(C.error)&&(h=b.Error),h&&p.call(h,g))return h[g];
if(p.call(b.Object,g))return b.Object[g];if(k.isSubsetOf(C.object)&&"function"==typeof k.value&&(m=k.value(String(f.constValue())),m!==C.any))return m}if(f.type(e).isSubsetOf(C.number)){if(k.isSubsetOf(C.string))return C.string.union(C.undefined);if(k.subtype&&k.isSubsetOf(C.array))return k.subtype}return C.any}(),a.set(d,f)),f}}(),__reduce:function(c,d){function e(c){return c instanceof i&&"__currentArrayLength"===c.name?(u.cacheable&&null==l&&(l=d.makeTmp(c.index,"ref",u.type(d)),l.scope=c.scope),v(c.index,c.scope,b.access(c.index),null!=l?l:u,D(c.index,"length"))):c instanceof a&&c.isInternalCall("access")?c:c.walk(e)}var f,g,h,j,k,l,m,n,o,p,q,s,t,u,w,x,y,z;if(u=c.args[0],l=null,m=e(c.args[1].reduce(d)),null!=l)return v(c.index,c.scope,b.tmpWrapper(c.index),v(c.index,c.scope,b.access(c.index),v(c.index,c.scope,b.assign["="](c.index),l,u),m),D(c.index,l.id));if(u.isLiteral()&&m.isConst())if(n=m.constValue(),u.isConst()){if(w=u.constValue(),n in Object(w)&&(z=w[n],null===z||"string"==(j=typeof z)||"number"===j||"boolean"===j||"undefined"===j))return D(c.index,z)}else if(u instanceof a&&u.isInternalCall())if(u.func.isArray){if("length"===n)return D(this.index,u.args.length);if("number"==typeof n)return u.args[n]||D(this.index,void 0)}else if(u.func.isObject)for(f=r(u.args),g=1,h=f.length;h>g;++g)if(t=f[g],t.args[0].isConstValue(n)&&!t.args[2])return t.args[1];return m instanceof v&&m.func instanceof i&&"__range"===m.func.name?(j=m.args,x=j[0],o=j[1],y=j[2],s=j[3],j=null,q=!y.isConst()||1!==y.constValue(),q||(s.isConst()?s.constValue()&&(o=o.isConst()&&"number"==typeof o.constValue()?D(o.index,+o.constValue()+1||1/0):v(o.index,o.scope,b.binary["||"](o.index),v(o.index,o.scope,b.binary["+"](o.index),o,D(s.index,1)),D(o.index,1/0))):o=v(o.index,o.scope,b["if"](o.index),s,v(o.index,o.scope,b.binary["||"](o.index),v(o.index,o.scope,b.binary["+"](o.index),o,D(s.index,1)),D(o.index,1/0)),o)),k=[u],p=!o.isConst()||void 0!==(j=o.constValue())&&j!==1/0,(!x.isConst()||0!==x.constValue()||p||q)&&k.push(x),(p||q)&&k.push(o),q&&(k.push(y),(!s.isConst()||s.constValue())&&k.push(s)),q?v.apply(void 0,[c.index,c.scope,i(c.index,c.scope,"__sliceStep")].concat(k)).reduce(d):v.apply(void 0,[c.index,c.scope,b.contextCall(c.index),i(c.index,c.scope,"__slice")].concat(k)).reduce(d)):m!==c.args[1]?v(c.index,c.scope,c.func,u,m):void 0},___reduce:function(){var a;return a={String:{fromCharCode:!0},Number:{isFinite:!0,isNaN:!0},Math:{abs:!0,acos:!0,asin:!0,atan:!0,atan2:!0,ceil:!0,cos:!0,exp:!0,floor:!0,log:!0,max:!0,min:!0,pow:!0,round:!0,sin:!0,sqrt:!0,tan:!0},JSON:{parse:!0,stringify:!0}},function(b,d){var f,g,h,j,k,l,m,n,o,q,s;if(j=b.args,o=j[0],l=j[1],j=null,l.isConst()){for(n=[],f=r(d.args),g=0,h=f.length;h>g;++g){if(k=f[g],!k.isConst())return;n.push(k.constValue())}if(m=l.constValue(),o.isConst()){if(q=o.constValue(),"function"==typeof q[m]){try{s=q[m].apply(q,n)}catch(t){return}if(e(s))return D(d.index,s)}}else if(o instanceof i&&p.call(a,o.name)&&p.call(a[o.name],m)){try{s=(j=c[o.name])[m].apply(j,n)}catch(t){return}if(e(s))return D(d.index,s)}}}}(),_isNoop:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].isNoop(c)&&b.args[1].isNoop(c),a.set(b,d)),d}}()},array:{internalId:1,validateArgs:function(){var a;a=q.call(arguments)},_toString:function(a){var b;return b=[],b.push("["),b.push(a.args.join(", ")),b.push("]"),b.join("")},_type:function(){return C.array},_isLiteral:function(){var a;return a=u(),function(b){var c,d,e,f,g,h;if(g=a.get(b),void 0===g){for(d=!0,c=r(b.args),e=0,f=c.length;f>e;++e)if(h=c[e],!h.isLiteral()){d=!1;break}g=d,a.set(b,g)}return g}}(),_literalValue:function(a){var b,c,d,e,f;for(b=[],c=r(a.args),d=0,e=c.length;e>d;++d)f=c[d],b.push(f.literalValue());return b},_isNoop:function(){var a;return a=u(),function(b,c){var d,e,f,g,h,i;if(h=a.get(b),void 0===h){for(e=!0,d=r(b.args),f=0,g=d.length;g>f;++f)if(i=d[f],!i.isNoop(c)){e=!1;break}h=e,a.set(b,h)}return h}}()},autoReturn:{internalId:2,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,1)},isGoto:!0,usedAsStatement:!0,_returnType:function(a,b){return a.args[0].returnType(b,!1).union(a.args[0].type(b))}},block:{internalId:3,doWrapArgs:!1,_type:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=function(){var a,d,e,f,g,h;if(g=b.args,0===g.length)return C.undefined;for(a=r(g),e=0,f=a.length,d=-1,d+=f,d>f&&(d=f);d>e;++e)h=a[e],h.type(c);return g[g.length-1].type(c)}(),a.set(b,d)),d}}(),_returnType:function(a,b,c){var d,e,f,g,h;for(f=C.none,d=r(a.args),g=0,h=d.length;h>g;++g)e=d[g],f=f.union(e.returnType(b,c&&g===h-1));return f},_withLabel:function(c,d,e){var f,g,h;return f=c.args,h=f.length,1===h?f[0].withLabel(d(e)):h>1&&(g=f[h-1],g instanceof a&&g.isInternalCall("forIn")&&function(){var b,c,d,e,g,h;for(d=!0,b=r(f),e=0,g=b.length,c=-1,c+=g,c>g&&(c=g);c>e;++e)if(h=b[e],!(h instanceof a)||!h.isInternalCall("var")&&!h.isAssignCall()){d=!1;break}return d}())?v.apply(void 0,[c.index,c.scope,c.func].concat(r(q.call(f,0,-1)),[g.withLabel(d,e)])):v(c.index,c.scope,b.label(c.index),d,c)},__reduce:function(){function c(a){var b,c,d,e;for(b=!1,d=a.length-1;d>0;--d)c=a[d],e=a[d-1],!e.isAssignCall("=")||e.args[0].isIdentOrTmp&&!e.scope.isMutable(e.args[0])&&e.args[1].isInternalCall("function")||(e.args[0].equals(c)?(b||(a=a.slice(),b=!0),a.splice(d,1)):!c.isAssignCall()||!e.args[0].equals(c.args[1])||c.args[0].isInternalCall("access")&&c.args[0].args[0].equals(e.args[0])||(b||(a=a.slice(),b=!0),a.splice(d-1,2,v(c.index,c.scope,c.func,c.args[0],e))));return a}return function(d){var e,f,g,h,i,j,k,l;for(h=!1,g=[],f=d.args,e=r(f),i=0,j=e.length;j>i;++i)if(l=e[i],l instanceof b.nothing||j-1>i&&l.isConst())h=!0;else if(l instanceof a&&l.isInternalCall())if(l.func.isBlock)g.push.apply(g,r(l.args)),h=!0;else{if(l.func.isGoto){g.push(l),j-1>i&&(h=!0);break}g.push(l)}else g.push(l);switch(k=c(g),k!==g&&(h=!0,g=k),g.length){case 0:return b.nothing(this.index);case 1:return g[0];default:return h?v.apply(void 0,[this.index,this.scope,d.func].concat(g)):void 0}}}(),_isStatement:function(){var a;return a=u(),function(b){var c,d,e,f,g,h;if(g=a.get(b),void 0===g){for(f=!1,c=r(b.args),d=0,e=c.length;e>d;++d)if(h=c[d],h.isStatement()){f=!0;break}g=f,a.set(b,g)}return g}}(),_mutateLast:function(a,c,d,e,f){var g,h,i;return g=a.args,i=g.length,0===i?b.nothing(this.index).mutateLast(c,d,e,f):(h=g[i-1].mutateLast(c,d,e,f),h!==g[i-1]?v.apply(void 0,[this.index,this.scope,a.func].concat(r(q.call(g,0,-1)),[h])):a)},_isNoop:function(){var a;return a=u(),function(b,c){var d,e,f,g,h,i;if(h=a.get(b),void 0===h){for(e=!0,d=r(b.args),f=0,g=d.length;g>f;++f)if(i=d[f],!i.isNoop(c)){e=!1;break}h=e,a.set(b,h)}return h}}()},"break":{internalId:4,doWrapArgs:!1,validateArgs:function(a){var b;null==a&&(a=null),b=q.call(arguments,1)},isGoto:!0,usedAsStatement:!0},comment:{internalId:5,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,1)}},contextCall:{internalId:6,validateArgs:function(){},_type:function(a,b){var c,d;return d=a.args[0],"function"==typeof d._type?(c=v.apply(void 0,[a.index,a.scope].concat(r(a.args))),d._type(c,b)):C.any}},"continue":{internalId:7,doWrapArgs:!1,validateArgs:function(a){var b;null==a&&(a=null),b=q.call(arguments,1)},isGoto:!0,usedAsStatement:!0},custom:{internalId:8,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,1)}},"debugger":{internalId:9,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments)},usedAsStatement:!0},embedWrite:{internalId:10,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)}},"for":{internalId:11,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,4)},usedAsStatement:!0,_returnType:function(a,b,c){var d;return d=c?C.undefined:C.none,d.union(a.args[3].returnType(b,!1))}},forIn:{internalId:12,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,3)},usedAsStatement:!0,_returnType:function(a,b,c){var d;return d=c?C.undefined:C.none,d.union(a.args[2].returnType(b,!1))}},"function":{internalId:13,doWrapArgs:!1,validateArgs:function(a){if(!a.isInternalCall("array"))throw new Error("Expected params to be an internal Array call, got "+s(a))},_type:function(){var a;return a=u(),function(c,d){var e;return e=a.get(c),void 0===e&&(e=!c.args[3]||c.args[3]instanceof b.nothing?c.args[4].constValue()?C.generator:c.args[1].returnType(d,!0)["function"]():z(c.args[3])["function"](),a.set(c,e)),e}}(),_isNoop:function(){return!0}},"if":{internalId:14,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,3)},_type:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[1].type(c).union(b.args[2].type(c)),a.set(b,d)),d}}(),_returnType:function(a,b,c){return a.args[1].returnType(b,c).union(a.args[2].returnType(b,c))},_isStatement:function(){var a;return a=u(),function(b){var c;return c=a.get(b),void 0===c&&(c=b.args[1].isStatement()||b.args[2].isStatement(),a.set(b,c)),c}}(),_doWrap:function(a,b){var c,d;return d=a.args[1].doWrap(b),c=a.args[2].doWrap(b),d!==a.args[1]||c!==a.args[2]?v(a.index,a.scope,a.func,a.args[0],d,c):a},__reduce:function(a,c){var d,e,f,g,h,i;return d=a.args,e=d[0],h=d[1],g=d[2],d=null,e.isConst()?e.constValue()?h:g:(f=e.type(c),f.isSubsetOf(C.alwaysTruthy)?v(a.index,a.scope,b.block(a.index),e,h).reduce(c):f.isSubsetOf(C.alwaysFalsy)?v(a.index,a.scope,b.block(a.index),e,g).reduce(c):(i=e.doWrap(c),i!==e?v(a.index,a.scope,a.func,i,h,g):void 0))},_mutateLast:function(a,b,c,d,e){var f,g;return g=a.args[1].mutateLast(b,c,d,e),f=a.args[2].mutateLast(b,c,d,e),g!==a.args[1]||f!==a.args[2]?v(a.index,a.scope,a.func,a.args[0],g,f):a},_isNoop:function(){var a;return a=u(),function(b,c){var d,e,f,g,h,i;if(h=a.get(b),void 0===h){for(e=!0,d=r(b.args),f=0,g=d.length;g>f;++f)if(i=d[f],!i.isNoop(c)){e=!1;break}h=e,a.set(b,h)}return h}}()},label:{internalId:15,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)},usedAsStatement:!0},macroConst:{internalId:16,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,1)},_type:function(){var a;return a=u(),function(b){var c;return c=a.get(b),void 0===c&&(c=function(){var a,c;if(a=o.getConst(b.args[0].constValue()),!a)return C.any;if(c=a.value,null===c)return C["null"];switch(typeof c){case"number":return C.number;case"string":return C.string;case"boolean":return C.boolean;case"undefined":return C.undefined;default:throw new Error("Unknown type for "+String(a.value))}}(),a.set(b,c)),c}}(),_isNoop:function(){return!0}},"new":{internalId:17,validateArgs:function(){},_type:function(){var a;return a={Array:C.array,Function:C["function"],Boolean:C.object,String:C.object,Number:C.object,RegExp:C.regexp,Date:C.date,Error:C.error,RangeError:C.error,ReferenceError:C.error,SyntaxError:C.error,TypeError:C.error,URIError:C.error},function(b){var c,d;return c=b.args[0],c instanceof i&&(d=c.name,p.call(a,d))?a[d]:C.notUndefinedOrNull}}()},nothing:{internalId:18,type:function(){return C.undefined},constValue:function(){},isConstType:function(a){return"undefined"===a},isConst:function(){return!0},isConstValue:function(a){return void 0===a},isConstTruthy:function(){return!1},isConstFalsy:function(){return!0},isNoop:function(){return!0},mutateLast:function(a,b,c,d){var e;return d?null!=(e=b.call(c,this))?e:this:this},convertNothing:function(a){return"function"==typeof a?a():a}},object:{internalId:19,validateArgs:function(){var a;a=q.call(arguments,1)},_type:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=function(){var a,d,e,f,g;for(f={},a=r(b.args),d=1,e=a.length;e>d;++d)g=a[d],2===g.args.length&&g.args[0].isConst()&&(f[g.args[0].constValue()]=g.args[1].isConst()&&null==g.args[1].constValue()?C.any:g.args[1].type(c));return C.makeObject(f)}(),a.set(b,d)),d}}(),_isLiteral:function(){var a;return a=u(),function(c){var d;return d=a.get(c),void 0===d&&(d=c.args[0]instanceof b.nothing&&function(){var a,b,d,e,f;for(b=!0,a=r(c.args),d=1,e=a.length;e>d;++d)if(f=a[d],2!==f.args.length||!f.args[0].isConst()||!f.args[1].isLiteral()){b=!1;break}return b}(),a.set(c,d)),d}}(),_literalValue:function(a){var c,d,e,f,g;if(!(a.args[0]instanceof b.nothing))throw new Error("Cannot convert object with prototype to a literal");for(g={},c=r(a.args),d=1,e=c.length;e>d;++d)f=c[d],g[f.args[0].constValue()]=f.args[1].literalValue();return g},_isNoop:function(){var a;return a=u(),function(b,c){var d,e,f,g,h,i;if(h=a.get(b),void 0===h){for(e=!0,d=r(b.args),f=0,g=d.length;g>f;++f)if(i=d[f],!i.isNoop(c)){e=!1;break}h=e,a.set(b,h)}return h}}(),_toString:function(a){var c,d,e,f,g,h,i;if(h=a.args[0]instanceof b.nothing?null:a.args[0],!h&&a.args.length<=1)return"{}";for(i=[],i.push("{ "),h&&i.push("extends "+h.toString()+"; "),c=r(a.args),f=1,d=c.length;d>f;++f)g=c[f],f>1&&i.push(", "),3===g.args.length&&(i.push(g.args[2].constValue()),i.push(" ")),g.args[0].isConstType("string")?(e=g.args[0].constValue(),i.push(/^[\w\$_][\w\d\$_]*$/.test(e)?e:B(e))):(i.push("["),i.push(g.args[0]),i.push("]")),i.push(": "),i.push(g.args[1]);return i.push(" }"),i.join("")}},param:{internalId:20,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,5)}},"return":{internalId:21,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,1)},isGoto:!0,usedAsStatement:!0,_returnType:function(a,b){return a.args[0].returnType(b,!1).union(a.args[0].type(b))}},root:{internalId:22,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,4)},usedAsStatement:!0},spread:{internalId:23,validateArgs:function(){var a;a=q.call(arguments,1)},_toString:function(a){return"..."+a.args[0].toString()}},"switch":{internalId:24,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments)},usedAsStatement:!0,_type:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=function(){var a,d,e,f,g;for(d=b.args,g=d.length,e=C.none,f=2,a=g-1;a>f;f+=3)d[f+1].constValue()||(e=e.union(d[f].type(c)));return e.union(d[g-1].type(c))}(),a.set(b,d)),d}}(),_returnType:function(a,b,c){var d,e,f,g,h;for(e=a.args,h=e.length,f=C.none,g=2,d=h-1;d>g;g+=3)f=f.union(e[g].returnType(b,!1));return f.union(e[h-1].returnType(b,c))},_mutateLast:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,n,o;for(g=a.args,l=g.length,i=!1,m=[],m.push(g[0]),k=1,f=l-1;f>k;k+=3)m.push(g[k]),g[k+2].constValue()?m.push(g[k+1]):(h=g[k+1],n=h.mutateLast(b,c,d,e),i||(i=h!==n),m.push(n)),m.push(g[k+2]);return j=g[g.length-1],o=j.mutateLast(b,c,d,e),i||(i=j!==o),m.push(o),i?v.apply(void 0,[a.index,a.scope,a.func].concat(m)):a}},"super":{internalId:25,validateArgs:function(){}},syntaxChoice:{internalId:26,doWrapArgs:!1},syntaxLookahead:{internalId:27,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)}},syntaxMany:{internalId:28,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)}},syntaxParam:{internalId:29,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)}},syntaxSequence:{internalId:30,doWrapArgs:!1},"throw":{internalId:31,validateArgs:function(){var a;a=q.call(arguments,1)},_type:function(){return C.none},_returnType:function(){return C.none},isGoto:!0,usedAsStatement:!0,_doWrap:function(a){return v(a.index,a.scope,i(a.index,a.scope,"__throw"),a.args[0])}},tmpWrapper:{internalId:32,doWrapArgs:!1,_isStatement:function(a){return a.args[0].isStatement()},validateArgs:function(){var a;a=q.call(arguments,1)},_type:function(a,b){return a.args[0].type(b)},_returnType:function(a,b,c){return a.args[0].returnType(b,c)},_withLabel:function(a,b,c){var d;return d=a.args[0].withLabel(b,c),d!==a.args[0]?v.apply(void 0,[a.index,a.scope,a.func,d].concat(r(q.call(a.args,1)))):a},_doWrap:function(a,b){var c;return c=a.args[0].doWrap(b),c!==a.args[0]?v.apply(void 0,[a.index,a.scope,a.func,c].concat(r(q.call(a.args,1)))):a},_mutateLast:function(a,b,c,d,e){var f;return f=a.args[0].mutateLast(b,c,d,e),f!==a.args[0]?v.apply(void 0,[a.index,a.scope,a.func,f].concat(r(q.call(a.args,1)))):a},_isNoop:function(a,b){return a.args[0].isNoop(b)}},tryCatch:{internalId:33,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,3)},usedAsStatement:!0,_type:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].type(c).union(b.args[2].type(c)),a.set(b,d)),d}}(),_returnType:function(a,b,c){return a.args[0].returnType(b,c).union(a.args[2].returnType(b,c))},_mutateLast:function(a,b,c,d,e){var f,g;return g=a.args[0].mutateLast(b,c,d,e),f=a.args[2].mutateLast(b,c,d,e),g!==a.args[0]||f!==a.args[2]?v(a.index,a.scope,a.func,g,a.args[1],f):a},_isNoop:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].isNoop(c)&&b.args[2].isNoop(c),a.set(b,d)),d}}()},tryFinally:{internalId:34,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments,2)},usedAsStatement:!0,_type:function(a,b){return a.args[0].type(b)},_returnType:function(a,b,c){return a.args[0].returnType(b,!1).union(a.args[1].returnType(b,c))},_mutateLast:function(a,b,c,d,e){var f;return f=a.args[0].mutateLast(b,c,d,e),f!==a.args[0]?v(a.index,a.scope,a.func,f,a.args[1]):a},_isNoop:function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].isNoop(c)&&b.args[1].isNoop(c),a.set(b,d)),d}}()},typeGeneric:{internalId:35,doWrapArgs:!1,validateArgs:function(){}},typeObject:{internalId:36,doWrapArgs:!1,validateArgs:function(){var a;a=q.call(arguments)}},typeUnion:{internalId:37,doWrapArgs:!1},"var":{internalId:38,doWrapArgs:!1,validateArgs:function(a,b){var c;null==b&&(b=null),c=q.call(arguments,2)}},yield:{internalId:39,validateArgs:function(){var a;a=q.call(arguments,1)}}};for(m in l)p.call(l,m)&&g.call(f,m,l[m]);return f}(b),i=function(a){function b(a,c,e){var f;return f=this instanceof b?this:h(d),f.index=a,f.scope=c,f.name=e,f}var d,e,f,g,i;return e=a.prototype,d=b.prototype=h(e),d.constructor=b,b.displayName="Ident","function"==typeof a.extended&&a.extended(b),d.isIdent=!0,d.isIdentOrTmp=!0,d.symbolType="ident",d.symbolTypeId=1,d.inspect=function(){return"Symbol.ident("+B(this.name)+")"},d.toString=function(){return this.name},d.equals=function(a){return a===this||a instanceof b&&this.scope===a.scope&&this.name===a.name},d.type=function(a){var b,c;switch(b=this.name){case"__currentArrayLength":return C.number;case"arguments":return C.args;default:return c=this.scope.type(this),c===C.any&&a&&a.macros.hasHelper(b)?a.macros.helperType(b):c}},g={Object:C.object,String:C.string,Number:C.number,Boolean:C.boolean,Function:C["function"],Array:C.array,Date:C.string,RegExp:C.regexp,Error:C.error,RangeError:C.error,ReferenceError:C.error,SyntaxError:C.error,TypeError:C.error,URIError:C.error,escape:C.string,unescape:C.string,parseInt:C.number,parseFloat:C.number,isNaN:C.boolean,isFinite:C.boolean,decodeURI:C.string,decodeURIComponent:C.string,encodeURI:C.string,encodeURIComponent:C.string},d._type=function(a,b){var c;return c=this.name,p.call(g,c)?g[c]:this.type(b).returnType()},f={"true":function(a){return D(a,!0)},"false":function(a){return D(a,!1)},"void 0":function(a){return D(a,void 0)},"null":function(a){return D(a,null)},"-1":function(a){return D(a,-1)}},i={escape:!0,unescape:!0,parseInt:!0,parseFloat:!0,isNaN:!0,isFinite:!0,decodeURI:!0,decodeURIComponent:!0,encodeURI:!0,encodeURIComponent:!0,String:!0,Boolean:!0,Number:!0},d.__reduce=function(a){var b,d,e,g,h,j,k,l,m;if(l=this.name,"eval"===l){if(1===a.args.length&&a.args[0].isConst()&&(k=a.args[0].constValue(),p.call(f,k)))return f[k](a.index)}else if(p.call(i,l)){for(j=[],b=r(a.args),d=0,e=b.length;e>d;++d){if(h=b[d],!h.isConst())return;j.push(h.constValue())}try{if(m=c[func.name].apply(void 0,j),null===m||"number"==(g=typeof m)||"string"===g||"boolean"===g||"undefined"===g)return D(this.index,m)}catch(n){}}},d.isNoop=function(){return!0},d.isPrimordial=function(){return w(this.name)},a.ident=b,b}(b),l=function(a){function b(a,c,e,f){var g;return g=this instanceof b?this:h(d),g.index=a,g.scope=c,g.id=e,g.name=f,g}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="Tmp","function"==typeof a.extended&&a.extended(b),d.isTmp=!0,d.isIdentOrTmp=!0,d.symbolType="tmp",d.symbolTypeId=2,d.inspect=function(){return"Symbol.tmp("+this.id+", "+B(this.name)+")"},d.toString=function(){return"_"+this.name+"-"+this.id},d.equals=function(a){return a===this||a instanceof b&&this.scope===a.scope&&this.id===a.id},d.type=function(){return this.scope.type(this)},a.tmp=b,b}(b),k=function(a){function b(){var a;throw a=this instanceof b?this:h(c),new Error("Operator is not meant to be instantiated directly")}var c,d,e,f,g;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="Operator","function"==typeof a.extended&&a.extended(b),c.isOperator=!0,c.isBinary=!1,c.isUnary=!1,c.isAssign=!1,c.symbolType="operator",c.symbolTypeId=3,c.equals=function(a){return a===this||a instanceof this.constructor},c.toString=function(){return this.name},f=function(b){function c(){var a;throw a=this instanceof c?this:h(g),new Error("UnaryOperator is not meant to be instantiated directly")}function d(a){return a instanceof v&&a.isUnaryCall("+")?a.args[0]:a}function e(b,c,d){var e;return(e=c.constValue())!==e?v(b.index,b.scope,a.block(b.index),d,c):void 0}function f(b,c,d){var e;return(e=d.constValue())!==e?v(b.index,b.scope,a.block(b.index),c,d):void 0}var g,i,j,k,l,m,n,o,p,r,s,t,w,x,y,z,A,E,F,G,H,I,J,K,L;return i=b.prototype,g=c.prototype=h(i),g.constructor=c,c.displayName="BinaryOperator","function"==typeof b.extended&&b.extended(c),g.isBinary=!0,g.operatorType="binary",g.operatorTypeId=0,g.inspect=function(){return"Symbol.binary["+B(this.name)+"]"},g.validateArgs=function(){var a;a=q.call(arguments,2)},g._toString=function(a){return"("+a.args[0].toString()+" "+this.name+" "+a.args[1].toString()+")"},g._isNoop=function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].isNoop(c)&&b.args[1].isNoop(c),a.set(b,d)),d}}(),a.binary={"*":G=function(b){function c(a){var b;return b=this instanceof c?this:h(i),b.index=a,b}var g,i;return g=b.prototype,i=c.prototype=h(g),i.constructor=c,c.displayName="Multiply","function"==typeof b.extended&&b.extended(c),i.name="*",i._type=function(){return C.number},i.__reduce=function(b,c){var g,h,i;if(h=d(b.args[0].reduce(c)),i=d(b.args[1].reduce(c)),h.isConst()){if(i.isConst())return D(b.index,h.constValue()*i.constValue());switch(h.constValue()){case 1:return v(b.index,b.scope,a.unary["+"](b.index),i);case-1:return v(b.index,b.scope,a.unary["-"](b.index),i);default:if(null!=(g=e(b,h,i)))return g}}else if(i.isConst())switch(i.constValue()){case 1:return v(b.index,b.scope,a.unary["+"](b.index),h);case-1:return v(b.index,b.scope,a.unary["-"](b.index),h);default:if(null!=(g=f(b,h,i)))return g}return h!==b.args[0]||i!==b.args[1]?v(b.index,b.scope,b.func,h,i):b},c}(c),"/":r=function(b){function c(a){var b;return b=this instanceof c?this:h(i),b.index=a,b}var g,i;return g=b.prototype,i=c.prototype=h(g),i.constructor=c,c.displayName="Divide","function"==typeof b.extended&&b.extended(c),i.name="/",i._type=function(){return C.number},i.__reduce=function(b,c){var g,h,i;if(h=d(b.args[0].reduce(c)),i=d(b.args[1].reduce(c)),h.isConst()){if(i.isConst())return D(b.index,h.constValue()/i.constValue());if(null!=(g=e(b,h,i)))return g}else if(i.isConst())switch(i.constValue()){case 1:return v(b.index,b.scope,a.unary["+"](b.index),h);case-1:return v(b.index,b.scope,a.unary["-"](b.index),h);default:if(null!=(g=f(b,h,i)))return g}return h!==b.args[0]||i!==b.args[1]?v(b.index,b.scope,b.func,h,i):b},c}(c),"%":F=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="Modulo","function"==typeof a.extended&&a.extended(b),g.name="%",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()%h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),"+":j=function(b){function c(a){var b;return b=this instanceof c?this:h(g),b.index=a,b}function d(a){var b;return null===a||"number"==(b=typeof a)||"boolean"===b||"undefined"===b}var g,i;return i=b.prototype,g=c.prototype=h(i),g.constructor=c,c.displayName="AddOrStringConcat","function"==typeof b.extended&&b.extended(c),g.name="+",g._type=function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=function(){var a,d;return a=b.args[0].type(c),d=b.args[1].type(c),a.isSubsetOf(C.numeric)&&d.isSubsetOf(C.numeric)?C.number:a.overlaps(C.numeric)&&d.overlaps(C.numeric)?C.stringOrNumber:C.string}(),a.set(b,d)),d}}(),g.__reduce=function(b,c){var g,h,i;if(h=b.args[0].reduce(c),i=b.args[1].reduce(c),h.isConst()){if(i.isConst())return D(b.index,d(h.constValue())&&d(i.constValue())?h.constValue()- -i.constValue():""+h.constValue()+i.constValue());if(h.isConstValue(0)&&i.type(c).isSubsetOf(C.numeric))return v(b.index,b.scope,a.unary["+"](b.index),i);if(h.isConstValue("")&&i.type(c).isSubsetOf(C.string))return i;if(h.isConstType("string")&&i instanceof v&&i.isBinaryCall("+")&&i.args[0].isConstType("string"))return v(b.index,b.scope,b.func,D(h.index,""+h.constValue()+i.args[0].constValue()),i.args[1]);if(null!=(g=e(b,h,i)))return g}else if(i.isConst()){if(i.isConstValue(0)&&h.type(c).isSubsetOf(C.number))return v(b.index,b.scope,a.unary["+"](b.index),h);if(i.isConstType("number")&&i.constValue()<0&&h.type(c).isSubsetOf(C.numeric))return v(b.index,b.scope,J(b.index),h,D(i.index,-i.constValue()));if(i.isConstValue("")&&h.type(c).isSubsetOf(C.string))return h;if(i.isConstType("string")&&h instanceof v&&h.isBinaryCall("+")&&h.args[1].isConstType("string"))return v(b.index,b.scope,b.func,h.args[0],D(h.args[1].index,""+h.args[1].constValue()+i.constValue()));if(null!=(g=f(b,h,i)))return g}return h!==b.args[0]||i!==b.args[1]?v(b.index,b.scope,b.func,h,i):b},c}(c),"-":J=function(b){function c(a){var b;return b=this instanceof c?this:h(i),b.index=a,b}var g,i;return g=b.prototype,i=c.prototype=h(g),i.constructor=c,c.displayName="Subtract","function"==typeof b.extended&&b.extended(c),i.name="-",i._type=function(){return C.number},i.__reduce=function(b,c){var g,h,i;if(h=d(b.args[0].reduce(c)),i=d(b.args[1].reduce(c)),h.isConst()){if(i.isConst())return D(b.index,h.constValue()-i.constValue());if(h.isConstValue(0))return v(b.index,b.scope,a.unary["-"](b.index),i);if(null!=(g=e(b,h,i)))return g}else if(i.isConst()){if(i.isConstValue(0))return v(b.index,b.scope,a.unary["+"](b.index),i);if(i.isConstType("number")&&i.constValue()<0&&h.type(c).isSubsetOf(C.numeric))return v(b.index,b.scope,j(b.index),h,D(i.index,-i.constValue()));if(null!=(g=f(b,h,i)))return g}return h!==b.args[0]||i!==b.args[1]?v(b.index,b.scope,b.func,h,i):b},c}(c),"<<":l=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseLeftShift","function"==typeof a.extended&&a.extended(b),g.name="<<",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()<<h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),">>":n=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseRightShift","function"==typeof a.extended&&a.extended(b),g.name=">>",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()>>h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),">>>":o=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseUnsignedRightShift","function"==typeof a.extended&&a.extended(b),g.name=">>>",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()>>>h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),"&":k=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseAnd","function"==typeof a.extended&&a.extended(b),g.name="&",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()&h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),"|":m=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseOr","function"==typeof a.extended&&a.extended(b),g.name="|",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()|h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),"^":p=function(a){function b(a){var c;return c=this instanceof b?this:h(g),c.index=a,c}var c,g;return c=a.prototype,g=b.prototype=h(c),g.constructor=b,b.displayName="BitwiseXor","function"==typeof a.extended&&a.extended(b),g.name="^",g._type=function(){return C.number},g.__reduce=function(a,b){var c,g,h;if(g=d(a.args[0].reduce(b)),h=d(a.args[1].reduce(b)),g.isConst()){if(h.isConst())return D(a.index,g.constValue()^h.constValue());if(null!=(c=e(a,g,h)))return c}else if(h.isConst()&&null!=(c=f(a,g,h)))return c;return g!==a.args[0]||h!==a.args[1]?v(a.index,a.scope,a.func,g,h):a},b}(c),"<":y=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="LessThan","function"==typeof a.extended&&a.extended(b),d.name="<",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()<d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"<=":z=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="LessThanOrEqual","function"==typeof a.extended&&a.extended(b),d.name="<=",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()<=d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),">":s=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="GreaterThan","function"==typeof a.extended&&a.extended(b),d.name=">",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()>d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),">=":t=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c
}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="GreaterThanOrEqual","function"==typeof a.extended&&a.extended(b),d.name=">=",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()>=d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"==":K=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="UnstrictEqual","function"==typeof a.extended&&a.extended(b),d.name="==",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()==d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"!=":L=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="UnstrictInequal","function"==typeof a.extended&&a.extended(b),d.name="!=",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()!=d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"===":H=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="StrictEqual","function"==typeof a.extended&&a.extended(b),d.name="===",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()===d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"!==":I=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="StrictInequal","function"==typeof a.extended&&a.extended(b),d.name="!==",d._type=function(){return C.boolean},d.__reduce=function(a,b){var c,d;return c=a.args[0].reduce(b),d=a.args[1].reduce(b),c.isConst()&&d.isConst()?D(a.index,c.constValue()!==d.constValue()):c!==a.args[0]||d!==a.args[1]?v(a.index,a.scope,a.func,c,d):a},b}(c),"instanceof":x=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="Instanceof","function"==typeof a.extended&&a.extended(b),d.name="instanceof",d._type=function(){return C.boolean},b}(c),"in":w=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="HasKey","function"==typeof a.extended&&a.extended(b),d.name="in",d._type=function(){return C.boolean},b}(c),"&&":A=function(b){function c(a){var b;return b=this instanceof c?this:h(e),b.index=a,b}var d,e;return d=b.prototype,e=c.prototype=h(d),e.constructor=c,c.displayName="LogicalAnd","function"==typeof b.extended&&b.extended(c),e.name="&&",e._type=function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].type(c).intersect(C.potentiallyFalsy).union(b.args[1].type(c)),a.set(b,d)),d}}(),e.__reduce=function(b,c){var d,e,f;return d=b.args[0].reduce(c),f=b.args[1].reduce(c),d.isConst()?d.constValue()?f:d:(e=d.type(c),e.isSubsetOf(C.alwaysTruthy)?v(b.index,b.scope,a.block(b.index),d,f):e.isSubsetOf(C.alwaysFalsy)?d:d instanceof v&&d.isBinaryCall("&&")?v(b.index,b.scope,d.func,d.args[0],v(d.args[1].index,b.scope,b.func,d.args[1],f)):d!==b.args[0]||f!==b.args[1]?v(b.index,b.scope,b.func,d,f):b)},c}(c),"||":E=function(b){function c(a){var b;return b=this instanceof c?this:h(e),b.index=a,b}var d,e;return d=b.prototype,e=c.prototype=h(d),e.constructor=c,c.displayName="LogicalOr","function"==typeof b.extended&&b.extended(c),e.name="||",e._type=function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=b.args[0].type(c).intersect(C.potentiallyTruthy).union(b.args[1].type(c)),a.set(b,d)),d}}(),e.__reduce=function(b,c){var d,e,f,g,h;if(d=b.args[0].reduce(c),f=b.args[1].reduce(c),d.isConst())return d.constValue()?d:f;if(e=d.type(c),e.isSubsetOf(C.alwaysTruthy))return d;if(e.isSubsetOf(C.alwaysFalsy))return v(b.index,b.scope,a.block(b.index),d,f);if(d instanceof v&&d.isBinaryCall("||"))return v(b.index,b.scope,d.func,d.args[0],v(d.args[1].index,b.scope,b.func,d.args[1],f));if(d instanceof v&&d.isInternalCall("if")&&d.args[2].isConst()&&!d.args[2].constValue()){for(g=d.args[0],h=d.args[1];h instanceof v&&h.isInternalCall("if")&&h.args[2].isConst()&&!h.args[2].constValue();)g=v(d.index,d.scope,a.binary["&&"](d.index),g,h.args[0]),h=h.args[1];return v(b.index,b.scope,b.func,v(d.index,d.scope,a.binary["&&"](d.index),g,h),f)}return d!==b.args[0]||f!==b.args[1]?v(b.index,b.scope,b.func,d,f):b},c}(c)},c}(b),g=function(b){function c(){var a;throw a=this instanceof c?this:h(j),new Error("UnaryOperator is not meant to be instantiated directly")}function d(a,b){return a.args[0].isNoop(b)}function e(a){return"("+this.name+a.args[0].toString()+")"}function g(a){return this.name+" "+a.args[0].toString()}var i,j,k,l,m,n,o,r,s,t,u,w;return i=b.prototype,j=c.prototype=h(i),j.constructor=c,c.displayName="UnaryOperator","function"==typeof b.extended&&b.extended(c),j.isUnary=!0,j.operatorType="unary",j.operatorTypeId=1,j.inspect=function(){return"Symbol.unary["+B(this.name)+"]"},j.validateArgs=function(){var a;a=q.call(arguments,1)},a.unary={"+":u=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,f;return f=a.prototype,c=b.prototype=h(f),c.constructor=b,b.displayName="ToNumber","function"==typeof a.extended&&a.extended(b),c.name="+",c._toString=e,c._type=function(){return C.number},c._isNoop=d,c.__reduce=function(a,b){var c;return c=a.args[0].reduce(b),c.isConst()?D(a.index,+c.constValue()):c.type(b).isSubsetOf(C.number)?c:c!==a.args[0]?v(a.index,a.scope,a.func,c):a},b}(c),"-":o=function(b){function c(a){var b;return b=this instanceof c?this:h(g),b.index=a,b}var g,i;return i=b.prototype,g=c.prototype=h(i),g.constructor=c,c.displayName="Negate","function"==typeof b.extended&&b.extended(c),g.name="-",g._toString=e,g._type=function(){return C.number},g._isNoop=d,g.__reduce=function(b,d){var e,g;if(g=b.args[0].reduce(d),g.isConst())return D(b.index,-g.constValue());if(g instanceof v){if((e=g.func)instanceof u||e instanceof c)return v(b.index,b.scope,g.func instanceof u?c(b.index):u(b.index),g.args[0]);if(g.func instanceof f){if("-"===(e=g.func.name)||"+"===e)return v(b.index,b.scope,a.binary["-"===g.func.name?"+":"-"](b.index),v(g.args[0].index,g.args[0].scope,c(g.args[0].index),g.args[0]),g.args[1]);if("*"===(e=g.func.name)||"/"===e)return v(b.index,b.scope,g.func,v(g.args[0].index,g.args[0].scope,c(g.args[0].index),g.args[0]),g.args[1])}}return g!==b.args[0]?v(b.index,b.scope,b.func,g):b},c}(c),"++":n=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="Increment","function"==typeof a.extended&&a.extended(b),c.name="++",c._toString=e,c._type=function(){return C.number},b}(c),"--":l=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="Decrement","function"==typeof a.extended&&a.extended(b),c.name="--",c._toString=e,c._type=function(){return C.number},b}(c),"++post":t=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="PostIncrement","function"==typeof a.extended&&a.extended(b),c.name="++post",c._toString=function(a){return"("+a.args[0].toString()+"++)"},c._type=function(){return C.number},b}(c),"--post":s=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="PostDecrement","function"==typeof a.extended&&a.extended(b),c.name="--post",c._toString=function(a){return"("+a.args[0].toString()+"--)"},c._type=function(){return C.number},b}(c),"!":r=function(b){function c(a){var b;return b=this instanceof c?this:h(g),b.index=a,b}var g,i,j;return i=b.prototype,g=c.prototype=h(i),g.constructor=c,c.displayName="Not","function"==typeof b.extended&&b.extended(c),g.name="!",g._toString=e,g._type=function(){return C.boolean},g._isNoop=d,j={"<":">=","<=":">",">":"<=",">=":"<","==":"!=","!=":"==","===":"!==","!==":"===","&&":function(b,d){return v(this.index,this.scope,a.binary["||"](this.index),v(b.index,b.scope,c(b.index),b),v(d.index,d.scope,c(d.index),d))},"||":function(b,d){return v(this.index,this.scope,a.binary["&&"](this.index),v(b.index,b.scope,c(b.index),b),v(d.index,d.scope,c(d.index),d))}},g.__reduce=function(b,d){var e,g;if(g=b.args[0].reduce(d),g.isConst())return D(b.index,!g.constValue());if(g instanceof v)if(g.func instanceof c){if(g.args[0].type(d).isSubsetOf(C.boolean))return g.args[0]}else if(g.func instanceof f&&p.call(j,g.func.name))return e=j[g.func.name],"function"==typeof e?e.call(b,g.args[0],g.args[1]):v(b.index,b.scope,a.binary[e](b.index),g.args[0],g.args[1]);return g!==b.args[0]?v(b.index,b.scope,b.func,g):b},c}(c),"~":k=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,f;return f=a.prototype,c=b.prototype=h(f),c.constructor=b,b.displayName="BitwiseNot","function"==typeof a.extended&&a.extended(b),c.name="~",c._toString=e,c._type=function(){return C.number},c._isNoop=d,c.__reduce=function(a,b){var c;return c=a.args[0].reduce(b),c.isConst()?D(a.index,~c.constValue()):c!==a.args[0]?v(a.index,a.scope,a.func,c):a},b}(c),"typeof":w=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,e,f;return e=a.prototype,c=b.prototype=h(e),c.constructor=b,b.displayName="Typeof","function"==typeof a.extended&&a.extended(b),c.name="typeof",c._toString=g,c._type=function(){return C.string},c._isNoop=d,f=C["null"].union(C.object).union(C.arrayLike).union(C.regexp).union(C.date).union(C.error),c.__reduce=function(a,b){var c,d;if(c=a.args[0].reduce(b),c.isConst())return D(a.index,typeof c.constValue());if(c.isNoop(b)){if(d=c.type(b),d.isSubsetOf(C.number))return D(a.index,"number");if(d.isSubsetOf(C.string))return D(a.index,"string");if(d.isSubsetOf(C.boolean))return D(a.index,"boolean");if(d.isSubsetOf(C.undefined))return D(a.index,"undefined");if(d.isSubsetOf(C["function"]))return D(a.index,"function");if(d.isSubsetOf(f))return D(a.index,"object")}return c!==a.args[0]?v(a.index,a.scope,a.func,c):a},b}(c),"delete":m=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="Delete","function"==typeof a.extended&&a.extended(b),c.name="delete",c._toString=g,c._type=function(){return C.boolean},b}(c)},c}(b),e=function(b){function c(a,b){var e;return e=this instanceof c?this:h(d),e.index=a,e.name=b,e}var d,e,f,g,i,j,k,l,m,n,o,p,r,s;return e=b.prototype,d=c.prototype=h(e),d.constructor=c,c.displayName="AssignOperator","function"==typeof b.extended&&b.extended(c),d.isAssign=!0,d.operatorType="assign",d.operatorTypeId=2,d.inspect=function(){return"Symbol.assign["+B(this.name)+"]"},d.validateArgs=function(){var a;a=q.call(arguments,2)},d._toString=function(a){return a.args[0].toString()+" "+this.name+" "+a.args[1].toString()},a.assign={"=":r=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="NormalAssign","function"==typeof a.extended&&a.extended(b),d.name="=",d._type=function(a,b){return a.args[1].type(b)},b}(c),"+=":f=function(a){function b(a){var d;return d=this instanceof b?this:h(c),d.index=a,d}var c,d;return d=a.prototype,c=b.prototype=h(d),c.constructor=b,b.displayName="AddOrStringConcatAssign","function"==typeof a.extended&&a.extended(b),c.name="+=",c._type=function(){var a;return a=u(),function(b,c){var d;return d=a.get(b),void 0===d&&(d=function(){var a,d;return a=b.args[0].type(c),d=b.args[1].type(c),a.isSubsetOf(C.numeric)&&d.isSubsetOf(C.numeric)?C.number:a.overlaps(C.numeric)&&d.overlaps(C.numeric)?C.stringOrNumber:C.string}(),a.set(b,d)),d}}(),b}(c),"-=":s=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="SubtractAssign","function"==typeof a.extended&&a.extended(b),d.name="-=",d._type=function(){return C.number},b}(c),"*=":p=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="MultiplyAssign","function"==typeof a.extended&&a.extended(b),d.name="*=",d._type=function(){return C.number},b}(c),"/=":n=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="DivideAssign","function"==typeof a.extended&&a.extended(b),d.name="/=",d._type=function(){return C.number},b}(c),"%=":o=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="ModuloAssign","function"==typeof a.extended&&a.extended(b),d.name="%=",d._type=function(){return C.number},b}(c),"<<=":i=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseLeftShiftAssign","function"==typeof a.extended&&a.extended(b),d.name="<<=",d._type=function(){return C.number},b}(c),">>=":k=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseRightShiftAssign","function"==typeof a.extended&&a.extended(b),d.name=">>=",d._type=function(){return C.number},b}(c),">>>=":l=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseUnsignedRightShiftAssign","function"==typeof a.extended&&a.extended(b),d.name=">>>=",d._type=function(){return C.number},b}(c),"&=":g=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseAndAssign","function"==typeof a.extended&&a.extended(b),d.name="&=",d._type=function(){return C.number},b}(c),"|=":j=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseOrAssign","function"==typeof a.extended&&a.extended(b),d.name="|=",d._type=function(){return C.number},b}(c),"^=":m=function(a){function b(a){var c;return c=this instanceof b?this:h(d),c.index=a,c}var c,d;return c=a.prototype,d=b.prototype=h(c),d.constructor=b,b.displayName="BitwiseXorAssign","function"==typeof a.extended&&a.extended(b),d.name="^=",d._type=function(){return C.number},b}(c)},c}(b),b}(b),b}(y),v=function(a){function b(a,c,e){var f,g;for(f=this instanceof b?this:h(d),f.index=a,f.scope=c,f.func=e,g=q.call(arguments,3);1===g.length&&k(g[0]);)g=g[0];return f.args=g,f}function c(a,b){switch(b.length){case 0:return!0;case 1:return a===b[0];default:return i(a,b)}}var d,e;return e=a.prototype,d=b.prototype=h(e),d.constructor=b,b.displayName="Call","function"==typeof a.extended&&a.extended(b),d.isCall=!0,d.nodeType="call",d.nodeTypeId=2,d.cacheable=!0,d.inspect=function(a){var b,c,d,e,f,g;for(f=null!=a?a-1:null,g=[],g.push("Call("),g.push("\n  "),g.push(this.func.inspect(f).split("\n").join("\n  ")),b=r(this.args),c=0,d=b.length;d>c;++c)e=b[c],g.push(",\n  "),g.push(e.inspect(f).split("\n").join("\n  "));return g.push(")"),g.join("")},d.toString=function(){var a,b,c,d,e;if("function"==typeof this.func._toString)return this.func._toString(this);for(e=[],e.push(this.func),e.push("("),a=r(this.args),d=0,b=a.length;b>d;++d)c=a[d],d>0&&e.push(", "),e.push(c);return e.push(")"),e.join("")},d.equals=function(a){var c,d,e,f,g,h,i;if(a===this)return!0;if(a instanceof b&&this.func.equals(a.func)){if(f=this.args,i=a.args,h=f.length,h!==i.length)return!1;for(c=r(f),g=0,d=c.length;d>g;++g)if(e=c[g],!e.equals(i[g]))return!1;return!0}return!1},d.type=function(a){var b,c,d;return d=this.reduce(a),d===this?(c=this.func,"function"==typeof c._type&&null!=(b=c._type(this,a))?b:c.type(a).returnType()):d.type(a)},d._type=function(a,b){return"function"==typeof this.func.__type?this.func.__type(this,a,b):void 0},d.returnType=function(a,b){var c,d,f;return f=this.reduce(a),f===this?(d=this.func,"function"==typeof d._returnType&&null!=(c=d._returnType(this,a,b))?c:e.returnType.call(this,a,b)):f.returnType(a,b)},d._reduce=function(a){var b,c;return c=this.walk(function(a){return a.reduce(this)},a),c.func.doWrapArgs&&(c=c.walk(function(a){return a.doWrap(this)},a)),"function"==typeof c.func.__reduce&&null!=(b=c.func.__reduce(c,a))?b:c},d.__reduce=function(a,b){return"function"==typeof this.func.___reduce?this.func.___reduce(this,a,b):void 0},d.walk=function(a,c){var d,e,f,g,h,i,j,k;for(j=a.call(c,this.func)||this.func.walk(a,c),h=[],i=!1,d=r(this.args),e=0,f=d.length;f>e;++e)g=d[e],k=a.call(c,g)||g.walk(a,c),i||(i=k!==g),h.push(k);return j!==this.func||i?b.apply(void 0,[this.index,this.scope,j].concat(h)):this},d.walkAsync=function(a,c,d){var e,f;f=this,a.call(c,this.func,(e=!1,function(h,i){var j,k;if(e)throw new Error("Attempted to call function more than once");return e=!0,"undefined"!=typeof h&&null!==h?d(h):(k=!1,j=f.args,g(1,+j.length,!0,function(b,d){var e,f;return f=j[b],a.call(c,f,(e=!1,function(a,b){if(e)throw new Error("Attempted to call function more than once");return e=!0,"undefined"!=typeof a&&null!==a?d(a):(k||(k=b!==f),d(null,b))}))},function(a,c){return a?d(a):i!==f.func||k?d(null,b.apply(void 0,[f.index,f.scope,i].concat(r(c)))):d(null,f)}))}))},d.isLiteral=function(){return"function"==typeof this.func._isLiteral?this.func._isLiteral(this):!1},d.literalValue=function(){return"function"==typeof this.func._literalValue?this.func._literalValue(this):e.literalValue.call(this)},d.isNoop=function(a){var b;return b=this.reduce(a),"function"==typeof b.func._isNoop?b.func._isNoop(b,a):!1},d.isStatement=function(){var a;return a=this.func,"function"==typeof a._isStatement?a._isStatement(this):a instanceof A?a.isInternal&&a.usedAsStatement:!1},d.mutateLast=function(a,b,c,d){return"function"==typeof this.func._mutateLast?this.func._mutateLast(this,a,b,c,d):this.isStatement()?this:e.mutateLast.call(this,a,b,c,d)},d.doWrap=function(a){var c,d;return"function"==typeof this.func._doWrap?this.func._doWrap(this,a):this.isStatement()?(c=a.pushScope(!0,this.scope),d=b(this.index,this.scope,f("function",this.index,this.scope,f("array",this.index,this.scope),f("autoReturn",this.index,c,this.rescope(c)),D(this.index,!0),A.nothing(this.index),D(this.index,!1))),a.popScope(),d):this},d.withLabel=function(a,b){return"function"==typeof this.func._withLabel?this.func._withLabel(this,a,b):e.withLabel.call(this,a,b)},d.isInternalCall=function(){var a;return a=this.func,a.isSymbol&&a.isInternal?c(a.name,arguments):!1},d.isUnaryCall=function(){var a;return a=this.func,a.isSymbol&&a.isOperator&&a.isUnary?c(a.name,arguments):!1},d.isBinaryCall=function(){var a;return a=this.func,a.isSymbol&&a.isOperator&&a.isBinary?c(a.name,arguments):!1},d.isAssignCall=function(){var a;return a=this.func,a.isSymbol&&a.isOperator&&a.isAssign?c(a.name,arguments):!1},d.isNormalCall=function(){var a;return a=this.func,!a.isSymbol||!a.isInternal&&!a.isOperator},b}(y),x=function(a){function c(a,b,e,f,g,i,j,k){var l;return l=this instanceof c?this:h(d),l.index=a,l.scope=b,l.id=e,l.data=f,null==g&&(g=!1),l.inStatement=g,null==i&&(i=!1),l.inGenerator=i,null==j&&(j=!1),l.inEvilAst=j,null==k&&(k=!1),l.doWrapped=k,l}var d,e;return e=a.prototype,d=c.prototype=h(e),d.constructor=c,c.displayName="MacroAccess","function"==typeof a.extended&&a.extended(c),d.isMacroAccess=!0,d.nodeType="macroAccess",d.nodeTypeId=3,d.cacheable=!0,d.inspect=function(a){var c,d,e,f,g,h,i;for(f=null!=a?a-1:null,i=[],i.push("MacroAccess("),i.push("\n  id: "),i.push(this.id),i.push("\n  data: "),g=b("util").inspect,i.push(g(this.data,null,f).split("\n").join("\n  ")),c=["inStatement","inGenerator","inEvilAst","doWrapped"],d=0,e=c.length;e>d;++d)h=c[d],this[h]&&(i.push("\n  "),i.push(h),i.push(": true"));return i.push(")"),i.join("")},d.toString=function(){var a,b,c,d,e,f,g,h,i;h=[],h.push("macro("),h.push(this.id),h.push(", "),h.push("{"),d=this.data,e=-1;for(f in d)p.call(d,f)&&(++e,i=d[f],e>0&&h.push(", "),h.push(f),h.push(": "),"string"==typeof i?h.push(B(i)):h.push(i));for(h.push("}"),a=["inStatement","inGenerator","inEvilAst","doWrapped"],b=0,c=a.length;c>b;++b)g=a[b],this[g]&&(h.push(", +"),h.push(g));return h.push(")"),h.join("")},d.equals=function(){function b(a,b){var c,f,g,h,i,j;if(i=l(a),j=l(b),d(i,j)){for(c=!0,f=0,g=i.length;g>f;++f)if(h=i[f],!e(a[h],b[h])){c=!1;break}return c}return!1}function d(a,b){var c,d,f;if(f=a.length,b.length!==f)return!1;for(c=!0,d=0;f>d;++d)if(!e(a[d],b[d])){c=!1;break}return c}function e(c,e){return c===e?!0:c instanceof a?e instanceof a&&c.equals(e):k(c)?d(c,e):"object"==typeof c&&null!==c?b(c,e):!1}return function(a){return a===this?!0:a instanceof c?this.inStatement!==a.inStatement||this.inGenerator!==a.inGenerator||this.inEvilAst!==a.inEvilAst||this.doWrapped!==a.doWrapped?!1:b(this.data,a.data):!1}}(),d.type=function(){var a;return a=u(),function(b){var c,d;return c=this,d=a.get(this),void 0===d&&(d=function(){var a;return a=b.macros.getTypeById(c.id),null!=a?"string"==typeof a?c.data[a].type(b):a:b.macroExpand1(c).type(b)}(),a.set(this,d)),d}}(),d.withLabel=function(a,b){return b.macroExpand1(this).withLabel(a,b)},d.reduce=function(){return this},d.walk=function(){function b(a,b,c){var d,f,g,h,i,j,k;for(k=[],h=!1,d=r(a),f=0,g=d.length;g>f;++f)i=d[f],j=e(i,b,c),h||j===i||(h=!0),k.push(i);return h?k:a}function d(a,b,c){var d,f,g,h,i;h={},d=!1;for(f in a)p.call(a,f)&&(i=a[f],g=e(i,b,c),d||g===i||(d=!0),h[f]=g);return d?h:a}function e(c,e,f){var g;return c instanceof a?null!=(g=e.call(f,c))?g:c.walk(e,f):k(c)?b(c,e,f):"object"==typeof c&&null!==c?d(c,e,f):c}return function(a,b){var d;return d=e(this.data,a,b),d!==this.data?c(this.index,this.scope,this.id,d,this.inStatement,this.inGenerator,this.inEvilAst,this.doWrapped):this}}(),d.walkAsync=function(){function b(a,b,c,d){var f,h;return f=!1,h=[],g(1,+a.length,!1,function(d,g){var i,j;return j=a[d],e(j,b,c,(i=!1,function(a,b){if(i)throw new Error("Attempted to call function more than once");return i=!0,"undefined"!=typeof a&&null!==a?g(a):(f||j===b||(f=!0),h.push(b),g(null))}))},function(b){return"undefined"!=typeof b&&null!==b?d(b):d(null,f?h:a)})}function d(a,b,c,d){var f,h,i;return h=!1,i={},f=l(a),g(1,f.length,!1,function(d,g){var j,k,l;return k=f[d],l=a[k],e(l,b,c,(j=!1,function(a,b){if(j)throw new Error("Attempted to call function more than once");return j=!0,"undefined"!=typeof a&&null!==a?g(a):(h||l===b||(h=!0),i[k]=b,g(null))}))},function(b){return"undefined"!=typeof b&&null!==b?d(b):d(null,h?i:a)})}function e(c,e,f,g){return c instanceof a?e(c,f,function(a,b){return a?g(a):g(null,null!=b?b:c)}):k(c)?b(c,e,f,g):"object"==typeof c&&null!==c?d(c,e,f,g):g(null,c)}return function(a,b,d){var f,g;return g=this,e(this.data,a,b,(f=!1,function(a,b){if(f)throw new Error("Attempted to call function more than once");return f=!0,null!=a?d(a):d(null,b!==g.data?c(g.index,g.scope,g.id,b,g.inStatement,g.inGenerator,g.inEvilAst,g.doWrapped):g)}))}}(),d.isNoop=function(a){return a.macroExpand1(this).isNoop(a)},d.doWrap=function(){return this.doWrapped?this:c(this.index,this.scope,this.id,this.data,this.inStatement,this.inGenerator,this.inEvilAst,!0)},d.mutateLast=function(a,b,c,d){return a.macroExpand1(this).mutateLast(a,b,c,d)},d.returnType=function(a,b){var c,d;return"return"===(c=this.data.macroName)||"return?"===c?this.data.macroData.node?this.data.macroData.node.type(a):C.undefined:(d=b?C.undefined:C.none,this.walk(function(b){return d=d.union(b.returnType(a,!1)),b}),d)},c}(y),y.Value=D,y.Symbol=A,y.Call=v,y.MacroAccess=x,y.InternalCall=f,y.Access=function(a,b,c){var d,e,f,g,h;for(g=q.call(arguments,3),h=c,d=0,e=g.length;e>d;++d)f=g[d],h=v(a,b,A.access(a),h,f);return h},a.exports=y}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./parser-macroholder"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d=function(a,b){var c;for(c in b)f.call(b,c)&&(a[c]=b[c]);return a},e="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),f=Object.prototype.hasOwnProperty,g=Array.prototype.slice,h=function(a){if(null==a)throw new TypeError("Expected an object, got "+i(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return g.call(a);throw new TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),k=b("./types"),j=function(){function a(b,d,f,g,h){var i;return i=this instanceof a?this:c(e),i.syntaxes=b,i.macroName=d,i.wordOrSymbol=f,i.oneOf=g,i.sequential=h,i.byName={},i.byId=[],i.byLabel={},i.typeById=[],i.operatorNames={},i.binaryOperators=[],i.assignOperators=[],i.prefixUnaryOperators=[],i.postfixUnaryOperators=[],i.consts={},i.serialization={},i.helpers={},i}var e;return e=a.prototype,a.displayName="MacroHolder",e.clone=function(){var b;return b=a(this.syntaxes,this.macroName,this.wordOrSymbol,this.oneOf,this.sequential),b.byName=d({},this.byName),b.byId=this.byId.slice(),b.byLabel=d({},this.byLabel),b.typeById=this.typeById.slice(),b.operatorNames=d({},this.operatorNames),b.binaryOperators=this.binaryOperators.slice(),b.assignOperators=this.assignOperators.slice(),b.prefixUnaryOperators=this.prefixUnaryOperators.slice(),b.postfixUnaryOperators=this.postfixUnaryOperators.slice(),b.consts=d({},this.consts),b.serialization=d({},this.serialization),b.helpers=d({},this.helpers),b.syntaxes=d({},this.syntaxes),b},e.getByName=function(a){var b;return f.call(b=this.byName,a)?b[a]:void 0},e.getOrAddByName=function(a){var b,c,d;return b=this.byName,f.call(b,a)?b[a]:(d=this.macroName(a),c=function(a,b){var d,e,f,g;for(d=h(c.data),e=d.length;e--;)if(g=d[e],f=g(a,b))return f},c.token=d,c.data=[],b[a]=c)},e.getOrAddByNames=function(a){var b,c,d,e;for(b=[],c=0,d=a.length;d>c;++c)e=a[c],b.push(this.getOrAddByName(e));return b},e.setTypeById=function(a,b){this.typeById[a]=b},e.getTypeById=function(a){return this.typeById[a]},e.getById=function(a){var b;return b=this.byId,a>=0&&a<b.length?b[a]:void 0},e.addMacro=function(a,b,c){var d;if(null==b&&(b=void 0),null==c&&(c=void 0),d=this.byId,null!=b){if(f.call(d,b))throw new Error("Cannot add macro #"+b+", as it already exists");d[b]=a}else d.push(a),b=d.length-1;return null!=c&&(this.typeById[b]=c),b},e.replaceMacro=function(a,b,c){var d;null==c&&(c=void 0),d=this.byId,d[a]=b,null!=c&&(this.typeById[a]=c)},e.hasMacroOrOperator=function(a){return f.call(this.byName,a)||f.call(this.operatorNames,a)},e.getMacroAndOperatorNames=function(){var a,b,c;c=[],a=this.byName;for(b in a)f.call(a,b)&&c.push(b);a=this.operatorNames;for(b in a)f.call(a,b)&&c.push(b);return c},e.allBinaryOperators=function(){var a,b,c,d,e,f;if(null==(d=this._allBinaryOperators)){for(f=[],a=h(this.binaryOperators),b=0,c=a.length;c>b;++b)e=a[b],f.push.apply(f,h(e));return this._allBinaryOperators=f}return d},e.addBinaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n,o,p;for(j=this,e=h(a),g=e.length;g--;)o=e[g],this.operatorNames[o]=!0;for(p=Number(c.precedence)||0,n=+this.binaryOperators.length;p>=n;++n)this.binaryOperators[n]=[];return l=this.binaryOperators[p],m={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],b.push(j.wordOrSymbol(f));return b}()),func:b,rightToLeft:!!c.rightToLeft,maximum:c.maximum||0,minimum:c.minimum||0,invertible:!!c.invertible},l.push(m),this._allBinaryOperators=null,c.label&&this.addByLabel(c.label,m),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.getByLabel=function(a){var b;return f.call(b=this.byLabel,a)?b[a]:void 0},e.addByLabel=function(a,b){return this.byLabel[a]=b},e.addAssignOperator=function(a,b,c,d){var e,g,i,j,l,m;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return l={rule:this.oneOf.apply(this,function(){var b,c,d,e,f;for(b=[],c=h(a),d=0,e=c.length;e>d;++d)f=c[d],":="===f?b.push(j.syntaxes.ColonEqual):b.push(j.wordOrSymbol(f));return b}()),func:b},this.assignOperators.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"left"===(i=c.type)||"right"===i?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.addUnaryOperator=function(a,b,c,d){var e,g,i,j,l,m,n;for(j=this,e=h(a),g=e.length;g--;)m=e[g],this.operatorNames[m]=!0;return n=c.postfix?this.postfixUnaryOperators:this.prefixUnaryOperators,l={rule:this.oneOf.apply(this,function(){var b,d,e,f,g,i;for(b=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],i=j.wordOrSymbol(g),/[a-zA-Z]/.test(g)?b.push(i):c.postfix?b.push(j.sequential(j.syntaxes.NoSpace,["this",i])):b.push(j.sequential(["this",i],j.syntaxes.NoSpace));return b}()),func:b,standalone:f.call(!c,"standalone")||!!c.standalone},n.push(l),c.label&&this.addByLabel(c.label,l),this.addMacro(b,d,"node"===c.type?c.type:null!=c.type&&f.call(k,i=c.type)?k[i]:void 0)},e.addSerializedHelper=function(a,b,c,d){var e,f,g;g=null!=(e=(f=this.serialization).helpers)?e:f.helpers={},g[a]={helper:b,type:c,dependencies:d}},e.addConst=function(a,b){this.consts[a]=b},e.addSerializedConst=function(a){var b,c,d;if(!f.call(this.consts,a))throw new Error("Unknown const "+a);d=null!=(b=(c=this.serialization).consts)?b:c.consts={},d[a]=this.consts[a]},e.addMacroSerialization=function(a){var b,c,e,f,g;g=d({},a),delete g.type,f=null!=(b=(c=this.serialization)[e=a.type])?b:c[e]=[],f.push(g)},e.addSyntax=function(a,b){if(f.call(this.syntaxes,a))throw new Error("Cannot override already-defined syntax: "+a);this.syntaxes[a]=b},e.hasSyntax=function(a){return f.call(this.syntaxes,a)},e.getSyntax=function(a){if(f.call(this.syntaxes,a))return this.syntaxes[a];throw new Error("Unknown syntax: "+a)},e.serialize=function(){function a(a){return void 0===a?a:JSON.parse(JSON.stringify(a))}function c(a){return b("./jsutils").toJSSource(a,null,{indent:2})}function e(a){return a=a.replace(/^return\s*([\s\S]*);\s*$/,"$1"),a=a.replace(/^\s*\(function\s*\(\s*\)\s*{\s*"use strict";\s*return\s*function([\s\S]*)\};\s*\}\.call\(this\)\)\s*$/,"function$1}"),a=a.replace(/^\s*\(function\s*\(\s*\)\s*{\s*"use strict";\s*([\s\S]*)\};\s*\}\.call\(this\)\)\s*$/,"function() {\n  $1\n  }\n}.call(this)"),a=a.split("\n").join("\n      ")}var g,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;i=this,q=d({},this.serialization),m=f.call(q,"helpers")&&q.helpers||{};for(o in m)if(f.call(m,o))for(l=m[o],g=h(l.dependencies),n=g.length;n--;)k=g[n],f.call(m,k)&&k!==o||l.dependencies.splice(n,1);return p={line:0,column:0},j=b("./jsast"),v=j.Obj(p,function(){var b,c,d;b=[];for(d in m)f.call(m,d)&&(c=m[d],b.push(j.Obj.Pair(p,d,j.Obj(p,[j.Obj.Pair(p,"helper",c.helper.toAst(p,j.Ident(p,"AST$"))),j.Obj.Pair(p,"type",c.type.toAst(j,p,j.Ident(p,"TYPE$"))),j.Obj.Pair(p,"dependencies",j.fromLiteral(p,a(c.dependencies)))]))));
return b}()).toString({indent:2}),s=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.binaryOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,f=null,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),r=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.assignOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,f=null,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),x=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.unaryOperator),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,k=f.operators,l=f.options,i=f.id,f=null,a.push(j.Obj(p,[j.Obj.Pair(p,"code",j.Eval(p,e(g))),j.Obj.Pair(p,"operators",j.fromLiteral(p,k)),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),u=j.Arr(p,function(){var b,c,d,f,g,i,k,l,m;for(b=[],c=h(q.defineSyntax),d=0,f=c.length;f>d;++d)g=c[d],i=g.code,l=g.options,m=g.params,k=g.id,g=null,b.push(j.Obj(p,[j.Obj.Pair(p,"code",i&&j.Eval(p,e(i))),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"params",j.fromLiteral(p,a(m))),j.Obj.Pair(p,"id",j.fromLiteral(p,k))]));return b}()).toString({indent:2}),w=j.Arr(p,function(){var b,c,d,f,g,i,k,l,m,n;for(b=[],c=h(q.syntax),d=0,f=c.length;f>d;++d)g=c[d],i=g.code,m=g.options,n=g.params,l=g.names,k=g.id,g=null,b.push(j.Obj(p,[j.Obj.Pair(p,"code",i&&j.Eval(p,e(i))),j.Obj.Pair(p,"options",j.fromLiteral(p,m)),j.Obj.Pair(p,"params",j.fromLiteral(p,a(n))),j.Obj.Pair(p,"names",j.fromLiteral(p,l)),j.Obj.Pair(p,"id",j.fromLiteral(p,k))]));return b}()).toString({indent:2}),t=j.Arr(p,function(){var a,b,c,d,f,g,i,k,l;for(a=[],b=h(q.call),c=0,d=b.length;d>c;++c)f=b[c],g=f.code,l=f.options,k=f.names,i=f.id,f=null,a.push(j.Obj(p,[j.Obj.Pair(p,"code",g&&j.Eval(p,e(g))),j.Obj.Pair(p,"options",j.fromLiteral(p,l)),j.Obj.Pair(p,"names",j.fromLiteral(p,k)),j.Obj.Pair(p,"id",j.fromLiteral(p,i))]));return a}()).toString({indent:2}),"function (TYPE$, AST$) {\n  return {\n    consts: "+c(q.consts)+",\n    helpers: "+v+",\n    binaryOperator: "+s+",\n    assignOperator: "+r+",\n    unaryOperator: "+x+",\n    defineSyntax: "+u+",\n    syntax: "+w+",\n    call: "+t+"\n  };\n}"},e.deserialize=function(a,c){var d,e,g,h,i,j,l,m,n;g=b("./jsast"),h=a(k,g.byTypeId),d=null!=(e=f.call(h,"helpers")?h.helpers:void 0)?e:{};for(l in d)if(f.call(d,l)){if(e=d[l],j=e.helper,m=e.type,i=e.dependencies,e=null,!(j instanceof g.Node))throw new Error("bad helper ast in helper "+l);if(!(m instanceof k))throw new Error("bad type in helper "+l);this.addHelper(l,j,m,i)}d=null!=(e=f.call(h,"consts")?h.consts:void 0)?e:{};for(l in d)f.call(d,l)&&(n=d[l],this.addConst(l,n));c.deserializeMacros(h)},e.addHelper=function(a,b,c,d){if(f.call(this.helpers,a))throw new Error("Trying to overwrite helper "+a);return this.helpers[a]={value:b,type:c,dependencies:d}},e.hasHelper=function(a){return f.call(this.helpers,a)},e.getHelper=function(a){if(f.call(this.helpers,a))return this.helpers[a].value;throw new Error("No such helper: "+a)},e.helperType=function(a){if(f.call(this.helpers,a))return this.helpers[a].type;throw new Error("No such helper: "+a)},e.helperDependencies=function(a){if(f.call(this.helpers,a))return this.helpers[a].dependencies;throw new Error("No such helper: "+a)},a}(),a.exports=j}.call(this),a.exports},b["./parser-macrocontext"]=function(){var a={exports:this};return function(){var c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;c="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},d="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),e=Object.prototype.hasOwnProperty,f=Array.prototype.slice,g=function(a){throw a},h=function(a){if(null==a)throw new TypeError("Expected an object, got "+i(a));if(d(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return f.call(a);throw new TypeError("Expected an object with a length property, got "+i(a))},i=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),q=b("./parser-nodes"),u=b("./types"),r=b("./parser-scope"),j=b("./parser-utils"),p=j.nodeToType,k=j.addParamToScope,j=null,j=b("./utils"),l=j.Cache,n=j.isPrimordial,j=null,s=q.Symbol,v=q.Value,t=s.tmp,m=s.ident,o=function(){function a(b,d,e,f,g){var h;return h=this instanceof a?this:c(r),h.parser=b,h.index=d,h.position=e,h.inGenerator=f,h.inEvilAst=g,h.unsavedTmps=[],h.savedTmps=[],h}function j(a,b,c,f){var g,k;if(null===b||"string"==(g=typeof b)||"number"===g||"boolean"===g||"undefined"===g)return q.Value(c,b);if(b instanceof RegExp)return q.InternalCall("new",b.index,f,m(b.index,f,"RegExp"),q.Value(c,b.source),q.Value(c,(b.global?"g":"")+(b.ignoreCase?"i":"")+(b.multiline?"m":"")+(b.sticky?"y":"")));if(d(b))return q.InternalCall("array",c,f,function(){var d,e,g,i,k;for(d=[],e=h(b),g=0,i=e.length;i>g;++g)k=e[g],d.push(j(a,k,c,f));return d}());if(!(b instanceof q)){if(b.constructor===Object)return q.InternalCall("object",c,f,[q.Symbol.nothing(c)].concat(function(){var d,g,h;d=[];for(g in b)e.call(b,g)&&(h=b[g],d.push(q.InternalCall("array",c,f,q.Value(c,g),j(a,h,c,f))));return d}()));throw new Error("Trying to constify a "+i(b))}switch(b.nodeTypeId){case 0:return q.Call(b.index,f,m(b.index,f,"__value"),a||q.Value(b.index,void 0),b);case 1:return b.isIdent&&b.name.length>1&&36===b.name.charCodeAt(0)?q.Call(b.index,f,m(b.index,f,"__wrap"),m(b.index,f,b.name.substring(1))):q.Call(b.index,f,m(b.index,f,"__symbol"),[a||q.Value(b.index,void 0)].concat(function(){switch(b.symbolTypeId){case 1:return[q.Value(b.index,"ident"),q.Value(b.index,b.name)];case 2:return[q.Value(b.index,"tmp"),q.Value(b.index,b.id),q.Value(b.index,b.name)];case 0:return[q.Value(b.index,"internal"),q.Value(b.index,b.name)];case 3:return[q.Value(b.index,"operator"),q.Value(b.index,b.operatorType),q.Value(b.index,b.name)];default:throw new Error("Unhandled value in switch")}}()));case 2:if(b.isInternalCall("macroConst"))return q.Call(b.index,f,m(b.index,f,"__const"),b.args[0]);if(b.func instanceof m&&"$"===b.func.name){if(1!==b.args.length)throw new Error("Can only use $() in an AST if it has one argument.");if(k=b.args[0],k.isInternalCall("spread"))throw new Error("Cannot use ... in $() in an AST.");return q.Call(b.index,f,m(b.index,f,"__wrap"),k)}return q.Call(b.index,f,m(b.index,f,"__call"),[a||q.Value(b.index,void 0),j(a,b.func,c,f)].concat(function(){var d,e,g,i,k;for(d=[],e=h(b.args),g=0,i=e.length;i>g;++g)k=e[g],d.push(j(a,k,c,f));return d}()));case 3:return q.Call(b.index,f,m(b.index,f,"__macro"),a||q.Value(b.index,void 0),q.Value(b.index,b.id),j(a,b.data,b.index,f),q.Value(b.index,b.inStatement),q.Value(b.index,b.inGenerator),q.Value(b.index,b.inEvilAst),q.Value(b.index,b.doWrapped));default:throw new Error("Unhandled value in switch")}}function o(a){var b,c;if(c=this,null===a||"undefined"==(b=typeof a)||"boolean"===b||"number"===b||"string"===b)return q.Value(0,a);if(d(a))return q.InternalCall("array",0,this.scope(),function(){var b,d,e,f,g;for(b=[],d=h(a),e=0,f=d.length;f>e;++e)g=d[e],b.push(o.call(c,g));return b}());if(a.constructor===Object)return q.InternalCall("object",0,this.scope(),[q.Symbol.nothing(0)].concat(function(){var b,d,f;b=[];for(d in a)e.call(a,d)&&(f=a[d],b.push(q.InternalCall("array",0,c.scope(),o.call(c,d),o.call(c,f))));return b}()));throw new Error("Cannot convert "+i(a)+" to a literal node")}var r;return r=a.prototype,a.displayName="MacroContext",r.error=function(a,b){throw null==b&&(b=null),this.parser.buildError(a,b||this.index)},r.isNode=function(a){return a instanceof q},r["const"]=function(a){var b;if(null!=a&&"string"!=(b=typeof a)&&"number"!==b&&"boolean"!==b)throw new TypeError("Expected value to be null, undefined, a String, Number, or Boolean. Got "+i(a));return v(this.index,a)},r.ident=function(a){if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));return b("./jsutils").isAcceptableIdent(a,!0)?m(this.index,this.scope(),a):void 0},r.tmp=function(a,b){var c;if(null==a&&(a="ref"),null==b&&(b=!1),"string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));return c=this.parser.makeTmp(this.index,a),(b?this.savedTmps:this.unsavedTmps).push(c.id),c},r.internal=function(a){var b;if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));if(e.call(s,a)&&(b=s[a]),"function"!=typeof b)throw new Error("Unknown internal symbol '"+a+"'");return b(this.index)},r.noop=function(){return q.Symbol.nothing(this.index)},r.assignOperator=function(a){var b,c;if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));if(e.call(b=s.assign,a)&&(c=b[a]),"function"!=typeof c)throw new Error("Unknown assign operator '"+a+"'");return c(this.index)},r.binaryOperator=function(a){var b,c;if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));if(e.call(b=s.binary,a)&&(c=b[a]),"function"!=typeof c)throw new Error("Unknown binary operator '"+a+"'");return c(this.index)},r.unaryOperator=function(a){var b,c;if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));if(e.call(b=s.unary,a)&&(c=b[a]),"function"!=typeof c)throw new Error("Unknown unary operator '"+a+"'");return c(this.index)},r.call=function(a){var b,c,e,g,h;if(e=f.call(arguments,1),!(a instanceof q))throw new TypeError("Expected func to be a Node, got "+i(a));for(1===e.length&&d(e[0])&&(e=e[0]),h=a.scope,g=0,b=e.length;b>g;++g){if(c=e[g],!(c instanceof q))throw new TypeError("Expected args["+g+"] to be a Node, got "+i(c));h||(h=c.scope)}return q.Call(a.index,h||this.scope(),a,e).reduce(this.parser)},r.internalCall=function(a){var b;return b=f.call(arguments,1),this.call.apply(this,[this.internal(a)].concat(b))},r.mutateLast=function(a,b,c){if(null==a)a=s.nothing(this.index);else if(!(a instanceof q))throw new TypeError("Expected node to be a Node, got "+i(a));if("function"!=typeof b)throw new TypeError("Expected mutator to be a Function, got "+i(b));return a.mutateLast(this.parser,b,this,c)},r.isPrimordial=function(a){if("string"==typeof a)return n(a);if(a instanceof m)return a.isPrimordial();throw new TypeError("Expected a String or Ident, got "+i(a))},r.func=function(a,b,c,e,f){var g,j,l,m,n,o,p,r;if(null==c&&(c=!1),null==f&&(f=!1),a instanceof q){if(!a.isInternalCall("array"))throw new TypeError("Expected params to be an AST array or an Array, got "+i(a));a=a.args}else if(!d(a))throw new TypeError("Expected params to be an AST array or an Array, got "+i(a));for(r=this.parser.pushScope(!0),g=[],j=h(a),n=0,l=j.length;l>n;++n){if(p=j[n],!(p instanceof q))throw new TypeError("Expected params["+n+"] to be a Node, got "+i(p));if(!p.isInternalCall("param","array","object"))throw new Error("Expected params["+n+"] to be an internal call to param, array, or object, got "+p.inspect(0));o=p.rescope(r),k(r,o),g.push(o)}if(a=g,e&&!(e instanceof q))throw new TypeError("Expected asType to be a Node or undefined, got "+i(e));return m=q.InternalCall("function",b.index,r.parent,q.InternalCall("array",b.index,r.parent,a),b.rescope(r),c instanceof q?c:q.Value(b.index,!!c),e||q.Symbol.nothing(b.index),f instanceof v?f:q.Value(b.index,!!f)).reduce(this.parser),this.parser.popScope(),m},r.hasFunc=function(){var a;return a=l(),function(b){var c,d;return c=this,b instanceof q?(d=a.get(b),void 0===d&&(d=function(){var a,d,e,g,i,j,k;if(b.isInternalCall("function"))return!0;if(b.isNormalCall()&&b.func.isInternalCall("function")){for(g=!1,a=h(b.func.args).concat(h(b.args)),d=0,e=a.length;e>d;++d)if(i=a[d],c.hasFunc(i)){g=!0;break}return g}if(b.isInternalCall("contextCall")&&b.args[0].isInternalCall("function")&&b.args[1].isIdent&&"this"===b.args[1].name){for(g=!1,a=h(b.args[0].args).concat(h(f.call(b.args,2))),d=0,e=a.length;e>d;++d)if(i=a[d],c.hasFunc(i)){g=!0;break}return g}if(j=c.macroExpand1(b),j!==b)return c.hasFunc(j);k={};try{b.walk(function(a){if(this.hasFunc(a))throw k;return a},c)}catch(l){if(l===k)return!0;throw l}return!1}(),a.set(b,d)),d):!1}}(),r.line=function(a){var b;return b=a instanceof q?a.index:this.index,this.parser.getPosition(b).line},r.column=function(a){var b;return b=a instanceof q?a.index:this.index,this.parser.getPosition(b).column},r.file=function(){return this.parser.options.filename||""},r.version=function(){return this.parser.getPackageVersion()},r.addVariable=function(a,b,c){if(!(a instanceof m||a instanceof t))throw new TypeError("Expected ident to be an Ident or Tmp, got "+i(a));return this.scope().add(a,!!b,c)},r.hasVariable=function(a){return a instanceof t||a instanceof m?this.scope().has(a):!1},r.isVariableMutable=function(a){return a instanceof t||a instanceof m?this.scope().isMutable(a):!1},r.withLabel=function(a,b){return null==b&&(b=null),a instanceof q?a.withLabel(b,this.parser):a},r.cache=function(a,b,c,d){return null==c&&(c="ref"),null==d&&(d=!1),this.maybeCache(a,function(a,c,d){return d&&b.push(a),c},c,d)},r.maybeCache=function(a,b,c,d){var e,f,g;return null==c&&(c="ref"),null==d&&(d=!1),a=this.macroExpand1(a),a.cacheable?(g=a.type(this.parser),f=this.tmp(c,d,g),this.scope().add(f,!1,g),e=q.InternalCall("block",this.index,this.scope(),q.InternalCall("var",this.index,this.scope(),f),q.Call(this.index,this.scope(),q.Symbol.assign["="](this.index),f,a.doWrap(this.parser))),b.call(this,e,f,!0)):b.call(this,a,a,!1)},r.maybeCacheAccess=function(a,b,c,d,e){return null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a=this.macroExpand1(a),a.isInternalCall("access")?this.maybeCache(a.args[0],function(c,f,g){return this.maybeCache(a.args[1],function(d,e,h){return g||h?b.call(this,q.InternalCall("access",this.index,this.parser.scope.peek(),c,d),q.InternalCall("access",this.index,this.parser.scope.peek(),f,e),!0):b.call(this,a,a,!1)},d,e)},c,e):b.call(this,a,a,!1)},r.isType=function(a,b){var c;if(!(a instanceof q))return!1;if(e.call(u,b)&&(c=u[b]),null==c||!(c instanceof u))throw new Error(b+" is not a known type name");return a.type(this.parser).isSubsetOf(c)},r.hasType=function(a,b){var c;if(!(a instanceof q))return!1;if(e.call(u,b)&&(c=u[b]),null==c||!(c instanceof u))throw new Error(b+" is not a known type name");return a.type(this.parser).overlaps(c)},r.macroExpand1=function(a){var b;return a instanceof q?(b=this.parser.macroExpand1(a),b instanceof q?b.reduce(this.parser):b):a},r.macroExpandAll=function(a){var b;return a instanceof q?(b=this.parser.macroExpandAll(a),b instanceof q?b.reduce(this.parser):b):a},r.isNoop=function(a){return a=this.real(a),a.isNoop(this.parser)},r.getConstValue=function(a,b){var c;if("string"!=typeof a)throw new TypeError("Expected name to be a String, got "+i(a));return c=this.parser.getConst(a),c?c.value:arguments.length<2?this.error("Unknown const '"+a+"'"):b},r.getTmps=function(){return{unsaved:this.unsavedTmps.slice(),saved:this.savedTmps.slice()}},r.scope=function(){return this.parser.scope.peek()},r.real=function(a){return a=this.macroExpand1(a),a instanceof q&&a.isInternalCall("tmpWrapper")?a.args[0]:a},r.type=function(a){if("string"==typeof a)return e.call(u,a)&&u[a]||g(new Error("Unknown type "+a));if(a instanceof q)return a.type(this.parser);throw new Error("Can only retrieve type from a String or ParserNode, got "+i(a))},r.toType=p,a.constifyObject=j,r.wrap=function(a){var b;return null==a?q.Symbol.nothing(this.index):"string"==(b=typeof a)||"boolean"===b||"number"===b?q.Value(this.index,a):a instanceof q?a:d(a)?q.InternalCall("block",this.index,this.scope(),a).reduce(this.parser):a},r.makeLispyValue=function(a,b){var c;return c=a&&"number"==typeof a.index?a.index:this.index,q.Value(c,b)},r.makeLispySymbol=function(a,b){var c,d;switch(c=f.call(arguments,2),d=a&&"number"==typeof a.index?a.index:this.index,b){case"internal":return q.Symbol[c[0]](d);case"ident":return q.Symbol.ident(d,this.scope(),c[0]);case"tmp":return q.Symbol.tmp(d,this.scope(),c[0],c[1]);case"operator":return q.Symbol[c[0]][c[1]](d);default:throw new Error("Unhandled value in switch")}},r.makeLispyCall=function(a,b){var c,d;return c=f.call(arguments,2),d=a&&"number"==typeof a.index?a.index:this.index,q.Call(d,this.scope(),b,c)},r.getConst=function(a){return o.call(this,this.getConstValue(a))},r.macro=function(a,b,c,d,e,f){var g;return g=a&&"number"==typeof a.index?a.index:this.index,q.MacroAccess(g,this.scope(),b,c,d,e||this.parser.inGenerator.peek(),f).reduce(this.parser)},a}(),a.exports=o}.call(this),a.exports},b["./jstranslator"]=function(){var a={exports:this};return function(c){function d(a){return!(a instanceof H.Ident||a instanceof H.Const||a instanceof H.This||a instanceof H.Arguments)}function e(a){return a instanceof R.Symbol.nothing}function f(){function a(b){var c;return c=d.get(b),void 0===c&&(c=function(){var c;if(b.isInternalCall())switch(b.func.internalId){case 39:case 21:return!0;case 13:return!1}c={};try{b.walk(function(b){if(a(b))throw c;return b})}catch(d){if(d===c)return!0;throw d}return!1}(),d.set(b,c)),c}function b(c){var f;return f=e.get(c),void 0===f&&(f=function(){var e,f;if(e=d.get(c))return e;if(c.isInternalCall())switch(c.func.internalId){case 7:case 39:case 21:return!0;case 13:return!1}f={};try{c.walk(function(c){var d;if(d=c.isInternalCall("for","forIn")?a:b,d(c))throw f;return c})}catch(g){if(g===f)return!0;throw g}return!1}(),e.set(c,f)),f}function c(h,i){var j,k;return null==i&&(i=!1),k=(j=i?g:f).get(h),void 0===k&&(k=function(){var f,j;if(!i&&(f=g.get(h)))return f;if(f=d.get(h))return f;if(f=e.get(h))return f;if(h.isInternalCall())switch(h.func.internalId){case 4:case 7:case 39:return!0;case 21:if(!i)return!0;break;case 13:return!1}j={};try{h.walk(function(d){var e;if(e=c,d.isInternalCall())switch(d.func.internalId){case 12:case 11:e=a;break;case 24:e=b}if(e(d,i))throw j;return d})}catch(k){if(k===j)return!0;throw k}return!1}(),j.set(h,k)),k}var d,e,f,g;return d=J(),e=J(),g=J(),f=J(),c}function g(a){var b,c,d,e,f,h,i;for(i=[],e=!1,b=E(a),c=0,d=b.length;d>c;++c)f=b[c],f.isInternalCall("spread")?(h=f.args[0],h.isInternalCall("array")?(i.push.apply(i,E(h.args)),e=!0):i.push(f)):i.push(f);return e?g(i):a}function h(a,b,c){var d;return null==c&&(c=void 0),d={line:a,column:b},null!=c&&(d.file=c),d}function i(a){var b,c,d,e;for(e={topic:a[0],cases:[]},d=a.length,c=1,b=d-1;b>c;c+=3)e.cases.push({node:a[c],body:a[c+1],fallthrough:a[c+2]});return e.defaultCase=a[d-1],e}function j(){}function k(a,b,c,d,e,f){var h,i,j,k,l,m,o,p;for(p=[],l=[],p.push(l),h=E(g(b)),j=0,k=h.length;k>j;++j)m=h[j],m.isInternalCall("spread")?(p.push({tNode:n(m.args[0],c,"expression",f),type:m.args[0].type()}),l=[],p.push(l)):l.push(n(m,c,"expression",f));if(1===p.length)return function(){return H.Arr(a,function(){var a,b,c,d,e;for(a=[],b=E(p[0]),c=0,d=b.length;d>c;++c)e=b[c],a.push(e());return a}())};for(o=p.length,i=function(a,b){return 0===b%2?a.length>0?p[b]=function(){var b,c,d,e,f,g;for(b=[],c=E(a),d=0,e=c.length;e>d;++d)g=c[d],b.push(g());return f=b,H.Arr(f[0].pos,f)}:p.splice(b,1):p[b]=function(){var b;return b=a.tNode(),a.type.isSubsetOf(W.array)?b:(c.addHelper("__toArray"),H.Call(b.pos,H.Ident(b.pos,"__toArray"),[b]))}};o--;)i.call(this,p[o],o);return 1===p.length?function(){var b;return b=p[0](),d?H.Call(a,H.Access(a,H.Ident(a,"__slice"),"call"),b instanceof H.Call&&b.func instanceof H.Ident&&"__toArray"===b.func.name?b.args:[b]):e&&b instanceof H.Call&&b.func instanceof H.Ident&&"__toArray"===b.func.name&&b.args[0]instanceof H.Arguments?b.args[0]:b}:function(){var b,c,d,e,f,g;for(e=p[0](),b=[],c=1,d=p.length;d>c;++c)f=p[c],b.push(f());return g=b,H.Call(a,H.Access(a,e,"concat"),g)}}function l(a,b,c,d,e,f){var g,h,i;if(b.isSymbol&&b.isIdent){if("RegExp"===b.name&&c[0].isConst()&&(!c[1]||c[1].isConst()))return c[1]&&c[1].constValue()?function(){return H.Regex(N(a),String(c[0].constValue()),String(c[1].constValue()))}:function(){return H.Regex(N(a),String(c[0].constValue()))};if("eval"===b.name)return h=n(c[0],d,"expression",f),function(){return H.Eval(N(a),h())}}return i=n(b,d,"expression",f),g=k(N(a),c,d,!1,!0,f),function(){var b,c;return c=i(),b=g(),b instanceof H.Arr?H.Call(N(a),c,b.elements,c instanceof H.Ident&&B.call(S,c.name)):c instanceof H.Binary&&"."===c.op?d.maybeCache(c.left,W["function"],function(d,e){return H.Call(N(a),H.Access(N(a),d,c.right,"apply"),[e,b])}):H.Call(N(a),H.Access(N(a),c,"apply"),[H.Const(N(a),void 0),b])}}function m(a,b,c,d){var e,f,g,h;switch(a.nodeTypeId){case 0:return function(){return H.Const(N(a),a.value)};case 1:switch(a.symbolTypeId){case 1:switch(h=a.name){case"arguments":return function(){return H.Arguments(N(a))};case"this":return function(){return b.usedThis=!0,b.bound?H.Ident(N(a),"_this"):H.This(N(a))};default:return b.addHelper(h),function(){var d;return d=H.Ident(N(a),h),!b.options.embedded||O(h)||"expression"!==c||b.hasVariable(d)||b.macros.hasHelper(h)?d:H.Access(N(a),H.Ident(N(a),"context"),H.Const(N(a),h))}}break;case 2:return g=b.getTmp(N(a),a.id,a.name,a.scope.type(a)),function(){return g};case 0:if(a.isNothing)return function(){return H.Noop(N(a))};throw new Error("Unhandled symbol: "+F(a));default:throw new Error("Unhandled value in switch")}break;case 2:if(f=a.func,e=a.args,f.isSymbol)switch(f.symbolTypeId){case 0:return U[f.internalId](a,e,b,c,d);case 3:return V[f.operatorTypeId](a,e,b,c,d)}return l(a,f,e,b,c,d);default:throw new Error("Unhandled value in switch")}}function n(a,b,c,d){return m(a,b,c,d)}function o(a,b,c,d,e){var g,h,i,j,k;return null==e&&(e={}),j=!1,b&&(i=f(),j=!i(d,!0),!j)?(h=K(a,c,i),M(d,c,h.start,null,null,null,e,!0).goto(a,function(){return h.stop}),k=h.create(),a.file&&((g=k.pos).file||(g.file=a.file)),{wrap:function(a){return a},body:k}):(k=n(d,c,"topStatement",e)(),a.file&&((g=k.pos).file||(g.file=a.file)),{wrap:j?(c.addHelper("__generator"),function(b){return H.Call(a,H.Ident(a,"__generator"),[b])}):function(a){return a},body:k})}function p(a){return function(b){var c;return c=a(b.index),h(c.line,c.column)}}function q(a){var b;return b=a.pos.file,b?a.walk(function(a){var c;return(c=a.pos).file||(c.file=b),q(a)}):a.walk(q)}function r(a,b,c){function d(a){var b;for(b=[];;)if(a instanceof H.Comment)b.push(a),a=H.Noop(a.pos);else{if(!(a instanceof H.Block&&a.body[0]instanceof H.Comment))break;b.push(a.body[0]),a=H.Block(a.pos,C.call(a.body,1))}return{comments:b,body:a}}function e(a,b,c){var e;return c.options.embedded?(e=d(a),a=e.body,H.Block(a.pos,e.comments.concat([H.Return(a.pos,b(H.Func(a.pos,null,[H.Ident(a.pos,"write"),H.Ident(a.pos,"context")],c.getVariables(),H.Block(a.pos,[H.If(a.pos,H.Binary(a.pos,H.Ident(a.pos,"context"),"==",H.Const(a.pos,null)),H.Assign(a.pos,H.Ident(a.pos,"context"),H.Obj(a.pos))),a]))))]))):b(a)}var f,g,i,j,k,l,m,n,r,s,t,u,v,w,x,y,A,B,D,F,G,I;if(z(a)||(a=[a]),z(c)||(c=[c]),0===a.length)return H.Root({line:0,column:0},H.Noop({line:0,column:0}),[],[]);if(A=h(0,0),w=b,b.options.embedded)for(w=b.clone(),f=["write","context"],g=0,i=f.length;i>g;++g)y=f[g],u=H.Ident({line:0,column:0},y),w.addVariable(u),w.markAsParam(u);if(1===a.length){if(N=p(c[0]),D=a[0],!(D instanceof R&&D.isInternalCall("root")))throw new Error("Cannot translate non-Root object");x=D.args[3].constValue(),x&&(w=w.clone(!0)),G=N(D),G.file=D.args[0].constValue(),F=D.args[1],(b.options["return"]||b.options.eval)&&(F=R.InternalCall("return",F.index,F.scope,F)),B=o(G,x,w,F),(j=B.body.pos).file||(j.file=G.file),N=null,l=e(B.body,B.wrap,w)}else l=H.Block(A,function(){var b,f,g,h,i,j,k,l,m,n,q,r;for(b=[],f=E(a),k=0,g=f.length;g>k;++k){if(n=f[k],N=p(c[k]),!(n instanceof R&&n.isInternalCall("root")))throw new Error("Cannot translate non-Root object");l=n.args[3].constValue(),i=w.clone(l),m=o(N(n),l,i,n.args[1]),r=N(n),r.file=n.args[0].constValue(),(h=m.body.pos).file||(h.file=r.file),N=null,h=d(m.body),j=h.comments,q=h.body,h=null,b.push(H.Block(r,j.concat([H.Call(r,H.Access(r,H.Func(r,null,[],i.getVariables(),e(m.body,m.wrap,i)),H.Const(r,"call")),[H.This(r)])])))}return b}());for(r=d(l),n=r.comments,l=r.body,v=[],w.hasBound&&w.usedThis&&(s=H.Ident(l.pos,"_this"),w.addVariable(s),v.push(H.Assign(l.pos,s,H.This(l.pos)))),b.fillHelperDependencies(),f=E(b.getHelpers()),g=0,i=f.length;i>g;++g)t=f[g],"GLOBAL"!==t&&b.macros.hasHelper(t)&&(u=H.Ident(l.pos,t),b.addVariable(u),v.push(H.Assign(l.pos,u,b.macros.getHelper(t))));return k=[],b.options.eval&&(I=function(a){return a instanceof H.Func?(b.addHelper("GLOBAL"),null!=a.name?H.Block(a.pos,[a,H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),a.name.name),a.name)]):a):a instanceof H.Binary&&"="===a.op&&a.left instanceof H.Ident?(b.addHelper("GLOBAL"),H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),a.left.name),a.walk(I))):void 0},l=l.walk(I),l=l.mutateLast(function(a){return b.addHelper("GLOBAL"),H.Assign(a.pos,H.Access(a.pos,H.Ident(a.pos,"GLOBAL"),H.Const(a.pos,"_")),a)},{"return":!0})),l=q(l),b.options.bare?(b.hasHelper("GLOBAL")&&(b.addVariable(H.Ident(l.pos,"GLOBAL")),k.unshift(H.Assign(l.pos,H.Ident(l.pos,"GLOBAL"),b.macros.getHelper("GLOBAL")))),null!=b.options.undefinedName&&b.addVariable(b.options.undefinedName),q(H.Root(l.pos,H.Block(l.pos,n.concat(k,v,[l])),b.getVariables(),["use strict"]))):(m=H.Call(l.pos,H.Access(l.pos,H.Func(l.pos,null,(b.hasHelper("GLOBAL")?[H.Ident(l.pos,"GLOBAL")]:[]).concat(null!=b.options.undefinedName?[H.Ident(l.pos,b.options.undefinedName,!0)]:[]),b.getVariables(),H.Block(l.pos,v.concat([l])),["use strict"]),"call"),[H.This(l.pos)].concat(b.hasHelper("GLOBAL")?[b.macros.getHelper("GLOBAL")]:[])),b.options["return"]&&(m=H.Return(l.pos,m)),H.Root(l.pos,H.Block(l.pos,n.concat(k,[m])),[],[]))}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W;s=function(){var a;return a={iterator:function(){return this},next:function(){var a,b;return b=+this.index+1,a=this.array,b>=a.length?{done:!0,value:void 0}:(this.index=b,{done:!1,value:a[b]})}},function(b){var c;if(!z(b))throw new TypeError("Expected array to be an Array, got "+F(b));return c=u(a),c.array=b,c.index=-1,c}}(),t=function(a,b){var c;if(a===b)return 0;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a?-1:1},u="function"==typeof Object.create?Object.create:function(a){function b(){}return b.prototype=a,new b},v=function(a,b){var c;if("number"!=typeof a)throw new TypeError("Expected numArgs to be a Number, got "+F(a));if("function"!=typeof b)throw new TypeError("Expected f to be a Function, got "+F(b));return a>1?(c=function(d){var e;return d.length>=a?b.apply(this,d):e=function(){return 0===arguments.length?e:c.call(this,d.concat(C.call(arguments)))}},c([])):b},w=function(a){return a},x=function(a,b){var c;for(c in b)B.call(b,c)&&(a[c]=b[c]);return a},y=function(a,b){var c,d,e,f;if("number"==typeof b){if(b!==b){for(c=E(a),e=c.length;e--;)if(d=c[e],d!==d)return e;return-1}if(0===b){for(f=1/b,c=E(a),e=c.length;e--;)if(d=c[e],0===d&&1/d===f)return e;return-1}}return a.indexOf(b)},z="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),A=function(a){if(null==a)throw new TypeError("Expected iterable to be an Object, got "+F(a));if(z(a))return s(a);if("function"==typeof a.iterator)return a.iterator();if("function"==typeof a.next)return a;throw new Error("Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "+F(a))},B=Object.prototype.hasOwnProperty,C=Array.prototype.slice,D=function(a){throw a},E=function(a){if(null==a)throw new TypeError("Expected an object, got "+F(a));if(z(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return C.call(a);throw new TypeError("Expected an object with a length property, got "+F(a))},F=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),Q="function"==typeof c.Map?c.Map:Q=function(){function a(c){var d,e,f,g;if(f=this instanceof a?this:u(b),f._keys=[],f._values=[],null!=c)try{for(e=A(c);d=e.next(),!d.done;)g=d.value,f.set(g[0],g[1])}finally{try{e.close()}catch(h){}}return f}var b;return b=a.prototype,a.displayName="Map",b.get=function(a){var b;return b=y(this._keys,a),-1!==b?this._values[b]:void 0},b.has=function(a){return-1!==y(this._keys,a)},b.set=function(a,b){var c,d;d=this._keys,c=y(d,a),-1===c&&(c=d.length,d[c]=a),this._values[c]=b},b["delete"]=function(a){var b,c;return c=this._keys,b=y(c,a),-1===b?!1:(c.splice(b,1),this._values.splice(b,1))},b.keys=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=E(h._keys),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.values=function(){function a(){g=3}function b(){for(;;)switch(g){case 0:e=E(h._values),f=e.length,++g;case 1:g=f--?2:3;break;case 2:return i=e[f],g=1,{done:!1,value:i};case 3:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,f,d,g,b,h,c,i;return h=this,g=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.items=function(){function a(){f=3}function b(){for(;;)switch(f){case 0:j=g._values,e=E(g._keys),h=e.length,++f;case 1:f=h--?2:3;break;case 2:return i=e[h],f=1,{done:!1,value:[i,j[h]]};case 3:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+f)}}function c(b){throw a(),b}function d(a){try{return b(a)}catch(d){c(d)}}var e,d,f,b,g,c,h,i,j;return g=this,f=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}},b.iterator=a.prototype.items,a}(),H=b("./jsast"),I=H.Node,W=b("./types"),G=b("./parser"),P=G.MacroHolder,R=G.Node,G=null,G=b("./utils"),J=G.Cache,O=G.isPrimordial,G=null,T=function(){function a(b,d,f,g,h,i,j){var k;return k=this instanceof a?this:u(c),null==b&&(b={}),k.options=b,k.macros=d,null==f&&(f=!1),k.bound=f,null==g&&(g={}),k.usedTmps=g,null==h&&(h={}),k.helperNames=h,null==j&&(j={}),k.tmps=j,k.variables=i?u(i):{},k.hasBound=!1,k.usedThis=!1,k.id=e(),k}function b(a,b){return t(a.toLowerCase(),b.toLowerCase())}var c,e;return c=a.prototype,a.displayName="Scope",e=function(){var a;return a=-1,function(){return++a}}(),c.maybeCache=function(a,b,c){var e,f;return null==b&&(b=W.any),d(a)?(e=this.reserveIdent(a.pos,"ref",b),f=c(H.Assign(a.pos,e,a),e,!0),this.releaseIdent(e),f):c(a,a,!1)},c.maybeCacheAccess=function(a,b,c,d,e){var f;return f=this,null==c&&(c="ref"),null==d&&(d="ref"),null==e&&(e=!1),a instanceof H.Binary&&"."===a.op?this.maybeCache(a.left,W.any,function(c,d,e){return f.maybeCache(a.right,W.any,function(f,g,h){return e||h?b(H.Access(a.pos,c,f),H.Access(a.pos,d,g),!0):b(a,a,!1)})}):b(a,a,!1)},c.reserveIdent=function(a,b,c){var d;return d=this,null==b&&(b="ref"),null==c&&(c=W.any),function(){var e,f,g;for(e=1;;++e)if(g=1===e?"_"+b:"_"+b+e,!(g in d.usedTmps))return d.usedTmps[g]=!0,f=H.Ident(a,g),d.addVariable(f,c),f}()},c.reserveParam=function(a){var b;return b=this,function(){var c,d;for(c=1;;++c)if(d=1===c?"_p":"_p"+c,!(d in b.usedTmps))return b.usedTmps[d]=!0,H.Ident(a,d)
}()},c.getTmp=function(a,b,c,d){var e,f;return null==d&&(d=W.any),f=this.tmps,b in f&&(e=f[b],e instanceof H.Ident)?e:f[b]=this.reserveIdent(a,c||"tmp",d)},c.releaseTmp=function(a){var b,c;B.call(this.tmps,a)&&this.releaseIdent((b=(c=this.tmps)[a],delete c[a],b))},c.releaseTmps=function(){var a,b;a=this.tmps;for(b in a)B.call(a,b)&&this.releaseTmp(b);this.tmps={}},c.releaseIdent=function(a){if(!B.call(this.usedTmps,a.name))throw new Error("Trying to release a non-reserved ident: "+a.name);delete this.usedTmps[a.name]},c.markAsParam=function(a){this.variables[a.name].isParam=!0},c.markAsFunction=function(a){this.variables[a.name].isFunction=!0},c.addHelper=function(a){this.helperNames[a]=!0},c.fillHelperDependencies=function(){var a,b,c,d,e,f,g;for(e=this.helperNames,g={};;){for(f in e)if(B.call(e,f)&&this.macros.hasHelper(f))for(a=E(this.macros.helperDependencies(f)),c=a.length;c--;)d=a[c],B.call(e,d)||(g[d]=!0);b=!0;for(f in g)B.call(g,f)&&(b=!1,this.addHelper(f));if(b)break;e=g,g={}}},c.getHelpers=function(){var a,c,d,e;a=[],c=this.helperNames;for(d in c)B.call(c,d)&&a.push(d);return e=a,e.sort(b)},c.hasHelper=function(a){return B.call(this.helperNames,a)},c.addVariable=function(a,b,c){null==b&&(b=W.any),null==c&&(c=!1),this.variables[a.name]={type:b,isMutable:c}},c.hasVariable=function(a){return a.name in this.variables&&"object"==typeof this.variables[a.name]&&null!==this.variables[a.name]},c.hasOwnVariable=function(a){return B.call(this.variables,a.name)},c.isVariableMutable=function(a){var b;return null!=(b=this.variables[a.name])?b.isMutable:void 0},c.removeVariable=function(a){delete this.variables[a.name]},c.getVariables=function(){var a,c,d,e,f;a=[],c=this.variables;for(d in c)B.call(c,d)&&(e=c[d],e.isParam||e.isFunction||a.push(d));return f=a,f.sort(b)},c.clone=function(b){return b&&(this.hasBound=!0),a(this.options,this.macros,b,u(this.usedTmps),this.helperNames,this.variables,u(this.tmps))},a}(),L=function(){function a(b){var d;return d=this instanceof a?this:u(c),d.builder=b,d.nodes=[],d}function b(b,c){if(c instanceof a)return H.Const(b,c.caseId());if(c instanceof H.Node)return c;throw new TypeError("Expected a GeneratorState or Node, got "+F(c))}var c;return c=a.prototype,a.displayName="GeneratorState",c.hasGeneratorNode=function(a){return this.builder.hasGeneratorNode(a)},c.add=function(a){return this.nodes.push(a),this},c.branch=function(){var b,c;return c=a(this.builder),this.builder.currentCatch.length&&(b=this.builder.currentCatch)[b.length-1].push(c),this.builder.statesOrder.push(c),c},c.caseId=function(){return this.builder.caseId(this.getRedirect())},c.makeGoto=function(b,c,d){var e;return e=this,null==d&&(d=!1),function(){var f,g,h;if(h=c(),h instanceof a)g=H.Const(b,h.caseId());else{if(!(h instanceof H.Node))throw new Error("Expected a GeneratorState or Node, got "+F(h));g=h}return g instanceof H.Const&&"number"==typeof g.value&&g.value===+e.caseId()+1?H.Unary(b,"++",e.builder.stateIdent):(f=H.Assign(b,e.builder.stateIdent,g),d?H.Block(b,[f,H.Break(b)]):f)}},c.yield=function(a,b){var c;return c=this.branch(),this.nodes.push(this.makeGoto(a,function(){return c},!1),function(){return H.Return(a,H.Obj(a,[H.Obj.Pair(a,"done",H.Const(a,!1)),H.Obj.Pair(a,"value",b())]))}),c},c["return"]=function(a,b){var c;c=this,null==b&&(b=null),null==b?this.goto(a,function(){return c.builder.stop}):(this.add(this.makeGoto(a,function(){return c.builder.stop},!1)),this.add(function(){var c;return c=b(),c instanceof H.Statement?c:H.Return(a,H.Obj(a,[H.Obj.Pair(a,"done",H.Const(a,!0)),H.Obj.Pair(a,"value",c)]))}))},c.getRedirect=function(){return this.builder.getRedirect(this)},c.goto=function(a,c,d){var e;null==d&&(d=!1),e=this.nodes,0!==e.length||d||this.builder.addRedirect(this,c),e.push(this.makeGoto(a,function(){return b(a,c())},!0))},c.noop=function(a){var b;return 0===this.nodes.length?this:(b=this.branch(),this.goto(a,function(){return b}),b)},c.gotoIf=function(a,c,d,e){var f;f=this,this.goto(a,function(){return H.IfExpression(a,c(),b(a,d()),b(a,e()))},!0)},c.pendingFinally=function(a,b){var c,d,e;return c=this,e=this.builder.scope,d=e.reserveIdent(a,"finally",W.undefined["function"]()),e.markAsFunction(d),this.builder.finallies.push(function(){return H.Func(a,d,[],[],b())}),this.nodes.push(function(){return H.Call(a,H.Access(a,c.builder.pendingFinalliesIdent,"push"),[d])}),this},c.runPendingFinally=function(a){var b;return b=this,this.nodes.push(function(){return H.Call(a,H.Call(a,H.Access(a,b.builder.pendingFinalliesIdent,"pop")))}),this},c.enterTryCatch=function(a){var b;return b=this.noop(a),this.builder.enterTryCatch(b),b},c.exitTryCatch=function(a,b,c){var d;return this.goto(a,c),d=this.noop(a),this.builder.exitTryCatch(d,b),d},a}(),K=function(){function a(b,d,e){var f,g;return f=this instanceof a?this:u(c),f.pos=b,f.scope=d,f.hasGeneratorNode=e,f.currentCatch=[],f.redirects=Q(),f.start=L(f),f.stop=L(f).add(function(){return H.Return(b,H.Obj(b,[H.Obj.Pair(b,"done",H.Const(b,!0)),H.Obj.Pair(b,"value",H.Const(b,void 0))]))}),f.statesOrder=[f.start],f.stateIdent="undefined"!=typeof stateIdent&&null!==stateIdent?stateIdent:d.reserveIdent(b,"state",W.number),f.pendingFinalliesIdent=d.reserveIdent(b,"finallies",W.undefined["function"]().array()),g=d.clone(!1),f.receivedIdent=g.reserveIdent(b,"received",W.any),g.markAsParam(f.receivedIdent),f.finallies=[],f.catches=[],f}function b(a){var b,c,d,e,f,g,h;for(g=[],h=-1/0,e=-1,b=E(a),c=0,f=b.length;f>c;++c)d=b[c],d!==e+1&&(-1!==e&&g.push({start:h,finish:e}),h=d),e=d;return-1!==e&&g.push({start:h,finish:e}),g}var c;return c=a.prototype,a.displayName="GeneratorBuilder",c.addRedirect=function(a,b){this.redirects.set(a,b)},c.getRedirect=function(a){var b,c;if(c=this.redirects.get(a),null==c)return a;if(c instanceof L)return c;if("function"==typeof c){if(b=c(),!(b instanceof L))throw new Error("Expected a GeneratorState, got "+F(c));return b=this.getRedirect(b),this.redirects.set(a,b),b}throw new Error("Unknown value in redirects: "+F(c))},c._calculateCaseIds=function(){var a,b,c,d,e,f;for(e=-1,d=this.caseIds=Q(),a=E(this.statesOrder),b=0,c=a.length;c>b;++b)f=a[b],this.redirects.has(f)||d.set(f,++e)},c.caseId=function(a){var b;if(b=this.caseIds,null==b)throw new Error("_calculate-case-ids must be called first");if(!b.has(a))throw new Error("case-ids does not contain state");return b.get(a)},c.enterTryCatch=function(a){this.currentCatch.push([a])},c.exitTryCatch=function(a,b){var c,d;if(0===this.currentCatch.length)throw new Error("Unable to exit-try-catch without first using enter-try-catch");c=this.currentCatch.pop(),d=c.indexOf(a),-1!==d&&c.splice(d,1),this.catches.push({tryStates:c,tIdent:b,catchState:a})},c.create=function(){var a,c,d,e,f,g,h,i,j,k,l,m,n;if(a=this,this.currentCatch.length)throw new Error("Cannot create a generator if there are stray catches");return this.statesOrder.push(this.stop),this._calculateCaseIds(),c=[H.Assign(this.pos,this.stateIdent,H.Const(this.pos,this.start.caseId()))],e=this.scope.reserveIdent(this.pos,"close",W.undefined["function"]()),this.scope.markAsFunction(e),0===this.finallies.length?(this.scope.removeVariable(this.pendingFinalliesIdent),c.push(H.Func(this.pos,e,[],[],H.Block(this.pos,[H.Assign(this.pos,this.stateIdent,this.stop.caseId())])))):(c.push(H.Assign(this.pos,this.pendingFinalliesIdent,H.Arr(this.pos))),c.push.apply(c,function(){var b,c,d,e,f;for(b=[],c=E(a.finallies),d=0,e=c.length;e>d;++d)f=c[d],b.push(f());return b}()),h=this.scope.clone(!1),g=h.reserveIdent(this.pos,"f",W.undefined["function"]().union(W.undefined)),c.push(H.Func(this.pos,e,[],h.getVariables(),H.Block(this.pos,[H.Assign(this.pos,this.stateIdent,this.stop.caseId()),H.Assign(this.pos,g,H.Call(this.pos,H.Access(this.pos,this.pendingFinalliesIdent,"pop"))),H.If(this.pos,g,H.TryFinally(this.pos,H.Call(this.pos,g),H.Call(this.pos,e)))])))),f=this.scope.reserveIdent(this.pos,"e",W.any),d=this.catches,l=this.stateIdent,m=this.scope.reserveIdent(this.pos,"step",W["function"]),i=this.scope.reserveIdent(this.pos,"send",W["function"]),n=this.scope.reserveIdent(this.pos,"throw",W["function"]),c.push(H.Func(this.pos,m,[this.receivedIdent],[],H.While(this.pos,!0,H.Switch(this.pos,l,function(){var b,d,e,f,g,h,i,j,k,l,m,n,o;for(b=[],d=E(a.statesOrder),g=0,i=d.length;i>g;++g)if(n=d[g],!a.redirects.has(n)){for(e=[],f=E(n.nodes),h=0,j=f.length;j>h;++h)o=f[h],e.push(o());for(m=e,k=0;k<m.length;++k)l=m[k],l instanceof H.Func&&null!=l.name&&(c.push(l),m.splice(k,1),--k);if(0===m.length)throw new Error("Found state with no nodes in it");b.push(H.Switch.Case(m[0].pos,H.Const(m[0].pos,n.caseId()),H.Block(m[0].pos,m)))}return b}(),H.Throw(this.pos,H.Call(this.pos,H.Ident(this.pos,"Error"),[H.Binary(this.pos,"Unknown state: ","+",l)],!0)))))),c.push(H.Func(this.pos,n,[f],[],function(){var c,g,h,i;for(i=H.Block(a.pos,[H.Call(a.pos,e,[]),H.Throw(a.pos,f)]),c=E(d),h=c.length,g=function(a){var c,d,e,g,h,j,k,m,n;for(h=this,j=a.tIdent(),this.scope.addVariable(j),c=[],d=E(a.tryStates),e=0,g=d.length;g>e;++e)k=d[e],this.redirects.has(k)||c.push(k.caseId());return m=c,m.sort(v(2,function(a,b){return t(a,b)})),n=b(m),i=H.If(this.pos,H.Or.apply(H,[this.pos].concat(function(){var a,b,c,d,e,f;for(a=[],b=0,c=n.length;c>b;++b)d=n[b],f=d.start,e=d.finish,d=null,f===-1/0?0===e?a.push(H.Binary(h.pos,l,"===",H.Const(h.pos,0))):a.push(H.Binary(h.pos,l,"<=",H.Const(h.pos,e))):e===f?a.push(H.Binary(h.pos,l,"===",H.Const(h.pos,f))):e===+f+1?a.push(H.Or(h.pos,H.Binary(h.pos,l,"===",H.Const(h.pos,f)),H.Binary(h.pos,l,"===",H.Const(h.pos,e)))):a.push(H.And(h.pos,H.Binary(h.pos,l,">=",H.Const(h.pos,f)),H.Binary(h.pos,l,"<=",H.Const(h.pos,e))));return a}())),H.Block(this.pos,[H.Assign(this.pos,j,f),H.Assign(this.pos,l,H.Const(this.pos,a.catchState.caseId()))]),i)};h--;)g.call(a,c[h]);return i}())),j=H.TryCatch(this.pos,H.Return(this.pos,H.Call(this.pos,m,[this.receivedIdent])),f,H.Call(this.pos,n,[f])),k=0===this.finallies.length?j:H.TryFinally(this.pos,j,H.If(this.pos,H.Binary(this.pos,l,"===",this.stop.caseId()),H.Call(this.pos,e,[]))),c.push(H.Func(this.pos,i,[this.receivedIdent],[],d.length?H.While(this.pos,!0,k):k)),c.push(H.Return(this.pos,H.Obj(this.pos,[H.Obj.Pair(this.pos,"close",e),H.Obj.Pair(this.pos,"iterator",H.Func(this.pos,null,[],[],H.Return(this.pos,H.This(this.pos)))),H.Obj.Pair(this.pos,"next",H.Func(this.pos,null,[],[],H.Return(this.pos,H.Call(this.pos,i,[H.Const(this.pos,void 0)])))),H.Obj.Pair(this.pos,"send",i),H.Obj.Pair(this.pos,"throw",H.Func(this.pos,null,[f],[],H.Block(this.pos,[H.Call(this.pos,n,[f]),H.Return(this.pos,H.Call(this.pos,i,[H.Const(this.pos,void 0)]))])))]))),H.Block(this.pos,c)},a}(),N=function(){throw new Error("get-pos must be overridden")},M=function(){function a(a){var b,c;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+F(a));return a.memoized?a:(b=function(){return a&&(c=a(),a=null),c},b.memoized=!0,b)}function b(a){function b(){return a}return b.memoized=!0,b}function c(b,c,e,f,g){var h,i,k;return null==g&&(g=j),"function"==typeof b?(i=a(b),{state:e.add(function(){var a;return a=f(),H.Assign(a.pos,i(),a)}),tNode:i,cleanup:g}):b?(f=a(f),k=a(function(){return c.reserveIdent(f().pos,"tmp",W.any)}),h=a(function(){return f()===e.builder.receivedIdent||d(f())}),{state:e.add(function(){var a;return a=f(),h()?H.Assign(a.pos,k(),a):a}),tNode:function(){return h()?k():f()},cleanup:function(){return g(),h()?c.releaseIdent(k()):void 0}}):{state:e,tNode:f,cleanup:g}}function f(c,d,e,f,g){return null==f&&(f="tmp"),null==g&&(g=W.any),"function"==typeof c?a(c):b(d.reserveIdent(e,f,g))}function g(a,b,c){return"function"==typeof a?function(){var d,e;return e=a(),d=c(),e===d?b.releaseIdent(d):void 0}:function(){return b.releaseIdent(c())}}function h(a,b){var c,d,e,f;for(e=0,c=0,d=a.length;d>c;++c){if(f=a[c],f.isInternalCall("spread"))return!1;if(b.hasGeneratorNode(f)){if(++e,e>1)return!1}else if(!f.isNoop())return!1}return 1===e}function l(a,b,c,d,e){var i,l,m,o,q,r,s,t,u,v,x;if(q=this,x=f(e,c,a,"arr",W.array),h(b,d)){for(s=function(){var a,e,f,g;for(a=E(b),g=0,e=a.length;e>g;++g)if(f=a[g],!f.isNoop())return p(f,c,d,!1);throw new Error("Unreachable state")}(),v=[],i=E(b),m=0,o=i.length;o>m;++m)r=i[m],d.hasGeneratorNode(r)?v.push(s.tNode):v.push(n(r,c,"expression"));return{tNode:function(){return H.Arr(a,function(){var a,b,c,d;for(a=[],b=0,c=v.length;c>b;++b)d=v[b],a.push(d());return a}())},state:s.state,cleanup:s.cleanup}}for(u=null,i=E(b),t=0,o=i.length,l=function(e,f){var g;return u||d.hasGeneratorNode(e)?(null==u&&(u=k(a,C.call(b,0,f),c,!0,!1),d=d.add(function(){return H.Assign(a,x(),u())})),e.isInternalCall("spread")?(g=p(e.args[0],c,d,!1),d=g.state.add(function(){var a;return a=x(),c.addHelper("__toArray"),H.Call(N(e),H.Access(N(e),a,H.Const(N(e),"push"),H.Const(N(e),"apply")),[a,H.Call(N(e),H.Ident(N(e),"__toArray"),[w(g.tNode(),(g.cleanup(),void 0))])])})):(g=p(e,c,d,!1),d=g.state.add(function(){return H.Call(N(e),H.Access(N(e),x(),H.Const(N(e),"push")),[w(g.tNode(),(g.cleanup(),void 0))])}))):void 0};o>t;++t)l.call(this,i[t],t);return null==u?{state:d,tNode:k(a,b,c,!0,!1),cleanup:j}:{state:d,tNode:x,cleanup:g(e,c,x)}}function m(a,b,d,e,f,g,h){var i,j,k,m,n;return b.isSymbol&&b.isIdent&&"eval"===b.name?(k=p(a.args[0],e,f,!1,h),c(g,e,k.state,function(){return H.Eval(N(a),k.tNode())},k.cleanup)):(b.isInternalCall("access")?(n=p(b.args[0],e,f,!0,h),j=p(b.args[1],e,n.state,!0,h),m={tNode:function(){return H.Access(N(a),n.tNode(),j.tNode())},cleanup:function(){return n.cleanup(),j.cleanup()},state:j.state}):m=p(b,e,f,!0,h),i=l(N(a),d,e,m.state,h),c(g,e,i.state,function(){var b,c;return c=m.tNode(),b=i.tNode(),m.cleanup(),i.cleanup(),b instanceof H.Arr?H.Call(N(a),c,b.elements):H.Call(N(a),H.Access(N(a),c,"apply"),[c instanceof H.Binary&&"."===c.op?c.left:H.Const(N(a),void 0),b])}))}function o(a,b,c,d,e){var f,g;if(null==d&&(d=!1),a.isCall){if(g=a.func,f=a.args,g.isSymbol)switch(g.symbolTypeId){case 0:return t[g.internalId](a,f,b,c,d,e);case 3:return u[g.operatorTypeId](a,f,b,c,d,e)}return m(a,g,f,b,c,d,e)}throw new Error("Unhandled value in switch")}function p(a,b,d,e,f){return null==e&&(e=!1),d.hasGeneratorNode(a)?o(a,b,d,e,f):c(e,b,d,n(a,b,"expression",f))}function q(a){return a.isInternalCall()?!!t[a.func.internalId]:!0}function r(a,b,c,d,e,f,g,h){var i,j;return a.isInternalCall()&&(i=a.func.internalId,v[i])?v[i](a,a.args,b,c,d,e,f,g,h):(j=o(a,b,c,!1,g),j.state.add(function(){var a;return a=j.tNode(),j.cleanup(),a}))}var s,t,u,v;return s=[],s[0]=function(a,b,d,e,f,g){var h,i;return i=p(b[0],d,e,!0,g),h=p(b[1],d,i.state,!1,g),c(f,d,h.state,function(){var b;return b=H.Access(N(a),i.tNode(),h.tNode()),i.cleanup(),h.cleanup(),b})},s[1]=function(a,b,c,d,e,f){return l(N(a),b,c,d,e,f)},s[3]=function(a,b,c,d,e,f){var g,h,i,j;for(g=E(b),h=0,i=g.length;i>h;++h){if(j=g[h],h===i-1)return p(j,c,d,e,f);d=M(j,c,d,null,null,null,f)}throw new Error("Unreachable state")},s[6]=function(a,b,d,e,f,g){var h,i,j,k,m,n,o,q;return j=b[0],h=b[1],q=b.slice(2),o=p(j,d,e,!0,g),h.isInternalCall("spread")?(i=b.slice(1),n=l(N(a),i,d,o.state,g),c(f,d,k.state,function(){var b,c;return c=o.tNode(),b=n.tNode(),o.cleanup(),n.cleanup(),H.Call(N(a),H.Access(N(a),c,"apply"),[H.Access(N(a),b,H.Const(N(a),0)),H.Call(N(a),H.Access(N(a),b,H.Const(N(a),"slice")),[H.Const(N(a),1)])])})):(m=p(h,d,o.state,!0,g),k=l(N(a),q,d,m.state,g),c(f,d,k.state,function(){var b,c,d;return d=o.tNode(),c=m.tNode(),b=k.tNode(),o.cleanup(),m.cleanup(),k.cleanup(),b instanceof H.Arr?H.Call(N(a),H.Access(N(a),d,"call"),[c].concat(E(b.elements))):H.Call(N(a),H.Access(N(a),d,"apply"),[c,b])}))},s[14]=function(a,b,d,e,h,i){var j,k,l,m,o,q,r,s,t,u,v,w,y,z;if(r=p(b[0],d,e,e.hasGeneratorNode(b[0]),i),e=r.state,y=i&&x({},i),e.hasGeneratorNode(b[1])||e.hasGeneratorNode(b[2])?(e.gotoIf(N(a),function(){var a;return a=r.tNode(),r.cleanup(),a},function(){return z},function(){return w}),s=f(h,d,N(a)),z=e.branch(),l=p(b[1],d,z,s,i),l.state.goto(N(b[1]),function(){return o}),w=e.branch(),k=p(b[2],d,w,s,y),k.state.goto(N(b[2]),function(){return o}),o=e.branch(),j=g(h,d,s),q={state:o,tNode:s,cleanup:function(){return l.cleanup(),k.cleanup(),j()}}):(u=n(b[1],d,"expression",i),t=n(b[2],d,"expression",y),q=c(h,d,e,function(){return H.If(N(a),r.tNode(),(r.cleanup(),u()),t())})),i)for(m in y)B.call(y,m)&&(v=y[m],v||(i[m]=!1));return q},s[17]=function(a,b,d,e,f,g){var h,i;return i=p(b[0],d,e,!0,g),h=l(N(a),C.call(b,1),d,i.state,g),c(f,d,h.state,function(){var b,c;return c=i.tNode(),b=h.tNode(),i.cleanup(),h.cleanup(),d.addHelper("__new"),H.Call(N(a),H.Access(N(a),H.Ident(N(a),"__new"),H.Const(N(a),"apply")),[c,b])})},s[32]=function(a,b,d,e,f,g){var h;return h=p(b[0],d,e,!1,g),c(f,d,h.state,h.tNode,function(){var a,c,e,f;for(h.cleanup(),a=E(b),c=1,e=a.length;e>c;++c)f=a[c],d.releaseTmp(f.constValue())})},s[39]=function(a,b,d,e,f,g){var h;return h=p(b[0],d,e,!1,g),e=h.state.yield(N(a),h.tNode),c(f,d,e,function(){return e.builder.receivedIdent},h.cleanup)},t=s,s=[],s[0]=function(){var b;return b={"&&":function(b,c,d,e,f,g){var h,i,j,k,l;return h=p(c[0],d,e,f||!0,g),k=a(h.tNode),h.state.gotoIf(N(b),k,function(){return l},function(){return j}),l=h.state.branch(),i=p(c[1],d,l,k,g),i.state.goto(N(b),function(){return j}),j=h.state.branch(),{tNode:k,state:j,cleanup:function(){return h.cleanup(),i.cleanup()}}},"||":function(b,c,d,e,f,g){var h,i,j,k,l;return h=p(c[0],d,e,f||!0,g),k=a(h.tNode),h.state.gotoIf(N(b),k,function(){return j},function(){return l}),l=h.state.branch(),i=p(c[1],d,l,k,g),i.state.goto(N(b),function(){return j}),j=h.state.branch(),{tNode:k,state:j,cleanup:function(){return h.cleanup(),i.cleanup()}}}},function(a,d,e,f,g,h){var i,j;return B.call(b,a.func.name)?b[a.func.name](a,d,e,f,g,h):(i=p(d[0],e,f,!0,h),j=p(d[1],e,i.state,!1,h),c(g,e,j.state,function(){return H.Binary(N(a),i.tNode(),(i.cleanup(),a.func.name),w(j.tNode(),(j.cleanup(),void 0)))}))}}(),s[1]=function(a,b,d,e,f,g){var h;return h=p(b[0],d,e,!1,g),c(f,d,h.state,function(){return H.Unary(N(a),a.func.name,w(h.tNode(),(h.cleanup(),void 0)))})},s[2]=function(a,b,d,e,f,g){var h,i,k,l,m,o;if(m=b[0],o=b[1],m.isInternalCall("access")?(k=p(m.args[0],d,e,!0,g),h=p(m.args[1],d,k.state,!0,g),i={state:h.state,tNode:function(){return H.Access(N(m),k.tNode(),h.tNode())},cleanup:function(){return k.cleanup(),h.cleanup()}}):(g&&m.isSymbol&&m.isIdent&&(g[m.name]=!1),i={state:e,tNode:n(m,d,"leftExpression"),cleanup:j}),"="===a.func.name)return l=p(o,d,i.state,i.tNode,g),c(f,d,l.state,l.tNode,function(){return i.cleanup(),l.cleanup()});throw new Error("Not implemented: assigning with non-= in a generator")},u=s,s=[],s[3]=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n,o;for(g&&B.call(g,"\0")&&(g[g["\0"]]={"break":function(){return l}},delete g["\0"]),k=d,j=E(b),m=0,n=j.length;n>m;++m)o=j[m],k=M(o,c,k,e,f,g,h,i);return l=k},s[4]=function(a,b,c,d,e,f,g){if(null==e)throw new Error("break found outside of a loop or switch");return d.goto(N(a),b[0]?g[b[0].name]["break"]:e),d},s[7]=function(a,b,c,d,e,f,g){if(null==f)throw new Error("continue found outside of a loop");return d.goto(N(a),b[0]?g[b[0].name]["continue"]:f),d},s[10]=function(a,b,c,d,e,f,g,h){var i;return i=q(b[0])?p(b[0],c,d,!1,h):{state:M(b[0],c,d,e,f,g,h),tNode:function(){return H.Noop(N(b[0]))},cleanup:function(){}},i.state.add(function(){return H.Call(N(a),H.Ident(N(a),"write"),[w(i.tNode(),(i.cleanup(),void 0))].concat(b[1].constValue()?[H.Const(N(a),!0)]:[]))})},s[11]=function(a,b,c,d,f,g,h,i){var j,k,l,m,n,o,q,r;if(h&&B.call(h,"\0")&&(h[h["\0"]]={"break":function(){return n},"continue":function(){return o}},delete h["\0"]),e(b[0])||(d=M(b[0],c,d,null,null,h,i)),d.goto(N(a),function(){return q}),k=i&&x({"\0":!0},i),q=d.branch(),l=p(b[1],c,q,d.hasGeneratorNode(b[1]),k),q.gotoIf(N(b[1]),function(){var a;return a=l.tNode(),l.cleanup(),a},function(){return j},function(){return n}),j=d.branch(),M(b[3],c,j,function(){return n},function(){return o},h,k).goto(N(b[3]),function(){return o}),o=null,e(b[2])?o=q:(o=d.branch(),M(b[2],c,o,null,null,h,k).goto(N(b[2]),function(){return q})),i)for(m in k)B.call(k,m)&&(r=k[m],r||(i[m]=!1));return n=d.branch()},s[12]=function(b,c,d,e,f,g,h,i){var j,k,l,m,o,q,r,s,t,u,v,y,z;if(h&&B.call(h,"\0")&&(h[h["\0"]]={"break":function(){return t},"continue":function(){return u}},delete h["\0"]),y=n(c[0],d,"leftExpression"),i&&c[0].isSymbol&&c[0].isIdent&&(i[c[0].name]=!1),m=p(c[1],d,e,!1),e=m.state,r=d.reserveIdent(N(b),"keys",W.string.array()),l=a(function(){var a;if(a=y(),!(a instanceof H.Ident))throw new Error("Expected an Ident for a for-in key");return d.addVariable(a,W.string),a}),o=d.reserveIdent(N(b),"i",W.number),s=d.reserveIdent(N(b),"len",W.number),d.addHelper("__allkeys"),e=e.add(function(){return H.Block(N(b),[H.Assign(N(b),r,H.Call(N(b),H.Ident(N(b),"__allkeys"),[w(m.tNode(),(m.cleanup(),void 0))])),H.Assign(N(b),o,0),H.Assign(N(b),s,H.Access(N(b),r,"length"))])}),e.goto(N(b),function(){return v}),v=e.branch(),v.gotoIf(N(b),function(){return H.Binary(N(b),o,"<",s)},function(){return j},function(){return t}),j=v.branch(),e=j.add(function(){return H.Assign(N(b),l(),H.Access(N(b),r,o))}),k=x({"\0":!0},i),M(c[2],d,e,function(){return t},function(){return u},h,k).goto(N(c[2]),function(){return u}),u=j.branch(),u.add(function(){return H.Unary(N(b),"++",o)}).goto(N(b),function(){return v}),i)for(q in k)B.call(k,q)&&(z=k[q],z||(i[q]=!1));return t=u.branch()},s[14]=function(a,b,c,d,f,g,h,i){var j,k,l,m,o,q,r,s,t,u;if(h&&B.call(h,"\0")&&(h[h["\0"]]={"break":function(){return k}},delete h["\0"]),m=p(b[0],c,d,d.hasGeneratorNode(b[0])),d=m.state,t=i&&x({},i),d.hasGeneratorNode(b[1])||d.hasGeneratorNode(b[2])?(d.gotoIf(N(a),function(){var a;return a=m.tNode(),m.cleanup(),a},function(){return u||k},function(){return s||k}),e(b[1])||(u=d.branch()),u&&M(b[1],c,u,f,g,h,i).goto(N(b[1]),function(){return k}),e(b[2])||(s=d.branch()),s&&M(b[2],c,s,f,g,h,t).goto(N(b[2]),function(){return k}),l=k=d.branch()):(q=n(b[1],c,"statement",i),o=n(b[2],c,"statement",t),l=d.add(function(){return H.If(N(a),m.tNode(),(m.cleanup(),q()),o())})),i)for(j in t)B.call(t,j)&&(r=t[j],r||(i[j]=!1));return l},s[15]=function(a,b,c,d,e,f,g,h,i){return g||(g={}),g["\0"]=b[0].name,r(b[1],c,d,e,f,g,h,i)},s[21]=function(a,b,c,d,e,f,g,h,i){var j,k;return k=b[0].mutateLast(null,function(a){return a.isInternalCall("return")?a:R.InternalCall("return",a.index,a.scope,a)},null,!0),k.isInternalCall("return")&&k.args[0]===b[0]?b[0].isConst()&&b[0].isConstValue(void 0)?(d["return"](N(a)),d):b[0].isStatement()?M(b[0],c,d,e,f,g,h,i):(j=p(b[0],c,d,!1),d=j.state,d["return"](N(a),function(){var a;return a=j.tNode(),j.cleanup(),a}),d):M(k,c,d,e,f,g,h,i)},s[24]=function(a,b,c,d,f,g,h,j){var k,l,m,o,q,r,s,t,u,v,w,y,z,A,C,D;for(h&&B.call(h,"\0")&&(h[h["\0"]]={"break":function(){return A}},delete h["\0"]),s=i(b),w=p(s.topic,c,d,!1),q=[],C=[],w.state.add(function(){return H.Switch(N(a),w.tNode(),function(){var a,b,c,d;for(a=[],b=0,c=C.length;c>b;++b)d=C[b],a.push(d());return a}(),u())}),w.state.add(function(){return H.Break(N(a))}),o=j&&x({},j),r=j&&x({},j),k=s.cases,y=0,m=k.length,l=function(a,b){var e,f,i,k,l,m;if(d.hasGeneratorNode(a.node))throw new Error("Cannot use yield in the check of a switch's case");if(k=n(a.node,c,"expression",r),q[b]=e=w.state.branch(),f=M(a.body,c,e,function(){return A},g,h,r),f.goto(N(a.node),a.fallthrough.constValue()?function(){return q[b+1]||A}:function(){return A}),l=e.makeGoto(N(a.node),function(){return e}),C.push(function(){return H.Switch.Case(N(a.node),k(),H.Block(N(a.node),[l(),H.Break(N(a.node))]))}),!a.fallthrough.constValue()&&j){for(i in r)B.call(r,i)&&(m=r[i],m||(j[i]=!1));return r=x({},o)}};m>y;++y)l.call(this,k[y],y);e(s.defaultCase)?u=w.state.makeGoto(N(a),function(){return A}):(t=w.state.branch(),v=M(s.defaultCase,c,t,function(){return A},g,h,r),v.goto(N(s.defaultCase),function(){return A}),u=t.makeGoto(N(s.defaultCase),function(){return t}));for(z in r)B.call(r,z)&&(D=r[z],D||(j[z]=!1));return A=d.branch()},s[31]=function(a,b,c,d){var e;return e=p(b[0],c,d,!1),e.state.add(function(){return H.Throw(N(a),w(e.tNode(),(e.cleanup(),void 0)))})},s[32]=function(a,b,c,d,e,f,g,h,i){var j,k,l,m,n;for(m=M(b[0],c,d,e,f,g,h,i),j=E(b),k=1,l=j.length;l>k;++k)n=j[k],c.releaseTmp(n.constValue());return m},s[33]=function(a,b,c,d,e,f,g,h){var i;return g&&B.call(g,"\0")&&(g[g["\0"]]={"break":function(){return i}},delete g["\0"]),d=d.enterTryCatch(N(a)),d=M(b[0],c,d,e,f,g,h),d=d.exitTryCatch(N(b[0]),n(b[1],c,"leftExpression"),function(){return i}),d=M(b[2],c,d,e,f,g,h),d.goto(N(a),function(){return i}),i=d.branch()},s[34]=function(a,b,c,d,e,f,g,h){var i;if(g&&B.call(g,"\0")&&(g[g["\0"]]={"break":function(){return postBranch}},delete g["\0"]),d.hasGeneratorNode(b[1]))throw new Error("Cannot use yield in a finally");return d=d.pendingFinally(N(a),function(){return i()}),d=M(b[0],c,d,e,f,g,h),i=n(b[1],c,"statement",h),d.runPendingFinally(N(a))},s[39]=function(a,b,c,d){var e;return e=p(b[0],c,d,!1),e.state.yield(N(a),function(){var a;return a=e.tNode(),e.cleanup(),a})},v=s,function(a,b,c,d,e,f,g,h){return c.hasGeneratorNode(a)?r(a,b,c,d,e,f,g,h):c.add(n(a,b,h?"topStatement":"statement",g))}}(),G=[],G[0]=function(a,b,c,d,e){var f,g;return g=n(b[0],c,"expression",e),f=n(b[1],c,"expression",e),function(){return H.Access(N(a),g(),f())}},G[1]=function(a,b,c,d,e){var f;return f=k(N(a),b,c,!0,e),function(){return f()}},G[3]=function(a,b,c,d,e){var f,g,h,i,j,k;for(f=[],g=E(b),h=0,i=g.length;i>h;++h)j=g[h],f.push(n(j,c,d,e));return k=f,function(){return H.Block(N(a),function(){var a,b,c,d;for(a=[],b=0,c=k.length;c>b;++b)d=k[b],a.push(d());return a}())}},G[4]=function(a,b,c){var d;return d=b[0]&&n(b[0],c,"label"),function(){return H.Break(N(a),"function"==typeof d?d():void 0)}},G[5]=function(a,b,c,d,e){var f;return f=n(b[0],c,"expression",e),function(){return H.Comment(N(a),f().constValue())}},G[6]=function(a,b,c,d,e){var f,g,h,i,j,l,m,o;return h=b[0],f=b[1],i=b.slice(2),o=n(h,c,"expression",e),f.isInternalCall("spread")?(g=b.slice(1),m=k(N(a),g,c,!1,!0,e),function(){var b,d;return d=o(),b=m(),c.maybeCache(b,W.array,function(b,e){return c.addHelper("__slice"),H.Call(N(a),H.Access(N(a),d,"apply"),[H.Access(N(a),b,0),H.Call(N(a),H.Access(N(a),e,"slice"),[H.Const(N(a),1)])])})}):(l=n(f,c,"expression",e),j=k(N(a),i,c,!1,!0,e),function(){var b,c,d;return d=o(),c=l(),b=j(),b instanceof H.Arr?H.Call(N(a),H.Access(N(a),d,"call"),[c].concat(E(b.elements))):H.Call(N(a),H.Access(N(a),d,"apply"),[c,b])})},G[7]=function(a,b,c){var d;return d=b[0]&&n(b[0],c,"label"),function(){return H.Continue(N(a),"function"==typeof d?d():void 0)}},G[8]=function(a,b){throw new Error("Cannot have a stray custom node '"+b[0].constValue()+"'")},G[9]=function(a){return function(){return H.Debugger(N(a))}},G[10]=function(a,b,c,d,e){var f,g,h;return b[0].isStatement()?(f=b[0].scope.clone(),h=R.Call(b[0].index,b[0].scope,R.InternalCall("function",b[0].index,f,R.InternalCall("array",b[0].index,f),R.InternalCall("autoReturn",b[0].index,f,b[0].rescope(f)),R.Value(b[0].index,!0),R.Symbol.nothing(b[0].index),R.Value(b[0].index,!1)))):h=b[0],g=n(h,c,"expression",e),function(){return H.Call(N(a),H.Ident(N(a),"write"),[g()].concat(b[1].constValue()?[H.Const(N(a),!0)]:[]))}},G[11]=function(a,b,c,d,e){var f,g,h,i,j;return null!=b[0]&&(h=n(b[0],c,"expression",e)),f=e&&{"\0":!0},null!=b[1]&&(j=n(b[1],c,"expression",f)),g=n(b[3],c,"statement",f),null!=b[2]&&(i=n(b[2],c,"expression",f)),e&&x(e,f),function(){return H.For(N(a),"function"==typeof h?h():void 0,"function"==typeof j?j():void 0,"function"==typeof i?i():void 0,g())}},G[12]=function(a,b,c,d,e){var f,g,h,i;return h=n(b[0],c,"leftExpression"),e&&b[0].isSymbol&&b[0].isIdent&&(e[b[0].name]=!1),i=n(b[1],c,"expression",e),f=e&&{"\0":!0},g=n(b[2],c,"statement",f),e&&x(e,f),function(){var b;if(b=h(),!(b instanceof H.Ident))throw new Error("Expected an Ident for a for-in key");return c.addVariable(b,W.string),H.ForIn(N(a),b,i(),g())}},G[13]=function(){function a(b){var d,e,f,g,h,i,j,k;switch(b.nodeTypeId){case 1:switch(b.symbolTypeId){case 1:return B.call(c,b.name)?W[c[b.name]]:W.any;case 0:if(b.isNothing)return W.any;throw new Error("Unknown type: "+F(b));default:throw new Error("Unhandled value in switch")}break;case 2:if(!b.isInternalCall())throw new Error("Unknown type: "+F(b));switch(b.func.name){case"access":return W.any;case"typeUnion":for(i=W.none,d=E(b.types),f=0,g=d.length;g>f;++f)j=d[f],i=i.union(j.isConst()?function(){switch(j.constValue()){case null:return W["null"];case void 0:return W.undefined;default:throw new Error("Unknown const value for typechecking: "+String(j.value))}}():j instanceof R.Symbol.ident?B.call(c,j.name)?W[c[j.name]]:W.any:D(new Error("Not implemented: typechecking for non-idents/consts within a type-union")));return i;case"typeGeneric":if(!b.args[0].isIdent)return W.any;switch(b.args[0].name){case"Array":return a(b.args[1]).array();case"Function":return a(b.args[1])["function"]();default:return W.any}break;case"typeObject":for(k={},h=0,e=+b.args.length;e>h;h+=2)b.args[h].isConst()&&(k[b.args[h].constValue()]=a(b.args[h+1]));return W.makeObject(k);default:throw new Error("Unhandled value in switch")}break;default:throw new Error("Unhandled value in switch")}}function b(b,c){var d,e,f,g;if(!b.isInternalCall("param"))throw new Error("Unknown parameter type: "+F(b));if(d=n(b.args[0],c,"param")(),e=[],d instanceof H.Binary&&"."===d.op&&d.right instanceof H.Const&&"string"==typeof d.right.value&&(f=H.Ident(d.pos,d.right.value),e.push(H.Binary(d.pos,d,"=",f)),d=f),!(d instanceof H.Ident))throw new Error("Expecting param to be an Ident, got "+F(d));return g=a(b.args[4]),c.addVariable(d,g,!!b.args[3].constValue()),c.markAsParam(d),{init:e,ident:d,spread:!!b.args[2].constValue()}}var c,d;return c={Boolean:"boolean",String:"string",Number:"number",Function:"function"},d=function(){var a;return a={String:W.string,Number:W.number,Boolean:W.boolean,Function:W["function"],Array:W.array},function(b,c){var e,f,g,h,i,j,k,l,m;switch(b.nodeTypeId){case 0:switch(b.value){case null:return W["null"];case void 0:return W.undefined;default:throw new Error("Unexpected Value type: "+String(b.value))}break;case 1:if(b.isIdent){if(!B.call(a,b.name))throw new Error("Not implemented: custom type: "+b.name);return a[b.name]}throw new Error("Unexpected type: "+F(b));case 2:if(!b.isInternalCall())throw new Error("Unexpected type: "+F(b));switch(b.func.name){case"typeUnion":for(l=W.none,e=E(b.args),g=0,h=e.length;h>g;++g)m=e[g],l=l.union(d(m));return l;case"typeGeneric":for(k=d(b.args[0],c),e=[],f=E(b.args),g=1,h=f.length;h>g;++g)i=f[g],e.push(d(i,c));return j=e,W.generic.apply(W,[k].concat(j));default:throw new Error("Unhandled value in switch")}break;default:throw new Error("Unhandled value in switch")}}}(),function(a,c,d){return function(){function c(a){return a.isInternalCall("function")?a:(a.isInternalCall("autoReturn")&&(a=i(a)),a.walk(c))}var e,f,g,h,i,j,k,l,m,p,q,r,s,t,u,v,w;for(m=d.clone(!a.args[2].isConst()||!!a.args[2].constValue()),u=m,p=a.args[4].constValue(),p&&!m.bound&&(m=m.clone(!0)),t=[],l=[],e=E(a.args[0].args),k=0,q=e.length;q>k;++k){if(r=e[k],s=b(r,m,!1),s.spread)throw new Error("Encountered a spread parameter");t.push(s.ident),l.push.apply(l,s.init)}return i=a.args[2].isConst()?function(a){return R.Call(a.index,a.scope,R.Symbol["return"](a.index),a.args[0])}:function(a){return a.args[0]},v={},f=o(N(a),p,m,c(a.args[1]),v),g=f.body,w=f.wrap,f=null,m.releaseTmps(),h=N(a.args[1]),g=H.Block(h,l.concat([g])),a.args[2].isConst()?m.usedThis&&(m.bound&&(d.usedThis=!0),!m.hasBound&&!p||u.bound||(j=H.Ident(h,"_this"),m.addVariable(j),g=H.Block(h,[H.Assign(h,j,H.This(h)),g]))):(j=H.Ident(h,"_this"),m.addVariable(j),g=H.Block(h,[H.Assign(h,j,n(a.args[2],d,"expression",v)()),g,H.Return(h,j)])),w(H.Func(N(a),null,t,m.getVariables(),g,[]))}}}(),G[14]=function(a,b,c,d,e){var f,g,h,i,j,k,l;if(f="statement"===d||"topStatement"===d?"statement":d,h=n(b[0],c,"expression",e),l=e&&x({},e),j=n(b[1],c,f,e),i=n(b[2],c,f,l),e)for(g in l)B.call(l,g)&&(k=l[g],k||(e[g]=!1));
return function(){return H.If(N(a),h(),j(),"function"==typeof i?i():void 0)}},G[15]=function(a,b,c,d,e){var f,g;return f=n(b[0],c,"label"),g=n(b[1],c,d,e),function(){return g().withLabel(f())}},G[17]=function(a,b,c,d,e){var f,g;return b[0].isSymbol&&b[0].isIdent&&"RegExp"===b[0].name&&b[1].isConst()&&(!b[2]||b[2].isConst())?b[2]&&b[2].constValue()?function(){return H.Regex(N(a),String(b[1].constValue()),String(b[2].constValue()))}:function(){return H.Regex(N(a),String(b[1].constValue()))}:(g=n(b[0],c,"expression",e),f=k(N(a),C.call(b,1),c,!1,!0,e),function(){var b,d;return d=g(),b=f(),b instanceof H.Arr?H.Call(N(a),d,b.elements,!0):(c.addHelper("__new"),H.Call(N(a),H.Access(N(a),H.Ident(N(a),"__new"),H.Const(N(a),"apply")),[d,b]))})},G[19]=function(a,b,c,d,f){var g,h,i,j,k,l,m,o,p;for(m=[],p=[],l=[],g=E(b),h=1,i=g.length;i>h;++h)k=g[h],m.push(n(k.args[0],c,"expression",f)),p.push(n(k.args[1],c,"expression",f)),l.push(null!=(j=k.args[2])?j.constValue():void 0);return o=e(b[0])?void 0:n(b[0],c,"expression",f),function(){var b,d,e,f,g,h,i,j,k,n,q,r,s,t,u,v;for(d=[],n=[],"function"==typeof o&&(r=o()),f=null!=r?n:d,j=null,g=0,b=m.length;b>g;++g)t=m[g],u=p[g],i=t(),v=u(),q=l[g],i instanceof H.Const&&!q||(f=n),e=f[f.length-1],("get"===q||"set"===q)&&j&&q!==j&&i instanceof H.Const&&e.key instanceof H.Const&&i.value===e.key.value?(e[j]=e.value,e.property=""+j+q,delete e.value,e[q]=v,j=null):(f.push({key:i,value:v,property:q}),("get"===q||"set"===q)&&(j=q));return null!=r?(c.addHelper("__create"),k=H.Call(N(a),H.Ident(N(a),"__create"),[r])):k=H.Obj(N(a),function(){var a,b,c,e,f,g;for(a=[],b=0,c=d.length;c>b;++b)e=d[b],f=e.key,g=e.value,e=null,a.push(H.Obj.Pair(f.pos,String(f.value),g));return a}()),0===n.length?k:(h=c.reserveIdent(N(a),"o",W.object),s=H.BlockExpression(N(a),[H.Assign(N(a),h,k)].concat(function(){var a,b,d,e,f,g;for(a=[],b=0,d=n.length;d>b;++b)f=n[b],e=f.key,g=f.property,g?(c.addHelper("__defProp"),a.push(H.Call(e.pos,H.Ident(e.pos,"__defProp"),[h,e,"property"===g?f.value:"getset"===g?H.Obj(f.get.pos,[H.Obj.Pair(f.get.pos,"get",f.get),H.Obj.Pair(f.set.pos,"set",f.set),H.Obj.Pair(f.set.pos,"configurable",H.Const(f.set.pos,!0)),H.Obj.Pair(f.set.pos,"enumerable",H.Const(f.set.pos,!0))]):"setget"===g?H.Obj(f.set.pos,[H.Obj.Pair(f.set.pos,"set",f.set),H.Obj.Pair(f.get.pos,"get",f.get),H.Obj.Pair(f.get.pos,"configurable",H.Const(f.get.pos,!0)),H.Obj.Pair(f.get.pos,"enumerable",H.Const(f.get.pos,!0))]):"get"===g?H.Obj(f.value.pos,[H.Obj.Pair(f.value.pos,"get",f.value),H.Obj.Pair(f.value.pos,"configurable",H.Const(f.value.pos,!0)),H.Obj.Pair(f.value.pos,"enumerable",H.Const(f.value.pos,!0))]):"set"===g?H.Obj(f.value.pos,[H.Obj.Pair(f.value.pos,"set",f.value),H.Obj.Pair(f.value.pos,"configurable",H.Const(f.value.pos,!0)),H.Obj.Pair(f.value.pos,"enumerable",H.Const(f.value.pos,!0))]):D(new Error("Unknown property type: "+String(g)))]))):a.push(H.Assign(e.pos,H.Access(e.pos,h,e),f.value));return a}(),[h])),c.releaseIdent(h),s)}},G[21]=function(a,b,c,d,e){var f,g;if("statement"!==d&&"topStatement"!==d)throw new Error("Expected Return in statement position");return f=b[0].mutateLast(null,function(a){return a.isInternalCall("return")?a:R.InternalCall("return",a.index,a.scope,a)},null,!0),f.isInternalCall("return")&&f.args[0]===b[0]?(g=n(b[0],c,"expression",e),b[0].isStatement()?g:function(){return H.Return(N(a),g())}):n(f,c,d,e)},G[25]=function(){throw new Error("Cannot have a stray super call")},G[24]=function(a,b,c,d,e){var f,g,h,j,k,l,m,o,p,q,r,s,t,u;for(o=i(b),t=n(o.topic,c,"expression",e),k=e&&x({},e),m=e&&x({},k),f=[],g=o.cases,h=0,j=g.length;j>h;++h){if(l=g[h],q={pos:N(l.node),tNode:n(l.node,c,"expression",m),tBody:n(l.body,c,"statement",m),fallthrough:l.fallthrough.constValue()},!q.fallthrough&&e){for(p in m)B.call(m,p)&&(u=m[p],u||(e[p]=!1));m=x({},k)}f.push(q)}r=f,s=n(o.defaultCase,c,"statement",m);for(p in m)B.call(m,p)&&(u=m[p],u||(e[p]=!1));return function(){return H.Switch(N(a),t(),function(){var a,b,c,d,e,f;for(a=[],e=0,f=r.length;f>e;++e)b=r[e],d=b.tNode(),c=b.tBody(),b.fallthrough||(c=H.Block(b.pos,[c,H.Break(c.pos)])),a.push(H.Switch.Case(b.pos,d,c));return a}(),s())}},G[31]=function(a,b,c,d,e){var f;return f=n(b[0],c,"expression",e),function(){return H.Throw(N(a),f())}},G[32]=function(a,b,c,d,e){var f,g,h,i,j;for(j=n(b[0],c,d,e),f=E(b),g=1,h=f.length;h>g;++g)i=f[g],c.releaseTmp(i.constValue());return j},G[33]=function(a,b,c,d,e){var f,g,h,i;return i=n(b[0],c,"statement",e),f=c.clone(!1),h=n(b[1],f,"leftExpression"),g=n(b[2],f,"statement",e),function(){var b,d;return b=h(),b instanceof H.Ident&&(f.addVariable(b),f.markAsParam(b)),d=H.TryCatch(N(a),i(),b,g()),x(c.variables,f.variables),d}},G[34]=function(a,b,c,d,e){var f,g;return g=n(b[0],c,"statement",e),f=n(b[1],c,"statement",e),function(){return H.TryFinally(N(a),g(),f())}},G[38]=function(a,b,c,d,e){var f,g,h;return f=b[0],e&&!e["\0"]&&f.isSymbol&&f.isIdent&&!B.call(e,f.name)&&(e[f.name]=!0),h=n(f,c,"leftExpression"),g=a.scope.isMutable(f),function(){return c.addVariable(h(),W.any,g),H.Noop(N(a))}},U=G,G=[],G[0]=function(a,b,c,d,e){var f,g;return f=n(b[0],c,"expression",e),g=n(b[1],c,"expression",e),function(){return H.Binary(N(a),f(),a.func.name,g())}},G[1]=function(a,b,c,d,e){var f,g;return f=a.func.name,e&&("++"===f||"--"===f||"++post"===f||"--post"===f)&&b[0].isSymbol&&b[0].isIdent&&(e[b[0].name]=!1),g=n(b[0],c,"expression",e),function(){return H.Unary(N(a),f,g())}},G[2]=function(a,b,c,d,e){var f,g,h;if(f=a.func.name,g=n(b[0],c,"leftExpression"),h=n(b[1],c,"expression",e),e&&b[0].isSymbol&&b[0].isIdent){if("="===f&&e[b[0].name]&&!e["\0"]&&b[1].isConstValue(void 0))return function(){return H.Noop(N(a))};e[b[0].name]=!1}return function(){var b,e;return b=g(),e=h(),"="===f&&"topStatement"===d&&b instanceof H.Ident&&e instanceof H.Func&&null==e.name&&c.hasOwnVariable(b)&&!c.isVariableMutable(b)?(c.markAsFunction(b),H.Func(N(a),b,e.params,e.variables,e.body,e.declarations)):H.Binary(N(a),b,f,e)}},V=G,S={Error:!0,RangeError:!0,ReferenceError:!0,SyntaxError:!0,TypeError:!0,URIError:!0},a.exports=function(a,b,c,d){var e,f,g,h;null==d&&(d={}),h=(new Date).getTime();try{g=T(d,b,!1),f=r(a,g,c),g.releaseTmps()}catch(i){if("undefined"!=typeof callback&&null!==callback)return callback(i);throw i}return e=(new Date).getTime(),"function"==typeof d.progress&&d.progress("translate",e-h),{node:f,time:e-h}},a.exports.defineHelper=function(a,b,c,d,e,f){var g,i,j;if(j=T({},a,!1),N=p(b),"string"==typeof c)i=H.Ident(h(0,0),c);else{if(!(c instanceof R.Symbol.ident))throw new TypeError("Expecting name to be a String or Ident, got "+F(c));i=n(c,j,"leftExpression")()}if(!(i instanceof H.Ident))throw new Error("Expected name to be an Ident, got "+F(i));if(d instanceof I)g=d;else{if(!(d instanceof R))throw new TypeError("Expected value to be a parser or ast Node, got "+F(d));g=n(d,j,"expression")()}return null==f&&(f=j.getHelpers()),a.addHelper(i.name,g,e,f),N=null,{helper:g,dependencies:f}}}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./gorilla"]=function(){var a={exports:this},c=this;return function(a){function d(a){var b,c,d,e,f;for(e={parseTime:0,macroExpandTime:0,reduceTime:0,macros:a[0].macros,result:[]},b=t(a),c=0,d=b.length;d>c;++c)f=b[c],e.parseTime+=n(f.parseTime),e.macroExpandTime+=n(f.macroExpandTime),e.reduceTime+=n(f.reduceTime),e.result.push(f.result);return e}function e(a,c,d){var e,f;if("function"==typeof c.astPipe&&(a=c.astPipe(a,d,x),!(a instanceof x.Root)))throw new Error("Expected astPipe to return a Root, got "+v(a));if(c.coverage){if(e=b("./coverage"),"string"==typeof c.coverage){if(!B(c.coverage))throw new Error("coverage option must be an acceptable ident. '"+s(c.coverage)+"' is not.");f=c.coverage}else f=null;a=e(a,d,f)}return a}function f(c,d){var e,f,g,h,i,j,k,l,m,n,p,q,r;if("function"==typeof b&&null!=(i=b("vm"))&&(q=i.Script),q){if(p=q.createContext(),p.global=p.root=p.GLOBAL=p,null!=d.sandbox)if(d.sandbox instanceof p.constructor)p=d.sandbox;else{h=d.sandbox;for(l in h)o.call(h,l)&&(r=h[l],p[l]=r)}else for(l in a)o.call(a,l)&&(r=a[l],p[l]=r);if(p.__filename=d.filename||"eval",p.__dirname=E.dirname(p.__filename),!p.module&&!p.require)for(m=b("module"),g=p.module=new m(d.modulename||"eval"),j=p.require=function(a){return m._load(a,g)},g.filename=p.__filename,e=Object.getOwnPropertyNames(b),f=e.length;f--;){n=e[f];try{j[n]=b[n]}catch(t){}}if(d.includeGlobals)for(l in a)!o.call(a,l)||l in p||(p[l]=a[l]);return q.runInContext(c,p)}return k=Function("return "+s(c)),k()}var g,h,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J;g=function(){function a(){function b(a,b){var f;c&&(f=c,c=null,d=a,e=b,f.length&&G(function(){var a,b;for(b=0,a=f.length;a>b;++b)f[b]()}))}var c,d,e;return d=!1,e=null,c=[],{promise:{then:function(b,f,g){function h(){var a,c;try{a=d?f:b,"function"==typeof a?(c=a(e),c&&"function"==typeof c.then?c.then(j,l,g):j(c)):(d?l:j)(e)}catch(h){l(h)}}var i,j,k,l;return g!==!0&&(g=void 0),i=a(),k=i.promise,j=i.fulfill,l=i.reject,i=null,c?c.push(h):g?h():G(h),k},sync:function(){var a,b;switch(b=0,a=0,this.then(function(c){b=1,a=c},function(c){b=2,a=c},!0),b){case 0:throw new Error("Promise did not execute synchronously");case 1:return a;case 2:throw a;default:throw new Error("Unknown state")}}},fulfill:function(a){b(!1,a)},reject:function(a){b(!0,a)}}}return a.fulfilled=function(b){var c;return c=a(),c.fulfill(b),c.promise},a.rejected=function(b){var c;return c=a(),c.reject(b),c.promise},a}(),h=function(a){function b(){0===--n&&f(p)}function c(a,c){c.then(function(c){p[a]=c,b()},m)}var d,e,f,h,i,j,k,m,n,p,q;if("object"!=typeof a||null===a)throw new TypeError("Expected promises to be an Object, got "+v(a));if(i=l(a),e=g(),q=e.promise,f=e.fulfill,m=e.reject,e=null,p=i?[]:{},n=1,i)for(d=t(a),h=d.length;h--;)k=d[h],++n,c(h,k);else for(j in a)o.call(a,j)&&(k=a[j],++n,c(j,k));return b(),q},j=function(a,b){function c(c,f){var h;try{h=a[c](f)}catch(i){return g.rejected(i)}return h.done?g.fulfilled(h.value):h.value.then(d,e,b)}function d(a){return c("send",a)}function e(a){return c("throw",a)}if("object"!=typeof a||null===a)throw new TypeError("Expected generator to be an Object, got "+v(a));if("function"!=typeof a.send)throw new TypeError("Expected generator.send to be a Function, got "+v(a.send));if("function"!=typeof a["throw"])throw new TypeError("Expected generator.throw to be a Function, got "+v(a["throw"]));if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+v(b));return d(void 0)},k=function(a,b){var c;for(c in b)o.call(b,c)&&(a[c]=b[c]);return a},l="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),m=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>=a},n=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+v(a));return a},o=Object.prototype.hasOwnProperty,p=function(a,b){var c;if(null==b)b=!1;else if("boolean"!=typeof b)throw new TypeError("Expected allowSync to be a Boolean, got "+v(b));return"function"==typeof a?(c=function(){return j(a.apply(this,arguments))},c.sync=function(){return j(a.apply(this,arguments),!0).sync()},c.maybeSync=function(){return j(a.apply(this,arguments),!0)},c):j(a,b)},q=function(a,b,c){function d(a){return++n,c(a).then(function(b){return m[a]=b,--n,e()},function(a){return h=!0,l(a)})}function e(){for(;!h&&a>n&&b>j;++j)d(j);return!h&&j>=b&&0===n?(h=!0,i(m)):void 0}var f,h,i,j,k,l,m,n;if("number"!=typeof a)throw new TypeError("Expected limit to be a Number, got "+v(a));if("number"!=typeof b)throw new TypeError("Expected length to be a Number, got "+v(b));if("function"!=typeof c)throw new TypeError("Expected body to be a Function, got "+v(c));return(1>a||a!==a)&&(a=1/0),m=[],h=!1,n=0,f=g(),i=f.fulfill,l=f.reject,k=f.promise,f=null,j=0,G(e),k},r=Array.prototype.slice,s=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+v(a))},t=function(a){if(null==a)throw new TypeError("Expected an object, got "+v(a));if(l(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return r.call(a);throw new TypeError("Expected an object with a length property, got "+v(a))},u=function(a,b,c){var d,e,f,h;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+v(a));return d=g(),f=d.promise,h=d.reject,e=d.fulfill,d=null,a.apply(b,t(c).concat([function(a,b){null!=a?h(a):e(b)}])),f},v=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),G="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(a){return function(b){var c;if("function"!=typeof b)throw new TypeError("Expected func to be a Function, got "+v(b));return c=r.call(arguments,1),c.length?a(function(){b.apply(void 0,t(c))}):a(b)}}(process.nextTick):function(a){var b;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+v(a));return b=r.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,b)},0):setTimeout(a,0)},D=b("./parser"),x=b("./jsast"),C=b("os"),z=b("fs"),E=b("path"),H=b("./source-map"),w=b("./utils"),I=w.writeFileWithMkdirp,J=w.writeFileWithMkdirpSync,w=null,B=b("./jsutils").isAcceptableIdent,c.version="0.9.10",c.ParserError=D.ParserError,c.MacroError=D.MacroError,b.extensions?b.extensions[".gs"]=function(a,b){var d;return d=c.compileSync(z.readFileSync(b,"utf8"),{filename:b}),a._compile(d.code,b)}:b.registerExtension&&b.registerExtension(".gs",function(a){return c.compileSync(a,{filename:filename})}),"undefined"!=typeof __filename&&null!==__filename&&(F=z.realpathSync(__filename)),y=function(){function a(a){if(null==a)a=!1;else if("boolean"!=typeof a)throw new TypeError("Expected sync to be a Boolean, got "+v(a));return null!=b?a?b:g.fulfilled(b):a?h.sync(!0):null==e?e=h():e}var b,d,e,f,h;return null!=F&&(f=E.join(E.dirname(F),"../src/jsprelude.gs")),null!=C&&(d=E.join(C.tmpDir(),"gs-jsprelude-"+s(c.version)+".cache")),h=p(function(a){function c(){k=30}function g(c){for(;;)switch(k){case 0:k=a?1:2;break;case 1:s=z.statSync(f),k=4;break;case 2:return++k,{done:!1,value:u(z.stat,z,[f])};case 3:s=c,++k;case 4:++k;case 5:k=a?6:7;break;case 6:r=z.statSync(d),k=10;break;case 7:return++k,{done:!1,value:u(z.stat,z,[d])};case 8:r=c,k=10;break;case 9:if("ENOENT"!==g.code)throw g;++k;case 10:k=r&&m(s.mtime.getTime(),r.mtime.getTime())?11:19;break;case 11:k=a?12:13;break;case 12:l=z.readFileSync(d,"utf8"),k=15;break;case 13:return++k,{done:!1,value:u(z.readFile,z,[d,"utf8"])};case 14:l=c,++k;case 15:o=!1;try{b=D.deserializePrelude(l)}catch(g){if(g instanceof ReferenceError)throw g;console.error("Error deserializing prelude, reloading. "+String(g.stack||g)),o=!0}k=o?16:19;break;case 16:k=a?17:18;break;case 17:z.unlinkSync(d),k=19;break;case 18:return++k,{done:!1,value:u(z.unlink,z,[d])};case 19:k=null==b?20:29;break;case 20:k=a?21:22;break;case 21:q=z.readFileSync(f,"utf8"),k=24;break;case 22:return++k,{done:!1,value:u(z.readFile,z,[f,"utf8"])};case 23:q=c,++k;case 24:k=a?25:26;break;case 25:p=D.sync(q,null,{serializeMacros:!0,sync:!0,filename:f}),k=28;break;case 26:return++k,{done:!1,value:D(q,null,{serializeMacros:!0,filename:f})};case 27:p=c,++k;case 28:b=p.macros,I(d,b.serialize(),"utf8"),++k;case 29:return h=null,e=void 0,++k,{done:!0,value:b};case 30:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+k)}}function i(a){if(!(k>=5&&8>=k))throw c(),a;n=a,k=9}function j(a){for(;;)try{return g(a)}catch(b){i(b)}}var j,k,g,i,l,n,o,p,q,r,s;return k=0,{close:c,iterator:function(){return this},next:function(){return j(void 0)},send:j,"throw":function(a){return i(a),j(void 0)}}}),c.getSerializedPrelude=p(function(){function b(){g=3}function c(b){for(;;)switch(g){case 0:return++g,{done:!1,value:a()};case 1:return++g,{done:!1,value:u(z.readFile,z,[d,"utf8"])};case 2:return++g,{done:!0,value:b};case 3:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function e(a){throw b(),a}function f(a){try{return c(a)}catch(b){e(b)}}var f,g,c,e;return g=0,{close:b,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.withPrelude=function(a){if("function"!=typeof a)throw new TypeError("Expected serializedPrelude to be a Function, got "+v(a));return c.withPrelude=function(){throw new Error("Cannot provide a prelude more than once")},b=D.deserializePrelude(a),h=null,this},a}(),c.parse=p(function(a,b){function c(){g=12}function d(c){for(;;)switch(g){case 0:null==b&&(b={}),j=b.sync,g=b.macros?1:2;break;case 1:h=b.macros,g=8;break;case 2:g=b.noPrelude?3:4;break;case 3:h=null,g=8;break;case 4:g=j?5:6;break;case 5:h=y(!0),g=8;break;case 6:return++g,{done:!1,value:y()};case 7:h=c,++g;case 8:i={filename:b.filename,noindent:!!b.noindent,sync:!!b.sync,progress:b.progress},b.embedded&&(i.embedded=!!b.embedded,i.embeddedUnpretty=!!b.embeddedUnpretty,i.embeddedGenerator=!!b.embeddedGenerator,i.embeddedOpen=b.embeddedOpen,i.embeddedClose=b.embeddedClose,i.embeddedOpenWrite=b.embeddedOpenWrite,i.embeddedCloseWrite=b.embeddedCloseWrite,i.embeddedOpenComment=b.embeddedOpenComment,i.embeddedCloseComment=b.embeddedCloseComment,i.embeddedOpenLiteral=b.embeddedOpenLiteral,i.embeddedCloseLiteral=b.embeddedCloseLiteral),g=j?9:10;break;case 9:return g=12,{done:!0,value:D.sync(a,h,i)};case 10:return++g,{done:!1,value:D(a,h,i)};case 11:return++g,{done:!0,value:c};case 12:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+g)}}function e(a){throw c(),a}function f(a){try{return d(a)}catch(b){e(b)}}var f,g,d,e,h,i,j;return g=0,{close:c,iterator:function(){return this},next:function(){return f(void 0)},send:f,"throw":function(a){return e(a),f(void 0)}}}),c.parseSync=function(a,b){var d;return null==b&&(b={}),c.parse.sync(a,(d=k({},b),d.sync=!0,d))},c.getReservedWords=function(a){return null==a&&(a={}),a.noPrelude?D.getReservedWords(null,a):D.getReservedWords(y(!0),a)},c.ast=p(function(a,f){function g(){q=15}function h(g){for(;;)switch(q){case 0:null==f&&(f={}),D=(new Date).getTime(),E=f.sync,G="function"==typeof f.translator?f.translator:b("string"==typeof f.translator?f.translator:"./jstranslator"),q=l(a)?1:10;break;case 1:s=[],z=f.progress,B={parse:0,macroExpand:0,reduce:0},"function"==typeof z&&(f.progress=function(a,b){return B[a]=n(B[a])+n(b)}),m=t(a),o=0,p=m.length,++q;case 2:q=p>o?3:9;break;case 3:w=m[o],l(f.filenames)&&(f.filename=f.filenames[i]),q=E?4:5;break;case 4:r=c.parseSync(w,f),q=7;break;case 5:return++q,{done:!1,value:c.parse(w,f)};case 6:r=g,++q;case 7:s.push(r),++q;case 8:++o,q=2;break;case 9:if(f.progress=z,"function"==typeof z)for(m=["parse","macroExpand","reduce"],o=0,p=m.length;p>o;++o)x=m[o],f.progress(x,B[x]);A=d(s),q=14;break;case 10:q=E?11:12;break;case 11:A=c.parseSync(a,f),q=14;break;case 12:return++q,{done:!1,value:c.parse(a,f)};case 13:A=g,++q;case 14:return F=G(A.result,A.macros,A.getPosition,f),v={},f.filename&&(v[f.filename]=a),C=(new Date).getTime(),y=e(F.node,f,v),u=(new Date).getTime(),++q,{done:!0,value:{node:y,parseTime:A.parseTime,macroExpandTime:A.macroExpandTime,reduceTime:A.reduceTime,translateTime:F.time,astPipeTime:u-C,time:u-D}};case 15:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+q)}}function j(a){throw g(),a}function k(a){try{return h(a)}catch(b){j(b)}}var m,o,p,k,q,h,j,r,s,u,v,w,x,y,z,A,B,C,D,E,F,G;return q=0,{close:g,iterator:function(){return this},next:function(){return k(void 0)},send:k,"throw":function(a){return j(a),k(void 0)}}}),c.astSync=function(a,b){var d;return null==b&&(b={}),c.ast.sync(a,(d=k({},b),d.sync=!0,d))},c.compile=p(function(a,b){function d(){h=5}function e(d){for(;;)switch(h){case 0:null==b&&(b={}),l=b.sync,k=(new Date).getTime(),h=l?1:2;break;case 1:m=c.astSync(a,b),h=4;break;case 2:return++h,{done:!1,value:c.ast(a,b)};case 3:m=d,++h;case 4:return j=m.node,i=j.compile(b),++h,{done:!0,value:{parseTime:m.parseTime,macroExpandTime:m.macroExpandTime,reduceTime:m.reduceTime,translateTime:m.translateTime,compileTime:i.compileTime,uglifyTime:i.uglifyTime,time:(new Date).getTime()-k,code:i.code}};case 5:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+h)}}function f(a){throw d(),a}function g(a){try{return e(a)}catch(b){f(b)}}var g,h,e,f,i,j,k,l,m;return h=0,{close:d,iterator:function(){return this},next:function(){return g(void 0)},send:g,"throw":function(a){return f(a),g(void 0)}}}),c.compileSync=function(a,b){var d;return null==b&&(b={}),c.compile.sync(a,(d=k({},b),d.sync=!0,d))},c.compileFile=p(function(a){function d(){r=20}function f(d){for(;;)switch(r){case 0:if(null==a&&(a={}),a=k({},a),T=a.sync,D=a.input,"string"==typeof D)D=[D];else{if(!l(D))throw new Error("Expected options.input to be a string or array of strings");if(0===D.length)throw new Error("Expected options.input to not be empty")}if(M=a.output,"string"!=typeof M)throw new Error("Expected options.output to be a string, got "+v(M));if(a.sourceMap)if("string"==typeof a.sourceMap)Q=a.sourceMap,a.sourceMap=H(Q,a.output,"");else{if("string"!=typeof a.sourceMap.file)throw new Error("Expected options.sourceMap.file to be a string, got "+v(a.sourceMap.file));if("string"!=typeof a.sourceMap.sourceRoot)throw new Error("Expected options.sourceMap.sourceRoot to be a string, got "+v(a.sourceMap.sourceRoot));Q=a.sourceMap.file,a.sourceMap=H(Q,a.output,a.sourceMap.sourceRoot)}else a.sourceMap=null;R=[],r=T?1:2;break;case 1:for(j=t(D),m=0,o=j.length;o>m;++m)C=j[m],R.push(z.readFileSync(C,"utf8"));r=4;break;case 2:return++r,{done:!1,value:q(5,n(D.length),p(function(a){function b(){f=2}function c(b){for(;;)switch(f){case 0:return g=D[a],++f,{done:!1,value:u(z.readFile,z,[g,"utf8"])};case 1:return++f,{done:!0,value:b};case 2:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d,g;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}))};case 3:R=d,++r;case 4:L=R.length>0&&a.progress,O={parse:0,macroExpand:0,reduce:0},"function"==typeof L&&(a.progress=function(a,b){return O[a]=n(O[a])+n(b)}),j=[],B=0,o=R.length,++r;case 5:r=o>B?6:11;break;case 6:P=R[B],S=Date.now(),a.filename=D[B],r=T?7:8;break;case 7:j.push(c.parseSync(P,a)),r=10;break;case 8:return++r,{done:!1,value:c.parse(P,a)};case 9:j.push(d),++r;case 10:++B,r=5;break;case 11:if(N=j,"function"==typeof L)for(a.progress=L,j=["parse","macroExpand","reduce"],m=0,o=j.length;o>m;++m)G=j[m],a.progress(G,O[G]);for(a.filenames=D,V=b("./jstranslator"),U=V(function(){var a,b,c,d;for(a=[],b=0,c=N.length;c>b;++b)d=N[b],a.push(d.result);return a}(),N[0].macros,function(){var a,b,c,d;for(a=[],b=0,c=N.length;c>b;++b)d=N[b],a.push(d.getPosition);return a}(),a),K=U.node,y={},j=t(D),B=0,o=j.length;o>B;++B)C=j[B],y[C]=R[B];K=e(K,a,y),x=K.compile(a),r=T?13:12;break;case 12:return++r,{done:!1,value:g.fulfilled()};case 13:w=x.code,Q&&(F=a.linefeed||"\n",A=s(F)+"//# sourceMappingURL="+s(E.relative(E.dirname(a.output),Q))+s(F),w=s(w)+A),r=T?14:15;break;case 14:J(a.output,w,a.encoding||"utf8"),r=16;break;case 15:return++r,{done:!1,value:I(a.output,w,a.encoding||"utf8")};case 16:r=Q?17:20;break;case 17:r=T?18:19;break;case 18:J(Q,a.sourceMap.toString(),"utf8"),r=20;break;case 19:return++r,{done:!1,value:I(Q,a.sourceMap.toString(),"utf8")};case 20:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+r)}}function h(a){throw d(),a}function i(a){try{return f(a)}catch(b){h(b)}}var j,m,o,i,r,f,h,w,x,y,A,B,C,D,F,G,K,L,M,N,O,P,Q,R,S,T,U,V;return r=0,{close:d,iterator:function(){return this},next:function(){return i(void 0)},send:i,"throw":function(a){return h(a),i(void 0)}}}),c.compileFileSync=function(a){var b;return null==a&&(a={}),c.compileFile.sync((b=k({},a),b.sync=!0,b))},c.eval=p(function(a,b){function d(){i=5}function e(d){for(;;)switch(i){case 0:null==b&&(b={}),m=b.sync,b.eval=!0,b["return"]=!1,i=m?1:2;break;case 1:j=c.compileSync(a,b),i=4;break;case 2:return++i,{done:!1,value:c.compile(a,b)};case 3:j=d,++i;case 4:return l=(new Date).getTime(),k=f(j.code,b),"function"==typeof b.progress&&b.progress("eval",(new Date).getTime()-l),++i,{done:!0,value:k};case 5:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+i)}}function g(a){throw d(),a}function h(a){try{return e(a)}catch(b){g(b)}}var h,i,e,g,j,k,l,m;return i=0,{close:d,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.evalSync=function(a,b){var d;return null==b&&(b={}),c.eval.sync(a,(d=k({},b),d.sync=!0,d))},c.run=p(function(a,d){function e(){i=12}function f(e){for(;;)switch(i){case 0:null==d&&(d={}),m=d.sync,i="undefined"==typeof process?1:5;break;case 1:i=m?2:3;break;case 2:return i=12,{done:!0,value:c.evalSync(a,d)};case 3:return++i,{done:!1,value:c.eval(a,d)};case 4:return i=12,{done:!0,value:e};case 5:k=b.main,k.filename=process.argv[1]=d.filename?z.realpathSync(d.filename):".",k.moduleCache&&(k.moduleCache={}),process.binding("natives").module&&(l=b("module").Module,k.paths=l._nodeModulePaths(E.dirname(d.filename))),i=".gs"!==E.extname(k.filename)||b.extensions?6:11;break;case 6:i=m?7:8;break;case 7:j=c.compileSync(a,d),i=10;break;case 8:return++i,{done:!1,value:c.compile(a,d)};case 9:j=e,++i;case 10:return i=12,{done:!0,value:k._compile(j.code,k.filename)};case 11:return++i,{done:!0,value:k._compile(a,k.filename)};case 12:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+i)}}function g(a){throw e(),a}function h(a){try{return f(a)}catch(b){g(b)}}var h,i,f,g,j,k,l,m;return i=0,{close:e,iterator:function(){return this},next:function(){return h(void 0)},send:h,"throw":function(a){return g(a),h(void 0)}}}),c.runSync=function(a,b){var d;return null==b&&(b={}),c.run.sync(a,(d=k({},b),d.sync=!0,d))},A=c.init=p(function(a){function b(){f=3}function c(){for(;;)switch(f){case 0:null==a&&(a={}),f=a.sync?1:2;break;case 1:y(!0),f=3;break;case 2:return++f,{done:!1,value:y()};case 3:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+f)}}function d(a){throw b(),a}function e(a){try{return c(a)}catch(b){d(b)}}var e,f,c,d;return f=0,{close:b,iterator:function(){return this},next:function(){return e(void 0)},send:e,"throw":function(a){return d(a),e(void 0)}}}),c.initSync=function(a){var b;null==a&&(a={}),A.sync((b=k({},a),b.sync=!0,b))},c.getMtime=p(function(){function a(){k=6}function b(a){for(;;)switch(k){case 0:return m=[],m.push(E.join(E.dirname(F),"../src/jsprelude.gs")),q=E.join(E.dirname(F),"../lib"),++k,{done:!1,value:u(z.readdir,z,[q])};case 1:for(s=a,e=t(s),g=0,i=e.length;i>g;++g)r=e[g],".js"===E.extname(r)&&m.push(E.join(q,r));p=h(function(){var a,b,c,d;for(a=[],b=0,c=m.length;c>b;++b)d=m[b],a.push(u(z.stat,z,[d]));return a}()),++k;case 2:return++k,{done:!1,value:p};case 3:o=a,k=5;break;case 4:return k=6,{done:!0,value:new Date};case 5:for(l=-4503599627370496,e=t(o),g=0,i=e.length;i>g;++g)v=e[g],l=l>n(j=v.mtime.getTime())?l:j;return w=l,++k,{done:!0,value:new Date(w)};case 6:return{done:!0,value:void 0};default:throw new Error("Unknown state: "+k)}}function c(b){if(2!==k&&3!==k)throw a(),b;f=b,k=4}function d(a){for(;;)try{return b(a)}catch(d){c(d)}}var e,f,g,i,j,d,k,b,c,l,m,o,p,q,r,s,v,w;return k=0,{close:a,iterator:function(){return this},next:function(){return d(void 0)},send:d,"throw":function(a){return c(a),d(void 0)}}}),c.AST=x}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b["./browser"]=function(){var a={exports:this};return function(a){var c,d,e,f,g,h,i,j,k,l,m;c=function(a,b,c,d,e){function f(a,b){k||(--n,null!=a&&null==i&&(i=a),c&&null==i&&arguments.length>1&&m.push(b),o||h())}function h(){for(;!k&&null==i&&a>n&&++l<b;)++n,o=!0,d(l,g(f)),o=!1;k||null==i&&0!==n||(k=!0,null!=i?e(i):e(null,m))}var i,k,l,m,n,o;if("number"!=typeof a)throw new TypeError("Expected limit to be a Number, got "+j(a));if("number"!=typeof b)throw new TypeError("Expected length to be a Number, got "+j(b));if(null==c)c=!1;else if("boolean"!=typeof c)throw new TypeError("Expected hasResult to be a Boolean, got "+j(c));if("function"!=typeof d)throw new TypeError("Expected onValue to be a Function, got "+j(d));if("function"!=typeof e)throw new TypeError("Expected onComplete to be a Function, got "+j(e));return m=c?[]:null,0>=b?e(null,m):((1>a||a!==a)&&(a=1/0),i=null,n=0,o=!1,k=!1,l=-1,h(),void 0)},d=function(a){if("object"!=typeof a||null===a)throw new TypeError("Expected promise to be an Object, got "+j(a));if("function"!=typeof a.then)throw new TypeError("Expected promise.then to be a Function, got "+j(a.then));return function(b){if("function"!=typeof b)throw new TypeError("Expected callback to be a Function, got "+j(b));a.then(function(a){return m(b,null,a)},function(a){return m(b,a)})}},e="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),f=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+j(a));return a},g=function(){function a(){throw new Error("Attempted to call function more than once")}function b(){}return function(c,d){if("function"!=typeof c)throw new TypeError("Expected func to be a Function, got "+j(c));if(null==d)d=!1;else if("boolean"!=typeof d)throw new TypeError("Expected silentFail to be a Boolean, got "+j(d));return function(){var e;return e=c,c=d?b:a,e.apply(this,arguments)}}}(),h=Array.prototype.slice,i=function(a){if(null==a)throw new TypeError("Expected an object, got "+j(a));if(e(a))return a;if("string"==typeof a)return a.split("");if("number"==typeof a.length)return h.call(a);throw new TypeError("Expected an object with a length property, got "+j(a))},j=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),m="function"==typeof a.setImmediate?a.setImmediate:"undefined"!=typeof process&&"function"==typeof process.nextTick?function(a){return function(b){var c;if("function"!=typeof b)throw new TypeError("Expected func to be a Function, got "+j(b));return c=h.call(arguments,1),c.length?a(function(){b.apply(void 0,i(c))}):a(b)}}(process.nextTick):function(a){var b;if("function"!=typeof a)throw new TypeError("Expected func to be a Function, got "+j(a));return b=h.call(arguments,1),b.length?setTimeout(function(){a.apply(void 0,b)},0):setTimeout(a,0)},k=b("./gorilla"),k.require=b,"undefined"!=typeof window&&null!==window&&(k.load=function(a,b){var c;if("string"!=typeof a)throw new TypeError("Expected url to be a String, got "+j(a));if("function"!=typeof b)throw new TypeError("Expected callback to be a Function, got "+j(b));if(window.ActiveXObject)c=new window.ActiveXObject("Microsoft.XMLHTTP");else{if(!window.XMLHttpRequest)throw new Error("Unable to create XMLHttpRequest");c=new window.XMLHttpRequest}return c.open("GET",a,!0),"function"==typeof c.overrideMimeType&&c.overrideMimeType("text/plain"),c.onreadystatechange=function(){var e;return 4===c.readyState?0===(e=c.status)||200===e?d(k.run(c.responseText))(b):b(new Error("Could not load "+a)):void 0},c.send(null)},l=function(){var a;return a=document.getElementsByTagName("script"),c(1,f(a.length),!1,function(b,c){var d;return d=a[b],"text/gorillascript"===d.type?d.src?k.load(d.src,c):(k.runSync(d.innerHTML),c()):c()},function(){})},window.addEventListener?addEventListener("DOMContentLoaded",l,!1):attachEvent("onload",l))
}.call(this,"undefined"!=typeof window?window:"undefined"!=typeof global?global:this),a.exports},b("./browser"),b("./gorilla").withPrelude(function(a,b){return{consts:{"true":!0,"false":!1,"null":null,"void":void 0,undefined:void 0,Infinity:1/0,NaN:0/0},helpers:{__throw:{helper:b(16,85,25,0,0,[b(17,85,25,0,"x")],0,b(26,85,25,0,b(17,85,25,0,"x"))),type:a.generic(a.functionBase,a.none),dependencies:[]},GLOBAL:{helper:b(19,204,22,0,b(3,204,25,0,b(30,204,29,0,"typeof",b(17,204,38,0,"window")),"!==",b(9,204,29,0,"undefined")),b(17,204,50,0,"window"),b(19,204,22,0,b(3,204,65,0,b(30,204,69,0,"typeof",b(17,204,78,0,"global")),"!==",b(9,204,69,0,"undefined")),b(17,204,90,0,"global"),b(25,204,102,0))),type:a.any,dependencies:[]},__xor:{helper:b(16,206,23,0,0,[b(17,206,24,0,"x"),b(17,206,26,0,"y")],0,b(18,207,1,0,b(17,207,5,0,"x"),b(23,208,1,0,b(3,208,1,0,b(30,208,1,0,"!",b(17,208,8,0,"y")),"&&",b(17,208,14,0,"x"))),b(23,210,1,0,b(3,210,1,0,b(17,210,1,0,"y"),"||",b(17,210,9,0,"x"))))),type:a["function"],dependencies:[]},__typeof:{helper:b(7,636,24,0,b(16,636,24,0,0,0,["_toString"],b(4,636,24,0,0,b(3,637,1,0,b(17,637,6,0,"_toString"),"=",b(3,637,19,0,b(3,637,19,0,b(17,637,19,0,"Object"),".",b(9,637,27,0,"prototype")),".",b(9,637,37,0,"toString"))),b(23,638,4,0,b(16,638,4,0,0,[b(17,638,5,0,"o")],0,b(18,639,1,0,b(3,639,7,0,b(17,639,16,0,"o"),"===",b(9,0,0,0)),b(23,640,7,0,b(9,640,7,0,"Undefined")),b(18,639,1,0,b(3,641,12,0,b(17,641,21,0,"o"),"===",b(9,0,0,0,null)),b(23,642,7,0,b(9,642,7,0,"Null")),b(23,644,1,0,b(3,644,1,0,b(3,644,8,0,b(3,644,8,0,b(17,644,8,0,"o"),".",b(9,644,10,0,"constructor")),"&&",b(3,644,25,0,b(3,644,25,0,b(17,644,25,0,"o"),".",b(9,644,28,0,"constructor")),".",b(9,644,40,0,"name"))),"||",b(7,644,48,0,b(3,644,48,0,b(7,644,48,0,b(3,644,48,0,b(17,644,48,0,"_toString"),".",b(9,644,48,0,"call")),0,b(17,644,61,0,"o")),".",b(9,644,64,0,"slice")),0,b(9,644,70,0,8),b(9,644,72,0,-1)))))))))),0),type:a.generic(a.functionBase,a.string),dependencies:[]},__first:{helper:b(16,653,25,0,0,[b(17,653,26,0,"x")],0,b(23,653,31,0,b(17,653,31,0,"x"))),type:a["function"],dependencies:[]},__num:{helper:b(16,681,23,0,0,[b(17,681,24,0,"num")],0,b(18,682,1,0,b(3,682,5,0,b(30,682,9,0,"typeof",b(17,682,20,0,"num")),"!==",b(9,682,9,0,"number")),b(26,683,1,0,b(7,683,10,0,b(17,683,10,0,"TypeError"),1,b(3,683,21,0,b(9,683,21,0,"Expected a number, got "),"+",b(7,683,49,0,b(17,683,49,0,"__typeof"),0,b(17,683,57,0,"num"))))),b(23,685,1,0,b(17,685,1,0,"num")))),type:a.generic(a.functionBase,a.number),dependencies:["__typeof"]},__str:{helper:b(16,687,23,0,0,[b(17,687,24,0,"str")],0,b(18,688,1,0,b(3,688,5,0,b(30,688,9,0,"typeof",b(17,688,20,0,"str")),"!==",b(9,688,9,0,"string")),b(26,689,1,0,b(7,689,10,0,b(17,689,10,0,"TypeError"),1,b(3,689,21,0,b(9,689,21,0,"Expected a string, got "),"+",b(7,689,49,0,b(17,689,49,0,"__typeof"),0,b(17,689,57,0,"str"))))),b(23,691,1,0,b(17,691,1,0,"str")))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__strnum:{helper:b(16,693,26,0,0,[b(17,693,27,0,"strnum")],["type"],b(4,694,1,0,0,b(3,694,1,0,b(17,694,6,0,"type"),"=",b(30,694,13,0,"typeof",b(17,694,20,0,"strnum"))),b(18,695,1,0,b(3,695,5,0,b(17,695,5,0,"type"),"===",b(9,695,15,0,"string")),b(23,696,1,0,b(17,696,1,0,"strnum")),b(18,695,1,0,b(3,697,10,0,b(17,697,10,0,"type"),"===",b(9,697,20,0,"number")),b(23,698,1,0,b(7,698,1,0,b(17,698,1,0,"String"),0,b(17,698,12,0,"strnum"))),b(26,700,1,0,b(7,700,10,0,b(17,700,10,0,"TypeError"),1,b(3,700,21,0,b(9,700,21,0,"Expected a string or number, got "),"+",b(7,700,59,0,b(17,700,59,0,"__typeof"),0,b(17,700,67,0,"strnum"))))))))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__owns:{helper:b(3,815,22,0,b(3,815,22,0,b(17,815,22,0,"Object"),".",b(9,815,30,0,"prototype")),".",b(9,815,40,0,"hasOwnProperty")),type:a.any,dependencies:[]},__cmp:{helper:b(16,837,23,0,0,[b(17,837,24,0,"left"),b(17,837,29,0,"right")],["type"],b(18,838,1,0,b(3,838,5,0,b(17,838,5,0,"left"),"===",b(17,838,13,0,"right")),b(23,839,5,0,b(9,839,5,0,0)),b(4,841,1,0,0,b(3,841,1,0,b(17,841,8,0,"type"),"=",b(30,841,15,0,"typeof",b(17,841,22,0,"left"))),b(18,842,1,0,b(3,842,7,0,b(3,842,7,0,b(17,842,7,0,"type"),"!==",b(9,842,17,0,"number")),"&&",b(3,842,27,0,b(17,842,27,0,"type"),"!==",b(9,842,37,0,"string"))),b(26,843,1,0,b(7,843,12,0,b(17,843,12,0,"TypeError"),1,b(3,843,23,0,b(9,843,23,0,"Cannot compare a non-number/string: "),"+",b(17,843,64,0,"type")))),b(18,842,1,0,b(3,844,12,0,b(17,844,12,0,"type"),"!==",b(30,844,20,0,"typeof",b(17,844,27,0,"right"))),b(26,845,1,0,b(7,845,12,0,b(17,845,12,0,"TypeError"),1,b(3,845,23,0,b(3,845,23,0,b(3,845,23,0,b(9,845,23,0,"Cannot compare elements of different types: "),"+",b(17,845,72,0,"type")),"+",b(9,845,81,0," vs ")),"+",b(30,845,90,0,"typeof",b(17,845,97,0,"right"))))),b(18,842,1,0,b(3,846,12,0,b(17,846,12,0,"left"),"<",b(17,846,20,0,"right")),b(23,847,1,0,b(9,847,1,0,-1)),b(23,849,7,0,b(9,849,7,0,1)))))))),type:a.generic(a.functionBase,a.number),dependencies:[]},__int:{helper:b(16,860,23,0,0,[b(17,860,24,0,"num")],0,b(18,861,1,0,b(3,861,5,0,b(30,861,9,0,"typeof",b(17,861,20,0,"num")),"!==",b(9,861,9,0,"number")),b(26,862,1,0,b(7,862,10,0,b(17,862,10,0,"TypeError"),1,b(3,862,21,0,b(9,862,21,0,"Expected a number, got "),"+",b(7,862,49,0,b(17,862,49,0,"__typeof"),0,b(17,862,57,0,"num"))))),b(18,861,1,0,b(3,863,10,0,b(3,863,10,0,b(17,863,10,0,"num"),"%",b(9,863,23,0,1)),"!==",b(9,863,10,0,0)),b(26,864,1,0,b(7,864,10,0,b(17,864,10,0,"TypeError"),1,b(3,864,21,0,b(9,864,21,0,"Expected an integer, got "),"+",b(17,864,51,0,"num")))),b(23,866,1,0,b(17,866,1,0,"num"))))),type:a.generic(a.functionBase,a.number),dependencies:["__typeof"]},__nonzero:{helper:b(16,868,27,0,0,[b(17,868,28,0,"num")],0,b(18,869,1,0,b(3,869,5,0,b(17,869,5,0,"num"),"===",b(9,869,13,0,0)),b(26,870,1,0,b(7,870,10,0,b(17,870,10,0,"RangeError"),1,b(3,870,22,0,b(9,870,22,0,"Expected non-zero, got "),"+",b(17,870,50,0,"num")))),b(23,872,1,0,b(17,872,1,0,"num")))),type:a["function"],dependencies:[]},__lt:{helper:b(16,874,22,0,0,[b(17,874,23,0,"x"),b(17,874,25,0,"y")],["type"],b(4,875,1,0,0,b(3,875,1,0,b(17,875,6,0,"type"),"=",b(30,875,13,0,"typeof",b(17,875,20,0,"x"))),b(18,876,1,0,b(3,876,5,0,b(3,876,5,0,b(17,876,5,0,"type"),"!==",b(9,876,20,0,"number")),"&&",b(3,876,5,0,b(17,876,5,0,"type"),"!==",b(9,876,29,0,"string"))),b(26,877,1,0,b(7,877,10,0,b(17,877,10,0,"TypeError"),1,b(3,877,21,0,b(9,877,21,0,"Cannot compare a non-number/string: "),"+",b(17,877,62,0,"type")))),b(18,876,1,0,b(3,878,10,0,b(17,878,10,0,"type"),"!==",b(30,878,18,0,"typeof",b(17,878,25,0,"y"))),b(26,879,1,0,b(7,879,10,0,b(17,879,10,0,"TypeError"),1,b(3,879,21,0,b(3,879,21,0,b(3,879,21,0,b(9,879,21,0,"Cannot compare elements of different types: "),"+",b(17,879,70,0,"type")),"+",b(9,879,79,0," vs ")),"+",b(30,879,88,0,"typeof",b(17,879,95,0,"y"))))),b(23,881,1,0,b(3,881,1,0,b(17,881,1,0,"x"),"<",b(17,881,9,0,"y"))))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__lte:{helper:b(16,883,23,0,0,[b(17,883,24,0,"x"),b(17,883,26,0,"y")],["type"],b(4,884,1,0,0,b(3,884,1,0,b(17,884,6,0,"type"),"=",b(30,884,13,0,"typeof",b(17,884,20,0,"x"))),b(18,885,1,0,b(3,885,5,0,b(3,885,5,0,b(17,885,5,0,"type"),"!==",b(9,885,20,0,"number")),"&&",b(3,885,5,0,b(17,885,5,0,"type"),"!==",b(9,885,29,0,"string"))),b(26,886,1,0,b(7,886,10,0,b(17,886,10,0,"TypeError"),1,b(3,886,21,0,b(9,886,21,0,"Cannot compare a non-number/string: "),"+",b(17,886,62,0,"type")))),b(18,885,1,0,b(3,887,10,0,b(17,887,10,0,"type"),"!==",b(30,887,18,0,"typeof",b(17,887,25,0,"y"))),b(26,888,1,0,b(7,888,10,0,b(17,888,10,0,"TypeError"),1,b(3,888,21,0,b(3,888,21,0,b(3,888,21,0,b(9,888,21,0,"Cannot compare elements of different types: "),"+",b(17,888,70,0,"type")),"+",b(9,888,79,0," vs ")),"+",b(30,888,88,0,"typeof",b(17,888,95,0,"y"))))),b(23,890,1,0,b(3,890,1,0,b(17,890,1,0,"x"),"<=",b(17,890,10,0,"y"))))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__slice:{helper:b(3,1162,23,0,b(3,1162,23,0,b(17,1162,23,0,"Array"),".",b(9,1162,30,0,"prototype")),".",b(9,1162,40,0,"slice")),type:a.any,dependencies:[]},__isArray:{helper:b(19,1164,26,0,b(3,1164,29,0,b(30,1164,29,0,"typeof",b(3,1164,42,0,b(17,1164,42,0,"Array"),".",b(9,1164,49,0,"isArray"))),"===",b(9,1164,29,0,"function")),b(3,1165,1,0,b(17,1165,1,0,"Array"),".",b(9,1165,9,0,"isArray")),b(7,1167,1,0,b(16,1167,1,0,0,[b(17,1167,5,0,"_toString")],0,b(23,1167,1,0,b(16,1168,6,0,0,[b(17,1168,7,0,"x")],0,b(23,1168,23,0,b(3,1168,23,0,b(7,1168,23,0,b(3,1168,23,0,b(17,1168,23,0,"_toString"),".",b(9,1168,23,0,"call")),0,b(17,1168,36,0,"x")),"===",b(9,1168,42,0,"[object Array]")))))),0,b(3,1167,18,0,b(3,1167,18,0,b(17,1167,18,0,"Object"),".",b(9,1167,26,0,"prototype")),".",b(9,1167,36,0,"toString")))),type:a.generic(a.functionBase,a.boolean).union(a.undefined),dependencies:[]},__toArray:{helper:b(16,1170,28,0,0,[b(17,1170,29,0,"x")],0,b(18,1171,1,0,b(3,1171,5,0,b(17,1171,9,0,"x"),"==",b(9,0,0,0,null)),b(26,1172,1,0,b(7,1172,10,0,b(17,1172,10,0,"TypeError"),1,b(3,1172,21,0,b(9,1172,21,0,"Expected an object, got "),"+",b(7,1172,50,0,b(17,1172,50,0,"__typeof"),0,b(17,1172,58,0,"x"))))),b(18,1171,1,0,b(7,1173,10,0,b(17,1173,10,0,"__isArray"),0,b(17,1173,20,0,"x")),b(23,1174,1,0,b(17,1174,1,0,"x")),b(18,1171,1,0,b(3,1175,10,0,b(30,1175,10,0,"typeof",b(17,1175,21,0,"x")),"===",b(9,1175,10,0,"string")),b(23,1176,1,0,b(7,1176,1,0,b(3,1176,1,0,b(17,1176,1,0,"x"),".",b(9,1176,7,0,"split")),0,b(9,1176,13,0,""))),b(18,1171,1,0,b(3,1177,10,0,b(30,1177,10,0,"typeof",b(3,1177,21,0,b(17,1177,21,0,"x"),".",b(9,1177,24,0,"length"))),"===",b(9,1177,10,0,"number")),b(23,1178,1,0,b(7,1178,1,0,b(3,1178,1,0,b(17,1178,1,0,"__slice"),".",b(9,1178,1,0,"call")),0,b(17,1178,14,0,"x"))),b(26,1180,1,0,b(7,1180,10,0,b(17,1180,10,0,"TypeError"),1,b(3,1180,21,0,b(9,1180,21,0,"Expected an object with a length property, got "),"+",b(7,1180,73,0,b(17,1180,73,0,"__typeof"),0,b(17,1180,81,0,"x")))))))))),type:a.generic(a.functionBase,a.array),dependencies:["__isArray","__slice","__typeof"]},__create:{helper:b(19,1182,24,0,b(3,1182,27,0,b(30,1182,27,0,"typeof",b(3,1182,40,0,b(17,1182,40,0,"Object"),".",b(9,1182,48,0,"create"))),"===",b(9,1182,27,0,"function")),b(3,1183,1,0,b(17,1183,1,0,"Object"),".",b(9,1183,10,0,"create")),b(16,1185,4,0,0,[b(17,1185,5,0,"x")],0,b(4,1186,1,0,0,b(16,1186,1,0,b(17,1186,8,0,"F"),0,0,b(20,1186,15,0)),b(3,1187,1,0,b(3,1187,1,0,b(17,1187,1,0,"F"),".",b(9,1187,7,0,"prototype")),"=",b(17,1187,19,0,"x")),b(23,1188,1,0,b(7,1188,1,0,b(17,1188,8,0,"F"),1))))),type:a.generic(a.functionBase,a.notUndefinedOrNull).union(a.generic(a.functionBase,a.object)).union(a.undefined),dependencies:[]},__in:{helper:b(19,1329,20,0,b(3,1329,23,0,b(30,1329,23,0,"typeof",b(3,1329,36,0,b(3,1329,36,0,b(17,1329,36,0,"Array"),".",b(9,1329,43,0,"prototype")),".",b(9,1329,53,0,"indexOf"))),"===",b(9,1329,23,0,"function")),b(7,1330,1,0,b(16,1330,1,0,0,[b(17,1330,5,0,"indexOf")],0,b(23,1330,1,0,b(16,1331,6,0,0,[b(17,1331,7,0,"child"),b(17,1331,13,0,"parent")],0,b(23,1331,35,0,b(3,1331,35,0,b(7,1331,35,0,b(3,1331,35,0,b(17,1331,35,0,"indexOf"),".",b(9,1331,35,0,"call")),0,b(17,1331,46,0,"parent"),b(17,1331,53,0,"child")),"!==",b(9,1331,63,0,-1)))))),0,b(3,1330,16,0,b(3,1330,16,0,b(17,1330,16,0,"Array"),".",b(9,1330,23,0,"prototype")),".",b(9,1330,33,0,"indexOf"))),b(16,1333,4,0,0,[b(17,1333,5,0,"child"),b(17,1333,11,0,"parent")],["i","len"],b(4,1334,1,0,0,b(3,1334,1,0,b(17,1334,8,0,"len"),"=",b(30,1334,14,0,"+",b(3,1334,17,0,b(17,1334,17,0,"parent"),".",b(9,1334,24,0,"length")))),b(3,1335,1,0,b(17,1335,16,0,"i"),"=",b(9,1335,20,0,-1)),b(14,1336,1,0,b(20,1336,1,0),b(3,1336,10,0,b(30,1336,12,0,"++",b(17,1336,12,0,"i")),"<",b(17,1336,22,0,"len")),b(20,1336,1,0),b(18,1337,1,0,b(3,1337,9,0,b(3,1337,9,0,b(17,1337,9,0,"child"),"===",b(3,1337,18,0,b(17,1337,18,0,"parent"),".",b(17,1337,26,0,"i"))),"&&",b(3,1337,32,0,b(17,1337,46,0,"i"),"in",b(17,1337,32,0,"parent"))),b(23,1338,1,0,b(9,1338,15,0,!0)))),b(23,1339,1,0,b(9,1339,1,0,!1))))),type:a.generic(a.functionBase,a.boolean),dependencies:[]},__genericFunc:{helper:b(16,1853,32,0,0,[b(17,1853,33,0,"numArgs"),b(17,1853,52,0,"make")],["any","cache","result"],b(4,1854,1,0,0,b(3,1854,1,0,b(17,1854,6,0,"cache"),"=",b(7,1854,14,0,b(17,1854,14,0,"WeakMap"),0)),b(3,1855,1,0,b(17,1855,6,0,"any"),"=",b(21,1855,12,0)),b(16,1856,1,0,b(17,1856,6,0,"generic"),0,["_ref","current","i","item","type"],b(4,1857,1,0,0,b(3,1857,1,0,b(17,1857,45,0,"current"),"=",b(17,1857,55,0,"cache")),b(14,1857,1,0,b(5,1857,1,0,b(3,1857,20,0,b(17,1857,15,0,"i"),"=",b(3,1857,20,0,b(17,1857,20,0,"numArgs"),"-",b(9,1857,32,0,1))),b(9,0,0,0)),b(3,1857,20,0,b(17,1857,15,0,"i"),">=",b(9,1857,37,0,0)),b(30,1857,41,0,"--",b(17,1857,15,0,"i")),b(4,1858,1,0,0,b(18,1858,17,0,b(3,1858,17,0,b(3,1858,17,0,b(17,1858,17,0,"_ref"),"=",b(3,1858,17,0,b(1,1858,17,0),".",b(17,1858,28,0,"i"))),"!=",b(9,0,0,0,null)),b(3,1858,1,0,b(17,1858,10,0,"type"),"=",b(17,1858,17,0,"_ref")),b(3,1858,1,0,b(17,1858,10,0,"type"),"=",b(17,1858,32,0,"any"))),b(3,1859,1,0,b(17,1859,18,0,"item"),"=",b(7,1859,25,0,b(3,1859,25,0,b(17,1859,25,0,"current"),".",b(9,1859,34,0,"get")),0,b(17,1859,38,0,"type"))),b(18,1860,1,0,b(3,1860,9,0,b(17,1860,13,0,"item"),"==",b(9,0,0,0,null)),b(4,1861,1,0,0,b(18,1861,16,0,b(3,1861,19,0,b(17,1861,19,0,"i"),"===",b(9,1861,25,0,0)),b(3,1861,1,0,b(17,1861,1,0,"item"),"=",b(7,1862,1,0,b(3,1862,1,0,b(17,1862,1,0,"make"),".",b(9,1862,1,0,"apply")),0,b(25,1862,17,0),b(1,1862,26,0))),b(3,1861,1,0,b(17,1861,1,0,"item"),"=",b(7,1864,1,0,b(17,1864,1,0,"WeakMap"),0))),b(7,1865,1,0,b(3,1865,1,0,b(17,1865,1,0,"current"),".",b(9,1865,17,0,"set")),0,b(17,1865,21,0,"type"),b(17,1865,26,0,"item")))),b(3,1866,1,0,b(17,1857,45,0,"current"),"=",b(17,1866,1,0,"item")))),b(23,1857,45,0,b(17,1857,45,0,"current")))),b(3,1867,1,0,b(17,1867,6,0,"result"),"=",b(7,1867,15,0,b(17,1867,15,0,"generic"),0)),b(3,1868,1,0,b(3,1868,1,0,b(17,1868,1,0,"result"),".",b(9,1868,10,0,"generic")),"=",b(17,1868,20,0,"generic")),b(23,1869,1,0,b(17,1869,1,0,"result")))),type:a["function"],dependencies:["__toArray","WeakMap"]},__range:{helper:b(16,2223,1,0,0,[b(17,2222,26,0,"start"),b(17,2222,42,0,"end"),b(17,2222,57,0,"step"),b(17,2222,73,0,"inclusive")],["i","result"],b(4,2223,1,0,0,b(18,2222,26,0,b(3,2222,26,0,b(30,2222,26,0,"typeof",b(17,2222,26,0,"start")),"!==",b(9,2222,26,0,"number")),b(26,2222,26,0,b(7,2222,26,0,b(17,2222,26,0,"TypeError"),1,b(3,2222,26,0,b(9,2222,26,0,"Expected start to be a Number, got "),"+",b(7,2222,26,0,b(17,2222,26,0,"__typeof"),0,b(17,2222,26,0,"start")))))),b(18,2222,42,0,b(3,2222,42,0,b(30,2222,42,0,"typeof",b(17,2222,42,0,"end")),"!==",b(9,2222,42,0,"number")),b(26,2222,42,0,b(7,2222,42,0,b(17,2222,42,0,"TypeError"),1,b(3,2222,42,0,b(9,2222,42,0,"Expected end to be a Number, got "),"+",b(7,2222,42,0,b(17,2222,42,0,"__typeof"),0,b(17,2222,42,0,"end")))))),b(18,2222,57,0,b(3,2222,57,0,b(30,2222,57,0,"typeof",b(17,2222,57,0,"step")),"!==",b(9,2222,57,0,"number")),b(26,2222,57,0,b(7,2222,57,0,b(17,2222,57,0,"TypeError"),1,b(3,2222,57,0,b(9,2222,57,0,"Expected step to be a Number, got "),"+",b(7,2222,57,0,b(17,2222,57,0,"__typeof"),0,b(17,2222,57,0,"step")))))),b(18,2222,73,0,b(3,2222,73,0,b(17,2222,73,0,"inclusive"),"==",b(9,0,0,0,null)),b(3,2222,73,0,b(17,2222,73,0,"inclusive"),"=",b(9,0,0,0,!1)),b(18,2222,73,0,b(3,2222,73,0,b(30,2222,73,0,"typeof",b(17,2222,73,0,"inclusive")),"!==",b(9,2222,73,0,"boolean")),b(26,2222,73,0,b(7,2222,73,0,b(17,2222,73,0,"TypeError"),1,b(3,2222,73,0,b(9,2222,73,0,"Expected inclusive to be a Boolean, got "),"+",b(7,2222,73,0,b(17,2222,73,0,"__typeof"),0,b(17,2222,73,0,"inclusive"))))))),b(18,2223,1,0,b(3,2223,5,0,b(17,2223,5,0,"step"),"===",b(9,2223,14,0,0)),b(26,2224,1,0,b(7,2224,10,0,b(17,2224,10,0,"RangeError"),1,b(9,2224,22,0,"step cannot be zero"))),b(18,2223,1,0,b(30,2225,10,0,"!",b(7,2225,14,0,b(17,2225,14,0,"isFinite"),0,b(17,2225,25,0,"start"))),b(26,2226,1,0,b(7,2226,10,0,b(17,2226,10,0,"RangeError"),1,b(9,2226,22,0,"start must be finite"))),b(18,2223,1,0,b(30,2227,10,0,"!",b(7,2227,14,0,b(17,2227,14,0,"isFinite"),0,b(17,2227,25,0,"end"))),b(26,2228,1,0,b(7,2228,10,0,b(17,2228,10,0,"RangeError"),1,b(9,2228,22,0,"end must be finite")))))),b(3,2229,1,0,b(17,2229,6,0,"result"),"=",b(2,2229,15,0)),b(3,2230,1,0,b(17,2230,14,0,"i"),"=",b(17,2230,18,0,"start")),b(18,2231,1,0,b(3,2231,5,0,b(17,2231,5,0,"step"),">",b(9,2231,14,0,0)),b(4,2232,1,0,0,b(14,2232,1,0,b(20,2232,1,0),b(3,2232,10,0,b(17,2232,10,0,"i"),"<",b(17,2232,15,0,"end")),b(3,2232,20,0,b(17,2232,20,0,"i"),"+=",b(17,2232,26,0,"step")),b(7,2233,1,0,b(3,2233,1,0,b(17,2233,1,0,"result"),".",b(9,2233,14,0,"push")),0,b(17,2233,19,0,"i"))),b(18,2234,1,0,b(3,2234,7,0,b(17,2234,7,0,"inclusive"),"&&",b(3,2234,21,0,b(17,2234,21,0,"i"),"<=",b(17,2234,27,0,"end"))),b(7,2235,1,0,b(3,2235,1,0,b(17,2235,1,0,"result"),".",b(9,2235,14,0,"push")),0,b(17,2235,19,0,"i")))),b(4,2237,1,0,0,b(14,2237,1,0,b(20,2237,1,0),b(3,2237,10,0,b(17,2237,10,0,"i"),">",b(17,2237,15,0,"end")),b(3,2237,20,0,b(17,2237,20,0,"i"),"+=",b(17,2237,26,0,"step")),b(7,2238,1,0,b(3,2238,1,0,b(17,2238,1,0,"result"),".",b(9,2238,14,0,"push")),0,b(17,2238,19,0,"i"))),b(18,2239,1,0,b(3,2239,7,0,b(17,2239,7,0,"inclusive"),"&&",b(3,2239,21,0,b(17,2239,21,0,"i"),">=",b(17,2239,27,0,"end"))),b(7,2240,1,0,b(3,2240,1,0,b(17,2240,1,0,"result"),".",b(9,2240,14,0,"push")),0,b(17,2240,19,0,"i"))))),b(23,2241,1,0,b(17,2241,1,0,"result")))),type:a.generic(a.functionBase,a.numberArray),dependencies:["__typeof"]},__step:{helper:b(16,2244,1,0,0,[b(17,2243,32,0,"array"),b(17,2243,39,0,"step")],["i","len","result"],b(4,2244,1,0,0,b(18,2243,39,0,b(3,2243,39,0,b(30,2243,39,0,"typeof",b(17,2243,39,0,"step")),"!==",b(9,2243,39,0,"number")),b(26,2243,39,0,b(7,2243,39,0,b(17,2243,39,0,"TypeError"),1,b(3,2243,39,0,b(9,2243,39,0,"Expected step to be a Number, got "),"+",b(7,2243,39,0,b(17,2243,39,0,"__typeof"),0,b(17,2243,39,0,"step")))))),b(18,2244,1,0,b(3,2244,5,0,b(17,2244,5,0,"step"),"===",b(9,2244,14,0,0)),b(26,2245,1,0,b(7,2245,10,0,b(17,2245,10,0,"RangeError"),1,b(9,2245,22,0,"step cannot be zero"))),b(18,2244,1,0,b(3,2246,10,0,b(17,2246,10,0,"step"),"===",b(9,2246,19,0,1)),b(23,2247,1,0,b(7,2247,1,0,b(17,2247,1,0,"__toArray"),0,b(17,2247,16,0,"array"))),b(18,2244,1,0,b(3,2248,10,0,b(17,2248,10,0,"step"),"===",b(9,2248,18,0,-1)),b(23,2249,1,0,b(7,2249,1,0,b(3,2249,1,0,b(7,2249,1,0,b(3,2249,1,0,b(17,2249,1,0,"__slice"),".",b(9,2249,1,0,"call")),0,b(17,2249,14,0,"array")),".",b(9,2249,21,0,"reverse")),0)),b(18,2244,1,0,b(3,2250,10,0,b(3,2250,10,0,b(17,2250,10,0,"step"),"%",b(9,2250,23,0,1)),"!==",b(9,2250,10,0,0)),b(26,2251,1,0,b(7,2251,10,0,b(17,2251,10,0,"RangeError"),1,b(3,2251,22,0,b(9,2251,22,0,"step must be an integer, got "),"+",b(7,2251,54,0,b(17,2251,54,0,"String"),0,b(17,2251,61,0,"step"))))),b(4,2253,1,0,0,b(3,2253,1,0,b(17,2253,1,0,"array"),"=",b(7,2253,13,0,b(17,2253,13,0,"__toArray"),0,b(17,2253,25,0,"array"))),b(3,2254,1,0,b(17,2254,8,0,"len"),"=",b(3,2254,24,0,b(17,2254,24,0,"array"),".",b(9,2254,31,0,"length"))),b(3,2255,1,0,b(17,2255,8,0,"result"),"=",b(2,2255,17,0)),b(18,2256,1,0,b(3,2256,7,0,b(17,2256,7,0,"step"),">",b(9,2256,15,0,0)),b(4,2257,1,0,0,b(3,2257,1,0,b(17,2257,18,0,"i"),"=",b(9,2257,23,0,0)),b(14,2258,1,0,b(20,2258,1,0),b(3,2258,12,0,b(17,2258,12,0,"i"),"<",b(17,2258,16,0,"len")),b(3,2258,21,0,b(17,2258,21,0,"i"),"+=",b(17,2258,26,0,"step")),b(7,2259,1,0,b(3,2259,1,0,b(17,2259,1,0,"result"),".",b(9,2259,16,0,"push")),0,b(3,2259,21,0,b(17,2259,21,0,"array"),".",b(17,2259,27,0,"i"))))),b(4,2261,1,0,0,b(3,2261,1,0,b(17,2261,18,0,"i"),"=",b(3,2261,22,0,b(17,2261,22,0,"len"),"-",b(9,2261,29,0,1))),b(14,2262,1,0,b(20,2262,1,0),b(3,2262,12,0,b(17,2262,12,0,"i"),">=",b(9,2262,18,0,0)),b(3,2262,20,0,b(17,2262,20,0,"i"),"+=",b(17,2262,25,0,"step")),b(7,2263,1,0,b(3,2263,1,0,b(17,2263,1,0,"result"),".",b(9,2263,16,0,"push")),0,b(3,2263,21,0,b(17,2263,21,0,"array"),".",b(17,2263,27,0,"i")))))),b(23,2264,1,0,b(17,2264,1,0,"result"))))))))),type:a.generic(a.functionBase,a.array),dependencies:["__slice","__toArray","__typeof"]},__sliceStep:{helper:b(16,2266,30,0,0,[b(17,2266,31,0,"array"),b(17,2266,37,0,"start"),b(17,2266,44,0,"end"),b(17,2266,57,0,"step"),b(17,2266,63,0,"inclusive")],["arr"],b(4,2267,1,0,0,b(18,2267,12,0,b(3,2267,15,0,b(17,2267,15,0,"step"),"<",b(9,2267,24,0,0)),b(3,2267,1,0,b(17,2267,6,0,"arr"),"=",b(7,2268,1,0,b(3,2268,1,0,b(17,2268,1,0,"__slice"),".",b(9,2268,1,0,"call")),0,b(17,2268,14,0,"array"),b(19,2268,20,0,b(17,2268,23,0,"inclusive"),b(17,2268,38,0,"end"),b(3,2268,47,0,b(30,2268,47,0,"+",b(17,2268,47,0,"end")),"+",b(9,2268,55,0,1))),b(3,2268,57,0,b(3,2268,57,0,b(30,2268,57,0,"+",b(17,2268,57,0,"start")),"+",b(9,2268,67,0,1)),"||",b(9,2268,71,0,1/0)))),b(3,2267,1,0,b(17,2267,6,0,"arr"),"=",b(7,2270,1,0,b(3,2270,1,0,b(17,2270,1,0,"__slice"),".",b(9,2270,1,0,"call")),0,b(17,2270,14,0,"array"),b(17,2270,20,0,"start"),b(19,2270,27,0,b(17,2270,30,0,"inclusive"),b(3,2270,45,0,b(3,2270,45,0,b(30,2270,45,0,"+",b(17,2270,45,0,"end")),"+",b(9,2270,53,0,1)),"||",b(9,2270,57,0,1/0)),b(17,2270,71,0,"end"))))),b(18,2271,1,0,b(3,2271,5,0,b(17,2271,5,0,"step"),"===",b(9,2271,14,0,1)),b(23,2272,1,0,b(17,2272,1,0,"arr")),b(18,2271,1,0,b(3,2273,10,0,b(17,2273,10,0,"step"),"===",b(9,2273,18,0,-1)),b(23,2274,1,0,b(7,2274,1,0,b(3,2274,1,0,b(17,2274,1,0,"arr"),".",b(9,2274,9,0,"reverse")),0)),b(23,2276,1,0,b(7,2276,1,0,b(17,2276,1,0,"__step"),0,b(17,2276,12,0,"arr"),b(17,2276,16,0,"step"))))))),type:a.generic(a.functionBase,a.array),dependencies:["__slice","__step"]},__arrayToIter:{helper:b(7,2369,31,0,b(16,2369,31,0,0,0,["proto"],b(4,2369,31,0,0,b(3,2370,1,0,b(17,2370,6,0,"proto"),"=",b(21,2370,14,0,2371,5,void 0,"iterator",b(16,2371,16,0,0,0,0,b(23,2371,18,0,b(25,2371,18,0))),2372,5,void 0,"next",b(16,2372,12,0,0,0,["array","i"],b(4,2373,1,0,0,b(3,2373,1,0,b(17,2373,10,0,"i"),"=",b(3,2373,14,0,b(30,2373,14,0,"+",b(3,2373,14,0,b(25,2373,14,0),".",b(9,2373,16,0,"index"))),"+",b(9,2373,25,0,1))),b(3,2374,1,0,b(17,2374,10,0,"array"),"=",b(3,2374,18,0,b(25,2374,18,0),".",b(9,2374,20,0,"array"))),b(18,2375,1,0,b(3,2375,9,0,b(17,2375,9,0,"i"),">=",b(3,2375,15,0,b(17,2375,15,0,"array"),".",b(9,2375,22,0,"length"))),b(23,2376,1,0,b(21,2376,1,0,2376,11,void 0,"done",b(9,2376,16,0,!0),2376,22,void 0,"value",b(9,2376,29,0))),b(4,2378,1,0,0,b(3,2378,1,0,b(3,2378,1,0,b(25,2378,1,0),".",b(9,2378,10,0,"index")),"=",b(17,2378,18,0,"i")),b(23,2379,1,0,b(21,2379,1,0,2379,11,void 0,"done",b(9,2379,16,0,!1),2379,23,void 0,"value",b(3,2379,30,0,b(17,2379,30,0,"array"),".",b(17,2379,37,0,"i")))))))))),b(23,2382,1,0,b(16,2382,1,0,0,[b(17,2381,5,0,"array")],["_o"],b(4,2382,1,0,0,b(18,2381,5,0,b(30,2381,5,0,"!",b(7,2381,5,0,b(17,2381,5,0,"__isArray"),0,b(17,2381,5,0,"array"))),b(26,2381,5,0,b(7,2381,5,0,b(17,2381,5,0,"TypeError"),1,b(3,2381,5,0,b(9,2381,5,0,"Expected array to be an Array, got "),"+",b(7,2381,5,0,b(17,2381,5,0,"__typeof"),0,b(17,2381,5,0,"array")))))),b(3,2382,1,0,b(17,2382,1,0,"_o"),"=",b(7,2382,1,0,b(17,2382,1,0,"__create"),0,b(17,2382,14,0,"proto"))),b(3,2383,7,0,b(3,2383,7,0,b(17,2382,1,0,"_o"),".",b(9,2383,7,0,"array")),"=",b(17,2383,7,0,"array")),b(3,2384,7,0,b(3,2384,7,0,b(17,2382,1,0,"_o"),".",b(9,2384,7,0,"index")),"=",b(9,2384,13,0,-1)),b(23,2382,1,0,b(17,2382,1,0,"_o"))))))),0),type:a.generic(a.functionBase,a.makeObject({array:a.array,index:a.number})),dependencies:["__create","__isArray","__typeof"]},__iter:{helper:b(16,2387,24,0,0,[b(17,2387,25,0,"iterable")],0,b(18,2388,1,0,b(3,2388,5,0,b(17,2388,9,0,"iterable"),"==",b(9,0,0,0,null)),b(26,2389,1,0,b(7,2389,10,0,b(17,2389,10,0,"TypeError"),1,b(3,2389,21,0,b(9,2389,21,0,"Expected iterable to be an Object, got "),"+",b(7,2389,63,0,b(17,2389,63,0,"__typeof"),0,b(17,2389,70,0,"iterable"))))),b(18,2388,1,0,b(7,2390,10,0,b(17,2390,10,0,"__isArray"),0,b(17,2390,20,0,"iterable")),b(23,2391,1,0,b(7,2391,1,0,b(17,2391,1,0,"__arrayToIter"),0,b(17,2391,21,0,"iterable"))),b(18,2388,1,0,b(3,2392,10,0,b(30,2392,10,0,"typeof",b(3,2392,23,0,b(17,2392,23,0,"iterable"),".",b(9,2392,33,0,"iterator"))),"===",b(9,2392,10,0,"function")),b(23,2393,1,0,b(7,2393,1,0,b(3,2393,1,0,b(17,2393,1,0,"iterable"),".",b(9,2393,14,0,"iterator")),0)),b(18,2388,1,0,b(3,2394,10,0,b(30,2394,10,0,"typeof",b(3,2394,23,0,b(17,2394,23,0,"iterable"),".",b(9,2394,33,0,"next"))),"===",b(9,2394,10,0,"function")),b(23,2395,1,0,b(17,2395,1,0,"iterable")),b(26,2397,1,0,b(7,2397,10,0,b(17,2397,10,0,"Error"),1,b(3,2397,17,0,b(9,2397,17,0,"Expected iterable to be an Array or an Object with an 'iterator' function or an Object with a 'next' function, got "),"+",b(7,2397,135,0,b(17,2397,135,0,"__typeof"),0,b(17,2397,142,0,"iterable")))))))))),type:a["function"],dependencies:["__arrayToIter","__isArray","__typeof"]},__keys:{helper:b(19,2572,22,0,b(3,2572,25,0,b(30,2572,25,0,"typeof",b(3,2572,38,0,b(17,2572,38,0,"Object"),".",b(9,2572,46,0,"keys"))),"===",b(9,2572,25,0,"function")),b(3,2573,1,0,b(17,2573,1,0,"Object"),".",b(9,2573,10,0,"keys")),b(16,2575,4,0,0,[b(17,2575,5,0,"x")],["key","keys"],b(4,2576,1,0,0,b(3,2576,1,0,b(17,2576,8,0,"keys"),"=",b(2,2576,15,0)),b(15,2577,1,0,b(17,2577,8,0,"key"),b(17,2577,15,0,"x"),b(18,2578,1,0,b(7,2578,1,0,b(3,2578,1,0,b(17,2578,1,0,"__owns"),".",b(9,2578,1,0,"call")),0,b(17,2577,15,0,"x"),b(17,2577,8,0,"key")),b(7,2578,1,0,b(3,2578,1,0,b(17,2578,1,0,"keys"),".",b(9,2578,12,0,"push")),0,b(17,2578,17,0,"key")))),b(23,2579,1,0,b(17,2579,1,0,"keys"))))),type:a.generic(a.functionBase,a.stringArray).union(a.undefined),dependencies:["__owns"]},__allkeys:{helper:b(16,2584,27,0,0,[b(17,2584,28,0,"x")],["key","keys"],b(4,2585,1,0,0,b(3,2585,1,0,b(17,2585,6,0,"keys"),"=",b(2,2585,13,0)),b(15,2586,1,0,b(17,2586,6,0,"key"),b(17,2586,16,0,"x"),b(7,2587,1,0,b(3,2587,1,0,b(17,2587,1,0,"keys"),".",b(9,2587,10,0,"push")),0,b(17,2587,15,0,"key"))),b(23,2588,1,0,b(17,2588,1,0,"keys")))),type:a.generic(a.functionBase,a.stringArray),dependencies:[]},__new:{helper:b(7,2593,21,0,b(16,2593,21,0,0,0,["newCreators"],b(4,2593,21,0,0,b(3,2594,1,0,b(17,2594,6,0,"newCreators"),"=",b(2,2594,21,0)),b(23,2595,4,0,b(16,2595,4,0,0,0,["creator","func","i","length"],b(4,2596,1,0,0,b(18,2596,1,0,b(3,2596,7,0,b(30,2596,11,0,"typeof",b(25,2596,24,0)),"!==",b(9,2596,11,0,"function")),b(26,2597,1,0,b(7,2597,12,0,b(17,2597,12,0,"Error"),1,b(3,2597,19,0,b(9,2597,19,0,"Expected this to be a Function, got "),"+",b(19,2597,58,0,b(3,2597,58,0,b(30,2597,58,0,"typeof",b(25,2597,65,0)),"===",b(9,2597,58,0,"undefined")),b(9,2597,58,0,"Undefined"),b(7,2597,58,0,b(17,2597,58,0,"__typeof"),0,b(25,2597,65,0))))))),b(3,2598,1,0,b(17,2598,8,0,"length"),"=",b(3,2598,17,0,b(1,2598,17,0),".",b(9,2598,28,0,"length"))),b(3,2599,1,0,b(17,2599,16,0,"creator"),"=",b(3,2599,26,0,b(17,2599,26,0,"newCreators"),".",b(17,2599,40,0,"length"))),b(18,2600,1,0,b(30,2600,7,0,"!",b(17,2600,11,0,"creator")),b(4,2601,1,0,0,b(3,2601,1,0,b(17,2601,10,0,"func"),"=",b(2,2601,17,0,b(9,2601,19,0,"return new C("))),b(14,2602,1,0,b(5,2602,1,0,b(3,2602,16,0,b(17,2602,10,0,"i"),"=",b(9,2602,16,0,0)),b(7,2602,21,0,b(17,2602,21,0,"__num"),0,b(17,2602,21,0,"length"))),b(3,2602,15,0,b(17,2602,10,0,"i"),"<",b(17,2602,21,0,"length")),b(30,2602,15,0,"++",b(17,2602,10,0,"i")),b(4,2603,1,0,0,b(18,2603,1,0,b(3,2603,11,0,b(17,2603,11,0,"i"),">",b(9,2603,16,0,0)),b(7,2604,1,0,b(3,2604,1,0,b(17,2604,1,0,"func"),".",b(9,2604,16,0,"push")),0,b(9,2604,21,0,", "))),b(7,2605,1,0,b(3,2605,1,0,b(17,2605,1,0,"func"),".",b(9,2605,14,0,"push")),0,b(9,2605,19,0,"a["),b(17,2605,24,0,"i"),b(9,2605,28,0,"]")))),b(7,2606,1,0,b(3,2606,1,0,b(17,2606,1,0,"func"),".",b(9,2606,12,0,"push")),0,b(9,2606,17,0,");")),b(3,2608,1,0,b(3,2608,1,0,b(17,2608,1,0,"newCreators"),".",b(17,2608,20,0,"length")),"=",b(3,2607,1,0,b(17,2607,1,0,"creator"),"=",b(7,2607,17,0,b(17,2607,17,0,"Function"),0,b(9,2607,27,0,"C"),b(9,2607,32,0,"a"),b(7,2607,36,0,b(3,2607,36,0,b(17,2607,36,0,"func"),".",b(9,2607,42,0,"join")),0,b(9,2607,47,0,""))))))),b(23,2609,1,0,b(7,2609,1,0,b(17,2609,1,0,"creator"),0,b(25,2609,13,0),b(1,2609,18,0)))))))),0),type:a["function"],dependencies:["__num","__typeof"]},__instanceofsome:{helper:b(16,2611,34,0,0,[b(17,2611,35,0,"value"),b(17,2611,41,0,"array")],["_arr","_i","_some","item"],b(4,2612,1,0,0,b(3,2612,1,0,b(17,2612,1,0,"_some"),"=",b(9,0,0,0,!1)),b(14,2612,1,0,b(5,2612,1,0,b(3,2612,1,0,b(17,2612,1,0,"_arr"),"=",b(7,2612,19,0,b(17,2612,19,0,"__toArray"),0,b(17,2612,19,0,"array"))),b(3,2612,1,0,b(17,2612,1,0,"_i"),"=",b(3,2612,1,0,b(17,2612,1,0,"_arr"),".",b(9,2612,1,0,"length"))),b(9,0,0,0)),b(30,2612,1,0,"--post",b(17,2612,1,0,"_i")),b(20,2612,1,0),b(4,2613,1,0,0,b(3,2613,1,0,b(17,2612,11,0,"item"),"=",b(3,2612,1,0,b(17,2612,1,0,"_arr"),".",b(17,2612,1,0,"_i"))),b(18,2613,1,0,b(3,2613,1,0,b(17,2613,1,0,"value"),"instanceof",b(17,2613,21,0,"item")),b(4,2613,1,0,0,b(3,2613,1,0,b(17,2612,1,0,"_some"),"=",b(9,0,0,0,!0)),b(6,2613,1,0))))),b(23,2612,1,0,b(17,2612,1,0,"_some")))),type:a.generic(a.functionBase,a.boolean),dependencies:["__toArray"]},__getInstanceof:{helper:b(7,2615,32,0,b(16,2615,32,0,0,0,0,b(4,2615,32,0,0,b(16,2616,1,0,b(17,2616,6,0,"isAny"),0,0,b(23,2616,17,0,b(9,2616,17,0,!0))),b(16,2617,1,0,b(17,2617,6,0,"isStr"),[b(17,2617,17,0,"x")],0,b(23,2617,17,0,b(3,2617,17,0,b(30,2617,17,0,"typeof",b(17,2617,17,0,"x")),"===",b(9,2617,17,0,"string")))),b(16,2618,1,0,b(17,2618,6,0,"isNum"),[b(17,2618,17,0,"x")],0,b(23,2618,17,0,b(3,2618,17,0,b(30,2618,17,0,"typeof",b(17,2618,17,0,"x")),"===",b(9,2618,17,0,"number")))),b(16,2619,1,0,b(17,2619,6,0,"isFunc"),[b(17,2619,18,0,"x")],0,b(23,2619,18,0,b(3,2619,18,0,b(30,2619,18,0,"typeof",b(17,2619,18,0,"x")),"===",b(9,2619,18,0,"function")))),b(16,2620,1,0,b(17,2620,6,0,"isBool"),[b(17,2620,18,0,"x")],0,b(23,2620,18,0,b(3,2620,18,0,b(30,2620,18,0,"typeof",b(17,2620,18,0,"x")),"===",b(9,2620,18,0,"boolean")))),b(16,2621,1,0,b(17,2621,6,0,"isObject"),[b(17,2621,20,0,"x")],0,b(23,2621,20,0,b(3,2621,20,0,b(3,2621,20,0,b(30,2621,20,0,"typeof",b(17,2621,20,0,"x")),"===",b(9,2621,20,0,"object")),"&&",b(3,2621,20,0,b(17,2621,20,0,"x"),"!==",b(9,0,0,0,null))))),b(23,2622,4,0,b(16,2622,4,0,0,[b(17,2622,5,0,"ctor")],0,b(18,2623,1,0,b(3,2623,7,0,b(17,2623,11,0,"ctor"),"==",b(9,0,0,0,null)),b(23,2624,1,0,b(17,2624,1,0,"isAny")),b(27,2626,1,0,0,b(17,2626,13,0,"ctor"),2627,11,0,b(17,2627,11,0,"String"),b(23,2627,19,0,b(17,2627,19,0,"isStr")),2628,11,0,b(17,2628,11,0,"Number"),b(23,2628,19,0,b(17,2628,19,0,"isNum")),2629,11,0,b(17,2629,11,0,"Function"),b(23,2629,21,0,b(17,2629,21,0,"isFunc")),2630,11,0,b(17,2630,11,0,"Boolean"),b(23,2630,20,0,b(17,2630,20,0,"isBool")),2631,11,0,b(17,2631,11,0,"Array"),b(23,2631,18,0,b(17,2631,18,0,"__isArray")),2632,11,0,b(17,2632,11,0,"Object"),b(23,2632,19,0,b(17,2632,19,0,"isObject")),b(23,2633,17,0,b(16,2633,17,0,0,[b(17,2633,17,0,"_x")],0,b(23,2633,17,0,b(3,2633,17,0,b(17,2633,17,0,"_x"),"instanceof",b(17,2633,27,0,"ctor"))))))))))),0),type:a.generic(a.functionBase,a.generic(a.functionBase,a.boolean)),dependencies:["__isArray"]},__name:{helper:b(16,2635,49,0,0,[b(17,2635,25,0,"func")],0,b(4,2635,49,0,0,b(18,2635,25,0,b(3,2635,25,0,b(30,2635,25,0,"typeof",b(17,2635,25,0,"func")),"!==",b(9,2635,25,0,"function")),b(26,2635,25,0,b(7,2635,25,0,b(17,2635,25,0,"TypeError"),1,b(3,2635,25,0,b(9,2635,25,0,"Expected func to be a Function, got "),"+",b(7,2635,25,0,b(17,2635,25,0,"__typeof"),0,b(17,2635,25,0,"func")))))),b(23,2635,49,0,b(3,2635,49,0,b(3,2635,49,0,b(17,2635,49,0,"func"),".",b(9,2635,55,0,"displayName")),"||",b(3,2635,70,0,b(3,2635,70,0,b(17,2635,70,0,"func"),".",b(9,2635,76,0,"name")),"||",b(9,2635,84,0,"")))))),type:a.generic(a.functionBase,a.string),dependencies:["__typeof"]},__once:{helper:b(7,2637,22,0,b(16,2637,22,0,0,0,0,b(4,2637,22,0,0,b(16,2638,1,0,b(17,2638,6,0,"replacement"),0,0,b(26,2638,23,0,b(7,2638,29,0,b(17,2638,29,0,"Error"),1,b(9,2638,36,0,"Attempted to call function more than once")))),b(16,2639,1,0,b(17,2639,6,0,"doNothing"),0,0,b(20,2639,22,0)),b(23,2640,53,0,b(16,2640,53,0,0,[b(17,2640,12,0,"func"),b(17,2640,24,0,"silentFail")],0,b(4,2640,53,0,0,b(18,2640,12,0,b(3,2640,12,0,b(30,2640,12,0,"typeof",b(17,2640,12,0,"func")),"!==",b(9,2640,12,0,"function")),b(26,2640,12,0,b(7,2640,12,0,b(17,2640,12,0,"TypeError"),1,b(3,2640,12,0,b(9,2640,12,0,"Expected func to be a Function, got "),"+",b(7,2640,12,0,b(17,2640,12,0,"__typeof"),0,b(17,2640,12,0,"func")))))),b(18,2640,24,0,b(3,2640,24,0,b(17,2640,24,0,"silentFail"),"==",b(9,0,0,0,null)),b(3,2640,24,0,b(17,2640,24,0,"silentFail"),"=",b(9,0,0,0,!1)),b(18,2640,24,0,b(3,2640,24,0,b(30,2640,24,0,"typeof",b(17,2640,24,0,"silentFail")),"!==",b(9,2640,24,0,"boolean")),b(26,2640,24,0,b(7,2640,24,0,b(17,2640,24,0,"TypeError"),1,b(3,2640,24,0,b(9,2640,24,0,"Expected silentFail to be a Boolean, got "),"+",b(7,2640,24,0,b(17,2640,24,0,"__typeof"),0,b(17,2640,24,0,"silentFail"))))))),b(23,2640,53,0,b(16,2640,53,0,0,0,["f"],b(4,2641,1,0,0,b(3,2641,1,0,b(17,2641,8,0,"f"),"=",b(17,2641,12,0,"func")),b(18,2642,12,0,b(17,2642,15,0,"silentFail"),b(3,2642,1,0,b(17,2642,1,0,"func"),"=",b(17,2642,32,0,"doNothing")),b(3,2642,1,0,b(17,2642,1,0,"func"),"=",b(17,2642,48,0,"replacement"))),b(23,2643,1,0,b(7,2643,1,0,b(3,2643,1,0,b(17,2643,1,0,"f"),".",b(9,2643,1,0,"apply")),0,b(25,2643,8,0),b(1,2643,17,0))))))))))),0),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__async:{helper:b(16,2758,1,0,0,[b(17,2757,33,0,"limit"),b(17,2757,50,0,"length"),b(17,2757,68,0,"hasResult"),b(17,2757,91,0,"onValue"),b(17,2757,107,0,"onComplete")],["broken","completed","index","result","slotsUsed","sync"],b(4,2758,1,0,0,b(18,2757,33,0,b(3,2757,33,0,b(30,2757,33,0,"typeof",b(17,2757,33,0,"limit")),"!==",b(9,2757,33,0,"number")),b(26,2757,33,0,b(7,2757,33,0,b(17,2757,33,0,"TypeError"),1,b(3,2757,33,0,b(9,2757,33,0,"Expected limit to be a Number, got "),"+",b(7,2757,33,0,b(17,2757,33,0,"__typeof"),0,b(17,2757,33,0,"limit")))))),b(18,2757,50,0,b(3,2757,50,0,b(30,2757,50,0,"typeof",b(17,2757,50,0,"length")),"!==",b(9,2757,50,0,"number")),b(26,2757,50,0,b(7,2757,50,0,b(17,2757,50,0,"TypeError"),1,b(3,2757,50,0,b(9,2757,50,0,"Expected length to be a Number, got "),"+",b(7,2757,50,0,b(17,2757,50,0,"__typeof"),0,b(17,2757,50,0,"length")))))),b(18,2757,68,0,b(3,2757,68,0,b(17,2757,68,0,"hasResult"),"==",b(9,0,0,0,null)),b(3,2757,68,0,b(17,2757,68,0,"hasResult"),"=",b(9,0,0,0,!1)),b(18,2757,68,0,b(3,2757,68,0,b(30,2757,68,0,"typeof",b(17,2757,68,0,"hasResult")),"!==",b(9,2757,68,0,"boolean")),b(26,2757,68,0,b(7,2757,68,0,b(17,2757,68,0,"TypeError"),1,b(3,2757,68,0,b(9,2757,68,0,"Expected hasResult to be a Boolean, got "),"+",b(7,2757,68,0,b(17,2757,68,0,"__typeof"),0,b(17,2757,68,0,"hasResult"))))))),b(18,2757,91,0,b(3,2757,91,0,b(30,2757,91,0,"typeof",b(17,2757,91,0,"onValue")),"!==",b(9,2757,91,0,"function")),b(26,2757,91,0,b(7,2757,91,0,b(17,2757,91,0,"TypeError"),1,b(3,2757,91,0,b(9,2757,91,0,"Expected onValue to be a Function, got "),"+",b(7,2757,91,0,b(17,2757,91,0,"__typeof"),0,b(17,2757,91,0,"onValue")))))),b(18,2757,107,0,b(3,2757,107,0,b(30,2757,107,0,"typeof",b(17,2757,107,0,"onComplete")),"!==",b(9,2757,107,0,"function")),b(26,2757,107,0,b(7,2757,107,0,b(17,2757,107,0,"TypeError"),1,b(3,2757,107,0,b(9,2757,107,0,"Expected onComplete to be a Function, got "),"+",b(7,2757,107,0,b(17,2757,107,0,"__typeof"),0,b(17,2757,107,0,"onComplete")))))),b(18,2758,15,0,b(17,2758,18,0,"hasResult"),b(3,2758,1,0,b(17,2758,6,0,"result"),"=",b(2,2758,34,0)),b(3,2758,1,0,b(17,2758,6,0,"result"),"=",b(9,2758,42,0,null))),b(18,2759,1,0,b(3,2759,5,0,b(17,2759,5,0,"length"),"<=",b(9,2759,17,0,0)),b(23,2760,1,0,b(7,2760,11,0,b(17,2760,11,0,"onComplete"),0,b(9,2760,24,0,null),b(17,2760,29,0,"result")))),b(18,2761,1,0,b(3,2761,5,0,b(3,2761,5,0,b(17,2761,5,0,"limit"),"<",b(9,2761,15,0,1)),"||",b(3,2761,19,0,b(17,2761,19,0,"limit"),"!==",b(17,2761,28,0,"limit"))),b(3,2762,1,0,b(17,2762,1,0,"limit"),"=",b(9,2762,13,0,1/0))),b(3,2764,1,0,b(17,2764,14,0,"broken"),"=",b(9,2764,23,0,null)),b(3,2765,1,0,b(17,2765,14,0,"slotsUsed"),"=",b(9,2765,28,0,0)),b(3,2766,1,0,b(17,2766,14,0,"sync"),"=",b(9,2766,21,0,!1)),b(3,2767,1,0,b(17,2767,14,0,"completed"),"=",b(9,2767,26,0,!1)),b(16,2768,1,0,b(17,2768,6,0,"onValueCallback"),[b(17,2768,25,0,"err"),b(17,2768,29,0,"value")],0,b(4,2769,1,0,0,b(18,2769,1,0,b(17,2769,7,0,"completed"),b(23,2770,1,0)),b(30,2771,1,0,"--",b(17,2771,1,0,"slotsUsed")),b(18,2772,1,0,b(3,2772,7,0,b(3,2772,7,0,b(17,2772,7,0,"err"),"!=",b(9,0,0,0,null)),"&&",b(3,2772,16,0,b(17,2772,20,0,"broken"),"==",b(9,0,0,0,null))),b(3,2773,1,0,b(17,2773,1,0,"broken"),"=",b(17,2773,16,0,"err"))),b(18,2774,1,0,b(3,2774,7,0,b(17,2774,7,0,"hasResult"),"&&",b(3,2774,22,0,b(3,2774,22,0,b(17,2774,26,0,"broken"),"==",b(9,0,0,0,null)),"&&",b(3,2774,38,0,b(3,2774,38,0,b(1,2774,38,0),".",b(9,2774,49,0,"length")),">",b(9,2774,59,0,1)))),b(7,2775,1,0,b(3,2775,1,0,b(17,2775,1,0,"result"),".",b(9,2775,14,0,"push")),0,b(17,2775,19,0,"value"))),b(18,2776,1,0,b(30,2776,7,0,"!",b(17,2776,11,0,"sync")),b(7,2777,1,0,b(17,2777,1,0,"next"),0)))),b(3,2778,1,0,b(17,2778,14,0,"index"),"=",b(9,2778,22,0,-1)),b(16,2779,1,0,b(17,2779,6,0,"next"),0,0,b(4,2780,1,0,0,b(14,2780,1,0,b(20,2780,1,0),b(3,2780,10,0,b(30,2780,10,0,"!",b(17,2780,14,0,"completed")),"&&",b(3,2780,28,0,b(3,2780,28,0,b(17,2780,32,0,"broken"),"==",b(9,0,0,0,null)),"&&",b(3,2780,44,0,b(3,2780,44,0,b(17,2780,44,0,"slotsUsed"),"<",b(17,2780,58,0,"limit")),"&&",b(3,2780,68,0,b(30,2780,70,0,"++",b(17,2780,70,0,"index")),"<",b(17,2780,84,0,"length"))))),b(20,2780,1,0),b(4,2781,1,0,0,b(30,2781,1,0,"++",b(17,2781,1,0,"slotsUsed")),b(3,2782,1,0,b(17,2782,1,0,"sync"),"=",b(9,2782,14,0,!0)),b(7,2783,1,0,b(17,2783,1,0,"onValue"),0,b(17,2783,16,0,"index"),b(7,2783,22,0,b(17,2783,22,0,"__once"),0,b(17,2783,29,0,"onValueCallback"))),b(3,2784,1,0,b(17,2784,1,0,"sync"),"=",b(9,2784,14,0,!1)))),b(18,2785,1,0,b(3,2785,7,0,b(30,2785,7,0,"!",b(17,2785,11,0,"completed")),"&&",b(3,2785,27,0,b(3,2785,27,0,b(17,2785,27,0,"broken"),"!=",b(9,0,0,0,null)),"||",b(3,2785,37,0,b(17,2785,37,0,"slotsUsed"),"===",b(9,2785,52,0,0)))),b(4,2786,1,0,0,b(3,2786,1,0,b(17,2786,1,0,"completed"),"=",b(9,2786,19,0,!0)),b(18,2787,1,0,b(3,2787,9,0,b(17,2787,9,0,"broken"),"!=",b(9,0,0,0,null)),b(7,2788,1,0,b(17,2788,1,0,"onComplete"),0,b(17,2788,21,0,"broken")),b(7,2790,1,0,b(17,2790,1,0,"onComplete"),0,b(9,2790,21,0,null),b(17,2790,26,0,"result"))))))),b(7,2791,1,0,b(17,2791,1,0,"next"),0))),type:a["function"],dependencies:["__once","__typeof"]},__asyncIter:{helper:b(16,2794,1,0,0,[b(17,2793,38,0,"limit"),b(17,2793,55,0,"iterator"),b(17,2793,85,0,"hasResult"),b(17,2793,108,0,"onValue"),b(17,2793,124,0,"onComplete")],["broken","close","completed","index","iterStopped","result","slotsUsed","sync"],b(4,2794,1,0,0,b(18,2793,38,0,b(3,2793,38,0,b(30,2793,38,0,"typeof",b(17,2793,38,0,"limit")),"!==",b(9,2793,38,0,"number")),b(26,2793,38,0,b(7,2793,38,0,b(17,2793,38,0,"TypeError"),1,b(3,2793,38,0,b(9,2793,38,0,"Expected limit to be a Number, got "),"+",b(7,2793,38,0,b(17,2793,38,0,"__typeof"),0,b(17,2793,38,0,"limit")))))),b(18,2793,55,0,b(3,2793,55,0,b(3,2793,55,0,b(30,2793,55,0,"typeof",b(17,2793,55,0,"iterator")),"!==",b(9,2793,55,0,"object")),"||",b(3,2793,55,0,b(17,2793,55,0,"iterator"),"===",b(9,0,0,0,null))),b(26,2793,55,0,b(7,2793,55,0,b(17,2793,55,0,"TypeError"),1,b(3,2793,55,0,b(9,2793,55,0,"Expected iterator to be an Object, got "),"+",b(7,2793,55,0,b(17,2793,55,0,"__typeof"),0,b(17,2793,55,0,"iterator"))))),b(18,2793,55,0,b(3,2793,55,0,b(30,2793,55,0,"typeof",b(3,2793,55,0,b(17,2793,55,0,"iterator"),".",b(9,2793,69,0,"next"))),"!==",b(9,2793,55,0,"function")),b(26,2793,55,0,b(7,2793,55,0,b(17,2793,55,0,"TypeError"),1,b(3,2793,55,0,b(9,2793,55,0,"Expected iterator.next to be a Function, got "),"+",b(7,2793,55,0,b(17,2793,55,0,"__typeof"),0,b(3,2793,55,0,b(17,2793,55,0,"iterator"),".",b(9,2793,69,0,"next")))))))),b(18,2793,85,0,b(3,2793,85,0,b(17,2793,85,0,"hasResult"),"==",b(9,0,0,0,null)),b(3,2793,85,0,b(17,2793,85,0,"hasResult"),"=",b(9,0,0,0,!1)),b(18,2793,85,0,b(3,2793,85,0,b(30,2793,85,0,"typeof",b(17,2793,85,0,"hasResult")),"!==",b(9,2793,85,0,"boolean")),b(26,2793,85,0,b(7,2793,85,0,b(17,2793,85,0,"TypeError"),1,b(3,2793,85,0,b(9,2793,85,0,"Expected hasResult to be a Boolean, got "),"+",b(7,2793,85,0,b(17,2793,85,0,"__typeof"),0,b(17,2793,85,0,"hasResult"))))))),b(18,2793,108,0,b(3,2793,108,0,b(30,2793,108,0,"typeof",b(17,2793,108,0,"onValue")),"!==",b(9,2793,108,0,"function")),b(26,2793,108,0,b(7,2793,108,0,b(17,2793,108,0,"TypeError"),1,b(3,2793,108,0,b(9,2793,108,0,"Expected onValue to be a Function, got "),"+",b(7,2793,108,0,b(17,2793,108,0,"__typeof"),0,b(17,2793,108,0,"onValue")))))),b(18,2793,124,0,b(3,2793,124,0,b(30,2793,124,0,"typeof",b(17,2793,124,0,"onComplete")),"!==",b(9,2793,124,0,"function")),b(26,2793,124,0,b(7,2793,124,0,b(17,2793,124,0,"TypeError"),1,b(3,2793,124,0,b(9,2793,124,0,"Expected onComplete to be a Function, got "),"+",b(7,2793,124,0,b(17,2793,124,0,"__typeof"),0,b(17,2793,124,0,"onComplete")))))),b(18,2794,1,0,b(3,2794,5,0,b(3,2794,5,0,b(17,2794,5,0,"limit"),"<",b(9,2794,15,0,1)),"||",b(3,2794,19,0,b(17,2794,19,0,"limit"),"!==",b(17,2794,28,0,"limit"))),b(3,2795,1,0,b(17,2795,1,0,"limit"),"=",b(9,2795,13,0,1/0))),b(3,2796,1,0,b(17,2796,14,0,"broken"),"=",b(9,2796,23,0,null)),b(3,2797,1,0,b(17,2797,14,0,"slotsUsed"),"=",b(9,2797,28,0,0)),b(3,2798,1,0,b(17,2798,14,0,"sync"),"=",b(9,2798,21,0,!1)),b(18,2799,15,0,b(17,2799,18,0,"hasResult"),b(3,2799,1,0,b(17,2799,6,0,"result"),"=",b(2,2799,34,0)),b(3,2799,1,0,b(17,2799,6,0,"result"),"=",b(9,2799,42,0,null))),b(3,2800,1,0,b(17,2800,14,0,"completed"),"=",b(9,2800,26,0,!1)),b(16,2801,1,0,b(17,2801,6,0,"onValueCallback"),[b(17,2801,25,0,"err"),b(17,2801,29,0,"value")],0,b(4,2802,1,0,0,b(18,2802,1,0,b(17,2802,7,0,"completed"),b(23,2803,1,0)),b(30,2804,1,0,"--",b(17,2804,1,0,"slotsUsed")),b(18,2805,1,0,b(3,2805,7,0,b(3,2805,7,0,b(17,2805,7,0,"err"),"!=",b(9,0,0,0,null)),"&&",b(3,2805,16,0,b(17,2805,20,0,"broken"),"==",b(9,0,0,0,null))),b(3,2806,1,0,b(17,2806,1,0,"broken"),"=",b(17,2806,16,0,"err"))),b(18,2807,1,0,b(3,2807,7,0,b(17,2807,7,0,"hasResult"),"&&",b(3,2807,22,0,b(3,2807,22,0,b(17,2807,26,0,"broken"),"==",b(9,0,0,0,null)),"&&",b(3,2807,38,0,b(3,2807,38,0,b(1,2807,38,0),".",b(9,2807,49,0,"length")),">",b(9,2807,59,0,1)))),b(7,2808,1,0,b(3,2808,1,0,b(17,2808,1,0,"result"),".",b(9,2808,14,0,"push")),0,b(17,2808,19,0,"value"))),b(18,2809,1,0,b(30,2809,7,0,"!",b(17,2809,11,0,"sync")),b(7,2810,1,0,b(17,2810,1,0,"next"),0)))),b(3,2811,1,0,b(17,2811,14,0,"index"),"=",b(9,2811,22,0,-1)),b(3,2812,1,0,b(17,2812,14,0,"iterStopped"),"=",b(9,2812,29,0,!1)),b(3,2813,1,0,b(17,2813,14,0,"close"),"=",b(16,2813,24,0,0,0,0,b(4,2814,1,0,0,b(3,2814,1,0,b(17,2814,1,0,"close"),"=",b(16,2814,15,0,0,0,0,b(20,2814,17,0))),b(28,2815,1,0,b(23,2816,1,0,b(7,2816,1,0,b(3,2816,1,0,b(17,2816,1,0,"iterator"),".",b(9,2816,16,0,"close")),0)),b(17,2817,10,0,"e"),b(20,2818,1,0))))),b(16,2819,1,0,b(17,2819,6,0,"next"),0,["item"],b(4,2820,1,0,0,b(14,2820,1,0,b(20,2820,1,0),b(3,2820,10,0,b(30,2820,10,0,"!",b(17,2820,14,0,"completed")),"&&",b(3,2820,28,0,b(3,2820,28,0,b(17,2820,32,0,"broken"),"==",b(9,0,0,0,null)),"&&",b(3,2820,44,0,b(3,2820,44,0,b(17,2820,44,0,"slotsUsed"),"<",b(17,2820,58,0,"limit")),"&&",b(30,2820,68,0,"!",b(17,2820,72,0,"iterStopped"))))),b(20,2820,1,0),b(4,2821,1,0,0,b(28,2821,1,0,b(4,2822,1,0,0,b(3,2822,1,0,b(17,2822,12,0,"item"),"=",b(7,2822,19,0,b(3,2822,19,0,b(17,2822,19,0,"iterator"),".",b(9,2822,29,0,"next")),0)),b(9,0,0,0)),b(17,2823,12,0,"e"),b(4,2824,1,0,0,b(3,2824,1,0,b(17,2824,1,0,"broken"),"=",b(17,2824,18,0,"e")),b(6,2825,1,0))),b(18,2827,1,0,b(3,2827,9,0,b(17,2827,9,0,"item"),".",b(9,2827,15,0,"done")),b(4,2828,1,0,0,b(3,2828,1,0,b(17,2828,1,0,"iterStopped"),"=",b(9,2828,24,0,!0)),b(6,2829,1,0))),b(30,2831,1,0,"++",b(17,2831,1,0,"slotsUsed")),b(3,2832,1,0,b(17,2832,1,0,"sync"),"=",b(9,2832,14,0,!0)),b(28,2833,1,0,b(7,2834,1,0,b(17,2834,1,0,"onValue"),0,b(3,2834,18,0,b(17,2834,18,0,"item"),".",b(9,2834,23,0,"value")),b(30,2834,31,0,"++",b(17,2834,31,0,"index")),b(7,2834,43,0,b(17,2834,43,0,"__once"),0,b(17,2834,50,0,"onValueCallback"))),b(17,2835,12,0,"e"),b(4,2836,1,0,0,b(7,2836,1,0,b(17,2836,1,0,"close"),0),b(26,2837,1,0,b(17,2837,14,0,"e")))),b(3,2838,1,0,b(17,2838,1,0,"sync"),"=",b(9,2838,14,0,!1)))),b(18,2839,1,0,b(3,2839,7,0,b(30,2839,7,0,"!",b(17,2839,11,0,"completed")),"&&",b(3,2839,27,0,b(3,2839,27,0,b(17,2839,27,0,"broken"),"!=",b(9,0,0,0,null)),"||",b(3,2839,37,0,b(17,2839,37,0,"slotsUsed"),"===",b(9,2839,52,0,0)))),b(4,2840,1,0,0,b(3,2840,1,0,b(17,2840,1,0,"completed"),"=",b(9,2840,19,0,!0)),b(7,2841,1,0,b(17,2841,1,0,"close"),0),b(18,2842,1,0,b(3,2842,9,0,b(17,2842,9,0,"broken"),"!=",b(9,0,0,0,null)),b(7,2843,1,0,b(17,2843,1,0,"onComplete"),0,b(17,2843,21,0,"broken")),b(7,2845,1,0,b(17,2845,1,0,"onComplete"),0,b(9,2845,21,0,null),b(17,2845,26,0,"result"))))))),b(7,2846,1,0,b(17,2846,1,0,"next"),0))),type:a.generic(a.functionBase,a.undefined),dependencies:["__once","__typeof"]},__is:{helper:b(19,3350,20,0,b(3,3350,23,0,b(30,3350,23,0,"typeof",b(3,3350,36,0,b(17,3350,36,0,"Object"),".",b(9,3350,44,0,"is"))),"===",b(9,3350,23,0,"function")),b(3,3351,1,0,b(17,3351,1,0,"Object"),".",b(9,3351,10,0,"is")),b(16,3353,4,0,0,[b(17,3353,5,0,"x"),b(17,3353,7,0,"y")],0,b(18,3354,1,0,b(3,3354,7,0,b(17,3354,7,0,"x"),"===",b(17,3354,12,0,"y")),b(23,3355,1,0,b(3,3355,1,0,b(3,3355,1,0,b(17,3355,1,0,"x"),"!==",b(9,3355,12,0,0)),"||",b(3,3355,18,0,b(3,3355,18,0,b(9,3355,18,0,1),"/",b(17,3355,22,0,"x")),"===",b(3,3355,27,0,b(9,3355,28,0,1),"/",b(17,3355,32,0,"y"))))),b(23,3357,1,0,b(3,3357,1,0,b(3,3357,1,0,b(17,3357,1,0,"x"),"!==",b(17,3357,11,0,"x")),"&&",b(3,3357,17,0,b(17,3357,17,0,"y"),"!==",b(17,3357,22,0,"y"))))))),type:a.any,dependencies:[]},__bind:{helper:b(16,3398,24,0,0,[b(17,3398,25,0,"parent"),b(17,3398,32,0,"child")],["func"],b(4,3399,1,0,0,b(18,3399,1,0,b(3,3399,5,0,b(17,3399,9,0,"parent"),"==",b(9,0,0,0,null)),b(26,3400,1,0,b(7,3400,10,0,b(17,3400,10,0,"TypeError"),1,b(3,3400,21,0,b(9,3400,21,0,"Expected parent to be an object, got "),"+",b(7,3400,61,0,b(17,3400,61,0,"__typeof"),0,b(17,3400,68,0,"parent")))))),b(3,3401,1,0,b(17,3401,6,0,"func"),"=",b(3,3401,13,0,b(17,3401,13,0,"parent"),".",b(17,3401,21,0,"child"))),b(18,3402,1,0,b(3,3402,5,0,b(30,3402,9,0,"typeof",b(17,3402,22,0,"func")),"!==",b(9,3402,9,0,"function")),b(26,3403,1,0,b(7,3403,10,0,b(17,3403,10,0,"Error"),1,b(3,3403,17,0,b(3,3403,17,0,b(9,3403,17,0,"Trying to bind child '"),"+",b(7,3403,42,0,b(17,3403,42,0,"String"),0,b(17,3403,49,0,"child"))),"+",b(9,3403,17,0,"' which is not a function"))))),b(23,3404,4,0,b(16,3404,4,0,0,0,0,b(23,3404,7,0,b(7,3404,7,0,b(3,3404,7,0,b(17,3404,7,0,"func"),".",b(9,3404,7,0,"apply")),0,b(17,3404,14,0,"parent"),b(1,3404,25,0))))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__defProp:{helper:b(7,3406,26,0,b(16,3406,26,0,0,0,["defineGetter","defineSetter","fallback","lookupGetter","lookupSetter","supportsAccessors"],b(4,3406,26,0,0,b(3,3407,1,0,b(17,3407,6,0,"fallback"),"=",b(3,3407,17,0,b(17,3407,17,0,"Object"),".",b(9,3407,25,0,"defineProperty"))),b(18,3408,1,0,b(3,3408,5,0,b(3,3408,5,0,b(30,3408,5,0,"typeof",b(17,3408,18,0,"fallback")),"===",b(9,3408,5,0,"function")),"&&",b(7,3408,33,0,b(16,3408,33,0,0,0,["o"],b(28,3409,1,0,b(4,3410,1,0,0,b(3,3410,1,0,b(17,3410,12,0,"o"),"=",b(21,3410,16,0)),b(7,3411,1,0,b(17,3411,1,0,"fallback"),0,b(17,3411,18,0,"o"),b(9,3411,22,0,"sentinel"),b(21,3411,31,0)),b(23,3412,1,0,b(3,3412,1,0,b(9,3412,19,0,"sentinel"),"in",b(17,3412,1,0,"o")))),b(17,3413,12,0,"e"),b(23,3414,1,0,b(9,3414,1,0,!1)))),0)),b(23,3415,1,0,b(17,3415,1,0,"fallback")),b(4,3417,1,0,0,b(3,3417,1,0,b(17,3417,8,0,"supportsAccessors"),"=",b(7,3417,29,0,b(3,3417,29,0,b(17,3417,29,0,"__owns"),".",b(9,3417,29,0,"call")),0,b(3,3417,29,0,b(17,3417,29,0,"Object"),".",b(9,3417,37,0,"prototype")),b(9,3417,56,0,"__defineGetter__"))),b(3,3418,1,0,b(17,3418,8,0,"lookupGetter"),"=",b(3,3418,24,0,b(17,3418,24,0,"supportsAccessors"),"&&",b(3,3418,47,0,b(3,3418,47,0,b(17,3418,47,0,"Object"),".",b(9,3418,47,0,"prototype")),".",b(9,3418,56,0,"__lookupGetter__")))),b(3,3419,1,0,b(17,3419,8,0,"lookupSetter"),"=",b(3,3419,24,0,b(17,3419,24,0,"supportsAccessors"),"&&",b(3,3419,47,0,b(3,3419,47,0,b(17,3419,47,0,"Object"),".",b(9,3419,47,0,"prototype")),".",b(9,3419,56,0,"__lookupSetter__")))),b(3,3420,1,0,b(17,3420,8,0,"defineGetter"),"=",b(3,3420,24,0,b(17,3420,24,0,"supportsAccessors"),"&&",b(3,3420,47,0,b(3,3420,47,0,b(17,3420,47,0,"Object"),".",b(9,3420,47,0,"prototype")),".",b(9,3420,56,0,"__defineGetter__")))),b(3,3421,1,0,b(17,3421,8,0,"defineSetter"),"=",b(3,3421,24,0,b(17,3421,24,0,"supportsAccessors"),"&&",b(3,3421,47,0,b(3,3421,47,0,b(17,3421,47,0,"Object"),".",b(9,3421,47,0,"prototype")),".",b(9,3421,56,0,"__defineSetter__")))),b(23,3423,1,0,b(16,3423,1,0,0,[b(17,3422,7,0,"object"),b(17,3422,23,0,"property"),b(17,3422,43,0,"descriptor")],["proto"],b(4,3423,1,0,0,b(18,3422,7,0,b(3,3422,6,0,b(3,3422,7,0,b(3,3422,7,0,b(30,3422,7,0,"typeof",b(17,3422,7,0,"object")),"!==",b(9,3422,7,0,"object")),"||",b(3,3422,7,0,b(17,3422,7,0,"object"),"===",b(9,0,0,0,null))),"&&",b(3,3422,7,0,b(30,3422,7,0,"typeof",b(17,3422,7,0,"object")),"!==",b(9,3422,7,0,"function"))),b(26,3422,7,0,b(7,3422,7,0,b(17,3422,7,0,"TypeError"),1,b(3,3422,7,0,b(9,3422,7,0,"Expected object to be one of Object or Function, got "),"+",b(7,3422,7,0,b(17,3422,7,0,"__typeof"),0,b(17,3422,7,0,"object")))))),b(18,3422,23,0,b(3,3422,23,0,b(30,3422,23,0,"typeof",b(17,3422,23,0,"property")),"!==",b(9,3422,23,0,"string")),b(26,3422,23,0,b(7,3422,23,0,b(17,3422,23,0,"TypeError"),1,b(3,3422,23,0,b(9,3422,23,0,"Expected property to be a String, got "),"+",b(7,3422,23,0,b(17,3422,23,0,"__typeof"),0,b(17,3422,23,0,"property")))))),b(18,3422,43,0,b(3,3422,43,0,b(3,3422,43,0,b(30,3422,43,0,"typeof",b(17,3422,43,0,"descriptor")),"!==",b(9,3422,43,0,"object")),"||",b(3,3422,43,0,b(17,3422,43,0,"descriptor"),"===",b(9,0,0,0,null))),b(26,3422,43,0,b(7,3422,43,0,b(17,3422,43,0,"TypeError"),1,b(3,3422,43,0,b(9,3422,43,0,"Expected descriptor to be an Object, got "),"+",b(7,3422,43,0,b(17,3422,43,0,"__typeof"),0,b(17,3422,43,0,"descriptor")))))),b(18,3423,1,0,b(3,3423,9,0,b(30,3423,9,0,"typeof",b(17,3423,22,0,"fallback")),"===",b(9,3423,9,0,"function")),b(28,3424,1,0,b(23,3425,1,0,b(7,3425,17,0,b(17,3425,17,0,"fallback"),0,b(17,3425,27,0,"object"),b(17,3425,34,0,"property"),b(17,3425,44,0,"descriptor"))),b(17,3426,14,0,"e"),b(9,3427,1,0))),b(18,3429,1,0,b(7,3429,9,0,b(3,3429,9,0,b(17,3429,9,0,"__owns"),".",b(9,3429,9,0,"call")),0,b(17,3429,9,0,"descriptor"),b(9,3429,30,0,"value")),b(18,3430,1,0,b(3,3430,11,0,b(17,3430,11,0,"supportsAccessors"),"&&",b(7,3430,36,0,b(3,3430,36,0,b(17,3430,36,0,"lookupGetter"),".",b(9,3430,36,0,"call")),0,b(17,3430,51,0,"object"),b(3,3430,58,0,b(17,3430,58,0,"property"),"||",b(7,3430,70,0,b(3,3430,70,0,b(17,3430,70,0,"lookupSetter"),".",b(9,3430,70,0,"call")),0,b(17,3430,86,0,"object"),b(17,3430,93,0,"property"))))),b(4,3431,1,0,0,b(3,3431,1,0,b(17,3431,14,0,"proto"),"=",b(3,3431,22,0,b(17,3431,22,0,"object"),".",b(9,3431,30,0,"__proto__"))),b(3,3432,1,0,b(3,3432,1,0,b(17,3432,1,0,"object"),".",b(9,3432,18,0,"__proto__")),"=",b(3,3432,30,0,b(17,3432,30,0,"Object"),".",b(9,3432,38,0,"prototype"))),b(30,3433,1,0,"delete",b(3,3433,17,0,b(17,3433,17,0,"object"),".",b(17,3433,25,0,"property"))),b(3,3434,1,0,b(3,3434,1,0,b(17,3434,1,0,"object"),".",b(17,3434,18,0,"property")),"=",b(3,3434,30,0,b(17,3434,30,0,"descriptor"),".",b(9,3434,42,0,"value"))),b(3,3435,1,0,b(3,3435,1,0,b(17,3435,1,0,"object"),".",b(9,3435,18,0,"__proto__")),"=",b(17,3435,30,0,"proto"))),b(3,3437,1,0,b(3,3437,1,0,b(17,3437,1,0,"object"),".",b(17,3437,18,0,"property")),"=",b(3,3437,30,0,b(17,3437,30,0,"descriptor"),".",b(9,3437,42,0,"value")))),b(4,3439,1,0,0,b(18,3439,1,0,b(30,3439,11,0,"!",b(17,3439,15,0,"supportsAccessors")),b(26,3440,1,0,b(7,3440,16,0,b(17,3440,16,0,"Error"),1,b(9,3440,23,0,"Getters and setters cannot be defined on this Javascript engine")))),b(18,3441,1,0,b(7,3441,11,0,b(3,3441,11,0,b(17,3441,11,0,"__owns"),".",b(9,3441,11,0,"call")),0,b(17,3441,11,0,"descriptor"),b(9,3441,32,0,"get")),b(7,3442,1,0,b(3,3442,1,0,b(17,3442,1,0,"defineGetter"),".",b(9,3442,1,0,"call")),0,b(17,3442,26,0,"object"),b(17,3442,33,0,"property"),b(3,3442,43,0,b(17,3442,43,0,"descriptor"),".",b(9,3442,55,0,"get")))),b(18,3443,1,0,b(7,3443,11,0,b(3,3443,11,0,b(17,3443,11,0,"__owns"),".",b(9,3443,11,0,"call")),0,b(17,3443,11,0,"descriptor"),b(9,3443,32,0,"set")),b(7,3444,1,0,b(3,3444,1,0,b(17,3444,1,0,"defineSetter"),".",b(9,3444,1,0,"call")),0,b(17,3444,26,0,"object"),b(17,3444,33,0,"property"),b(3,3444,43,0,b(17,3444,43,0,"descriptor"),".",b(9,3444,55,0,"set")))))),b(23,3445,1,0,b(17,3445,1,0,"object"))))))))),0),type:a.generic(a.functionBase,a.object).union(a.generic(a.functionBase,a["function"].union(a.object))).union(a.undefined),dependencies:["__owns","__typeof"]},__compose:{helper:b(16,3452,4,0,0,[b(17,3451,28,0,"left"),b(17,3451,39,0,"right")],0,b(4,3452,4,0,0,b(18,3451,28,0,b(3,3451,28,0,b(30,3451,28,0,"typeof",b(17,3451,28,0,"left")),"!==",b(9,3451,28,0,"function")),b(26,3451,28,0,b(7,3451,28,0,b(17,3451,28,0,"TypeError"),1,b(3,3451,28,0,b(9,3451,28,0,"Expected left to be a Function, got "),"+",b(7,3451,28,0,b(17,3451,28,0,"__typeof"),0,b(17,3451,28,0,"left")))))),b(18,3451,39,0,b(3,3451,39,0,b(30,3451,39,0,"typeof",b(17,3451,39,0,"right")),"!==",b(9,3451,39,0,"function")),b(26,3451,39,0,b(7,3451,39,0,b(17,3451,39,0,"TypeError"),1,b(3,3451,39,0,b(9,3451,39,0,"Expected right to be a Function, got "),"+",b(7,3451,39,0,b(17,3451,39,0,"__typeof"),0,b(17,3451,39,0,"right")))))),b(23,3452,4,0,b(16,3452,4,0,0,0,0,b(23,3452,6,0,b(7,3452,6,0,b(3,3452,6,0,b(17,3452,6,0,"left"),".",b(9,3452,6,0,"call")),0,b(25,3452,13,0),b(7,3452,18,0,b(3,3452,18,0,b(17,3452,18,0,"right"),".",b(9,3452,18,0,"apply")),0,b(25,3452,26,0),b(1,3452,35,0)))))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__toArray","__typeof"]},__curry:{helper:b(16,3467,1,0,0,[b(17,3466,26,0,"numArgs"),b(17,3466,45,0,"f")],["currier"],b(4,3467,1,0,0,b(18,3466,26,0,b(3,3466,26,0,b(30,3466,26,0,"typeof",b(17,3466,26,0,"numArgs")),"!==",b(9,3466,26,0,"number")),b(26,3466,26,0,b(7,3466,26,0,b(17,3466,26,0,"TypeError"),1,b(3,3466,26,0,b(9,3466,26,0,"Expected numArgs to be a Number, got "),"+",b(7,3466,26,0,b(17,3466,26,0,"__typeof"),0,b(17,3466,26,0,"numArgs")))))),b(18,3466,45,0,b(3,3466,45,0,b(30,3466,45,0,"typeof",b(17,3466,45,0,"f")),"!==",b(9,3466,45,0,"function")),b(26,3466,45,0,b(7,3466,45,0,b(17,3466,45,0,"TypeError"),1,b(3,3466,45,0,b(9,3466,45,0,"Expected f to be a Function, got "),"+",b(7,3466,45,0,b(17,3466,45,0,"__typeof"),0,b(17,3466,45,0,"f")))))),b(18,3467,1,0,b(3,3467,5,0,b(17,3467,5,0,"numArgs"),">",b(9,3467,17,0,1)),b(4,3468,1,0,0,b(3,3468,1,0,b(17,3468,8,0,"currier"),"=",b(16,3468,16,0,0,[b(17,3468,17,0,"args")],["ret"],b(18,3469,1,0,b(3,3469,9,0,b(3,3469,9,0,b(17,3469,9,0,"args"),".",b(9,3469,15,0,"length")),">=",b(17,3469,25,0,"numArgs")),b(23,3470,1,0,b(7,3470,1,0,b(3,3470,1,0,b(17,3470,1,0,"f"),".",b(9,3470,11,0,"apply")),0,b(25,3470,17,0),b(17,3470,22,0,"args"))),b(4,3472,1,0,0,b(3,3472,1,0,b(17,3472,12,0,"ret"),"=",b(16,3472,16,0,0,0,0,b(18,3473,1,0,b(3,3473,13,0,b(3,3473,13,0,b(1,3473,13,0),".",b(9,3473,24,0,"length")),"===",b(9,3473,34,0,0)),b(23,3474,1,0,b(17,3474,1,0,"ret")),b(23,3476,1,0,b(7,3476,1,0,b(3,3476,1,0,b(17,3476,1,0,"currier"),".",b(9,3476,1,0,"call")),0,b(25,3476,22,0),b(7,3476,27,0,b(3,3476,27,0,b(17,3476,27,0,"args"),".",b(9,3476,33,0,"concat")),0,b(7,3476,40,0,b(3,3476,40,0,b(17,3476,40,0,"__slice"),".",b(9,3476,40,0,"call")),0,b(1,3476,49,0)))))))),b(23,3477,1,0,b(17,3477,1,0,"ret")))))),b(23,3478,1,0,b(7,3478,1,0,b(17,3478,1,0,"currier"),0,b(2,3478,13,0)))),b(23,3480,1,0,b(17,3480,1,0,"f"))))),type:a.generic(a.functionBase,a["function"]),dependencies:["__slice","__typeof"]},__import:{helper:b(16,3494,26,0,0,[b(17,3494,27,0,"dest"),b(17,3494,32,0,"source")],["k"],b(4,3495,1,0,0,b(15,3495,1,0,b(17,3495,6,0,"k"),b(17,3495,11,0,"source"),b(18,3496,1,0,b(7,3496,1,0,b(3,3496,1,0,b(17,3496,1,0,"__owns"),".",b(9,3496,1,0,"call")),0,b(17,3495,11,0,"source"),b(17,3495,6,0,"k")),b(3,3496,1,0,b(3,3496,1,0,b(17,3496,1,0,"dest"),".",b(17,3496,10,0,"k")),"=",b(3,3496,15,0,b(17,3496,15,0,"source"),".",b(17,3496,23,0,"k"))))),b(23,3497,1,0,b(17,3497,1,0,"dest")))),type:a.generic(a.functionBase,a.object),dependencies:["__owns"]},WeakMap:{helper:b(19,3552,23,0,b(3,3552,26,0,b(30,3552,26,0,"typeof",b(3,3552,39,0,b(17,3552,39,0,"GLOBAL"),".",b(9,3552,47,0,"WeakMap"))),"===",b(9,3552,26,0,"function")),b(3,3552,59,0,b(17,3552,59,0,"GLOBAL"),".",b(9,3552,67,0,"WeakMap")),b(3,3552,79,0,b(17,3552,85,0,"WeakMap"),"=",b(7,3552,79,0,b(16,3552,79,0,0,0,["_WeakMap_prototype","defProp","isExtensible"],b(4,3552,79,0,0,b(16,3559,1,0,b(17,3552,85,0,"WeakMap"),0,["_this"],b(4,3560,1,0,0,b(3,3560,1,0,b(17,3560,1,0,"_this"),"=",b(19,3559,18,0,b(3,3559,18,0,b(13,3559,18,0,b(9,3559,18,0,"this")),"instanceof",b(17,3552,85,0,"WeakMap")),b(13,3559,18,0,b(9,3559,18,0,"this")),b(7,3559,18,0,b(17,3559,18,0,"__create"),0,b(17,3552,79,0,"_WeakMap_prototype")))),b(3,3560,1,0,b(3,3560,1,0,b(17,3560,1,0,"_this"),".",b(9,3560,6,0,"_keys")),"=",b(2,3560,14,0)),b(3,3561,1,0,b(3,3561,1,0,b(17,3561,1,0,"_this"),".",b(9,3561,6,0,"_values")),"=",b(2,3561,16,0)),b(3,3563,1,0,b(3,3563,1,0,b(17,3563,1,0,"_this"),".",b(9,3563,6,0,"_chilly")),"=",b(2,3563,16,0)),b(3,3564,1,0,b(3,3564,1,0,b(17,3564,1,0,"_this"),".",b(9,3564,6,0,"_uid")),"=",b(7,3564,13,0,b(17,3564,13,0,"createUid"),0)),b(23,3560,1,0,b(17,3560,1,0,"_this")))),b(3,3552,85,0,b(17,3552,79,0,"_WeakMap_prototype"),"=",b(3,3552,85,0,b(17,3552,85,0,"WeakMap"),".",b(9,3552,85,0,"prototype"))),b(3,3552,85,0,b(3,3552,85,0,b(17,3552,85,0,"WeakMap"),".",b(9,3552,85,0,"displayName")),"=",b(9,3552,79,0,"WeakMap")),b(16,3553,1,0,b(17,3553,6,0,"uidRand"),0,0,b(23,3554,1,0,b(7,3554,1,0,b(3,3554,1,0,b(7,3554,1,0,b(3,3554,1,0,b(7,3554,1,0,b(3,3554,1,0,b(17,3554,1,0,"Math"),".",b(9,3554,10,0,"random")),0),".",b(9,3554,19,0,"toString")),0,b(9,3554,29,0,36)),".",b(9,3554,33,0,"slice")),0,b(9,3554,39,0,2)))),b(16,3555,1,0,b(17,3555,6,0,"createUid"),0,0,b(23,3556,5,0,b(3,3556,5,0,b(3,3556,5,0,b(3,3556,5,0,b(3,3556,5,0,b(3,3556,5,0,b(3,3556,5,0,b(7,3556,8,0,b(17,3556,8,0,"uidRand"),0),"+",b(9,3556,5,0,"-")),"+",b(7,3556,22,0,b(3,3556,22,0,b(7,3556,22,0,b(17,3556,25,0,"Date"),1),".",b(9,3556,33,0,"getTime")),0)),"+",b(9,3556,5,0,"-")),"+",b(7,3556,47,0,b(17,3556,47,0,"uidRand"),0)),"+",b(9,3556,5,0,"-")),"+",b(7,3556,61,0,b(17,3556,61,0,"uidRand"),0)))),b(3,3557,1,0,b(17,3557,6,0,"isExtensible"),"=",b(3,3557,22,0,b(3,3557,22,0,b(17,3557,22,0,"Object"),".",b(9,3557,30,0,"isExtensible")),"||",b(16,3557,48,0,0,0,0,b(23,3557,50,0,b(9,3557,50,0,!0))))),b(16,3566,1,0,b(17,3566,6,0,"check"),[b(17,3566,13,0,"key")],["chilly","uid"],b(5,3567,1,0,b(3,3567,1,0,b(17,3567,8,0,"uid"),"=",b(3,3567,14,0,b(25,3567,14,0),".",b(9,3567,16,0,"_uid"))),b(19,3568,1,0,b(7,3568,7,0,b(3,3568,7,0,b(17,3568,7,0,"__owns"),".",b(9,3568,7,0,"call")),0,b(17,3568,7,0,"key"),b(17,3568,19,0,"uid")),b(5,3569,1,0,b(3,3569,1,0,b(17,3569,10,0,"chilly"),"=",b(3,3569,19,0,b(25,3569,19,0),".",b(9,3569,21,0,"_chilly"))),b(19,3570,1,0,b(3,3570,9,0,b(7,3570,9,0,b(3,3570,9,0,b(17,3570,9,0,"chilly"),".",b(9,3570,17,0,"indexOf")),0,b(17,3570,26,0,"key")),"===",b(9,3570,33,0,-1)),b(5,3571,1,0,b(7,3571,1,0,b(3,3571,1,0,b(17,3571,1,0,"chilly"),".",b(9,3571,16,0,"push")),0,b(17,3571,21,0,"key")),b(7,3572,1,0,b(3,3572,1,0,b(3,3572,1,0,b(25,3572,1,0),".",b(9,3572,10,0,"_keys")),".",b(9,3572,16,0,"push")),0,b(17,3572,21,0,"key")),b(7,3573,1,0,b(3,3573,1,0,b(3,3573,1,0,b(25,3573,1,0),".",b(9,3573,10,0,"_values")),".",b(9,3573,18,0,"push")),0,b(3,3573,23,0,b(17,3573,23,0,"key"),".",b(17,3573,27,0,"uid"))))))))),b(3,3575,1,0,b(3,3575,1,0,b(17,3552,79,0,"_WeakMap_prototype"),".",b(9,3575,6,0,"get")),"=",b(16,3575,10,0,0,[b(17,3575,11,0,"key")],["_ref","index"],b(4,3576,1,0,0,b(18,3576,1,0,b(3,3576,7,0,b(7,3576,7,0,b(17,3576,7,0,"Object"),0,b(17,3576,15,0,"key")),"!==",b(17,3576,22,0,"key")),b(26,3577,1,0,b(7,3577,12,0,b(17,3577,12,0,"TypeError"),1,b(9,3577,23,0,"Invalid value used as weak map key")))),b(18,3579,1,0,b(7,3579,7,0,b(17,3579,7,0,"isExtensible"),0,b(17,3579,22,0,"key")),b(18,3580,1,0,b(7,3580,1,0,b(3,3580,1,0,b(17,3580,1,0,"__owns"),".",b(9,3580,1,0,"call")),0,b(17,3580,1,0,"key"),b(3,3580,1,0,b(17,3580,1,0,"_ref"),"=",b(3,3580,12,0,b(25,3580,12,0),".",b(9,3580,13,0,"_uid")))),b(23,3580,1,0,b(3,3580,1,0,b(17,3580,1,0,"key"),".",b(17,3580,1,0,"_ref")))),b(4,3582,1,0,0,b(7,3582,1,0,b(3,3582,1,0,b(17,3582,1,0,"check"),".",b(9,3582,1,0,"call")),0,b(25,3582,14,0),b(17,3582,19,0,"key")),b(3,3583,1,0,b(17,3583,10,0,"index"),"=",b(7,3583,18,0,b(3,3583,18,0,b(3,3583,18,0,b(25,3583,18,0),".",b(9,3583,20,0,"_keys")),".",b(9,3583,26,0,"indexOf")),0,b(17,3583,35,0,"key"))),b(18,3584,1,0,b(3,3584,9,0,b(17,3584,9,0,"index"),"!==",b(9,3584,18,0,-1)),b(23,3587,1,0,b(3,3587,1,0,b(3,3587,1,0,b(25,3587,1,0),".",b(9,3587,10,0,"_values")),".",b(17,3587,18,0,"index"))))))))),b(3,3589,1,0,b(3,3589,1,0,b(17,3552,79,0,"_WeakMap_prototype"),".",b(9,3589,6,0,"has")),"=",b(16,3589,10,0,0,[b(17,3589,11,0,"key")],0,b(4,3590,1,0,0,b(18,3590,1,0,b(3,3590,7,0,b(7,3590,7,0,b(17,3590,7,0,"Object"),0,b(17,3590,15,0,"key")),"!==",b(17,3590,22,0,"key")),b(26,3591,1,0,b(7,3591,12,0,b(17,3591,12,0,"TypeError"),1,b(9,3591,23,0,"Invalid value used as weak map key")))),b(18,3593,1,0,b(7,3593,7,0,b(17,3593,7,0,"isExtensible"),0,b(17,3593,22,0,"key")),b(23,3594,1,0,b(7,3594,1,0,b(3,3594,1,0,b(17,3594,1,0,"__owns"),".",b(9,3594,1,0,"call")),0,b(17,3594,1,0,"key"),b(3,3594,18,0,b(25,3594,18,0),".",b(9,3594,20,0,"_uid")))),b(4,3596,1,0,0,b(7,3596,1,0,b(3,3596,1,0,b(17,3596,1,0,"check"),".",b(9,3596,1,0,"call")),0,b(25,3596,14,0),b(17,3596,19,0,"key")),b(23,3597,1,0,b(3,3597,1,0,b(7,3597,1,0,b(3,3597,1,0,b(3,3597,1,0,b(25,3597,1,0),".",b(9,3597,8,0,"_keys")),".",b(9,3597,14,0,"indexOf")),0,b(17,3597,23,0,"key")),"!==",b(9,3597,30,0,-1)))))))),b(18,3599,17,0,b(3,3599,20,0,b(30,3599,20,0,"typeof",b(3,3599,33,0,b(17,3599,33,0,"Object"),".",b(9,3599,41,0,"defineProperty"))),"===",b(9,3599,20,0,"function")),b(3,3599,1,0,b(17,3599,6,0,"defProp"),"=",b(3,3599,61,0,b(17,3599,61,0,"Object"),".",b(9,3599,69,0,"defineProperty"))),b(3,3599,1,0,b(17,3599,6,0,"defProp"),"=",b(16,3599,91,0,0,[b(17,3599,92,0,"o"),b(17,3599,94,0,"k"),b(17,3599,97,0,"d")],0,b(3,3599,104,0,b(3,3599,104,0,b(17,3599,104,0,"o"),".",b(17,3599,107,0,"k")),"=",b(3,3599,112,0,b(17,3599,112,0,"d"),".",b(9,3599,115,0,"value")))))),b(3,3600,1,0,b(3,3600,1,0,b(17,3552,79,0,"_WeakMap_prototype"),".",b(9,3600,6,0,"set")),"=",b(16,3600,10,0,0,[b(17,3600,11,0,"key"),b(17,3600,15,0,"value")],["index","keys"],b(4,3601,1,0,0,b(18,3601,1,0,b(3,3601,7,0,b(7,3601,7,0,b(17,3601,7,0,"Object"),0,b(17,3601,15,0,"key")),"!==",b(17,3601,22,0,"key")),b(26,3602,1,0,b(7,3602,12,0,b(17,3602,12,0,"TypeError"),1,b(9,3602,23,0,"Invalid value used as weak map key")))),b(18,3604,1,0,b(7,3604,7,0,b(17,3604,7,0,"isExtensible"),0,b(17,3604,22,0,"key")),b(7,3605,1,0,b(17,3605,1,0,"defProp"),0,b(17,3605,16,0,"key"),b(3,3605,20,0,b(25,3605,20,0),".",b(9,3605,22,0,"_uid")),b(21,3605,27,0,3606,10,void 0,"configurable",b(9,3606,9,0,!0),3607,10,void 0,"writable",b(9,3607,9,0,!0),3608,10,void 0,"enumerable",b(9,3608,9,0,!1),3609,9,void 0,"value",b(17,3609,9,0,"value"))),b(4,3612,1,0,0,b(7,3612,1,0,b(3,3612,1,0,b(17,3612,1,0,"check"),".",b(9,3612,1,0,"call")),0,b(25,3612,14,0),b(17,3612,19,0,"key")),b(3,3613,1,0,b(17,3613,10,0,"keys"),"=",b(3,3613,17,0,b(25,3613,17,0),".",b(9,3613,19,0,"_keys"))),b(3,3614,1,0,b(17,3614,18,0,"index"),"=",b(7,3614,26,0,b(3,3614,26,0,b(17,3614,26,0,"keys"),".",b(9,3614,32,0,"indexOf")),0,b(17,3614,41,0,"key"))),b(18,3615,1,0,b(3,3615,9,0,b(17,3615,9,0,"index"),"===",b(9,3615,18,0,-1)),b(4,3616,1,0,0,b(3,3616,1,0,b(17,3616,1,0,"index"),"=",b(3,3616,17,0,b(17,3616,17,0,"keys"),".",b(9,3616,23,0,"length"))),b(3,3617,1,0,b(3,3617,1,0,b(17,3617,1,0,"keys"),".",b(17,3617,14,0,"index")),"=",b(17,3617,23,0,"key")))),b(3,3618,1,0,b(3,3618,1,0,b(3,3618,1,0,b(25,3618,1,0),".",b(9,3618,8,0,"_values")),".",b(17,3618,16,0,"index")),"=",b(17,3618,25,0,"value"))))))),b(3,3620,1,0,b(3,3620,1,0,b(17,3552,79,0,"_WeakMap_prototype"),".",b(9,3620,6,0,"delete")),"=",b(16,3620,13,0,0,[b(17,3620,14,0,"key")],["index","keys"],b(4,3621,1,0,0,b(18,3621,1,0,b(3,3621,7,0,b(7,3621,7,0,b(17,3621,7,0,"Object"),0,b(17,3621,15,0,"key")),"!==",b(17,3621,22,0,"key")),b(26,3622,1,0,b(7,3622,12,0,b(17,3622,12,0,"TypeError"),1,b(9,3622,23,0,"Invalid value used as weak map key")))),b(18,3624,1,0,b(7,3624,7,0,b(17,3624,7,0,"isExtensible"),0,b(17,3624,22,0,"key")),b(30,3625,1,0,"delete",b(3,3625,13,0,b(17,3625,13,0,"key"),".",b(3,3625,18,0,b(25,3625,18,0),".",b(9,3625,19,0,"_uid")))),b(4,3627,1,0,0,b(7,3627,1,0,b(3,3627,1,0,b(17,3627,1,0,"check"),".",b(9,3627,1,0,"call")),0,b(25,3627,14,0),b(17,3627,19,0,"key")),b(3,3628,1,0,b(17,3628,10,0,"keys"),"=",b(3,3628,17,0,b(25,3628,17,0),".",b(9,3628,19,0,"_keys"))),b(3,3629,1,0,b(17,3629,18,0,"index"),"=",b(7,3629,26,0,b(3,3629,26,0,b(17,3629,26,0,"keys"),".",b(9,3629,32,0,"indexOf")),0,b(17,3629,41,0,"key"))),b(18,3630,1,0,b(3,3630,9,0,b(17,3630,9,0,"index"),"!==",b(9,3630,18,0,-1)),b(4,3631,1,0,0,b(7,3631,1,0,b(3,3631,1,0,b(17,3631,1,0,"keys"),".",b(9,3631,14,0,"splice")),0,b(17,3631,21,0,"index"),b(9,3631,28,0,1)),b(7,3632,1,0,b(3,3632,1,0,b(3,3632,1,0,b(25,3632,1,0),".",b(9,3632,10,0,"_values")),".",b(9,3632,18,0,"splice")),0,b(17,3632,25,0,"index"),b(9,3632,32,0,1))))))))),b(23,3552,79,0,b(17,3552,85,0,"WeakMap")))),0))),type:a.any,dependencies:["__create","__owns","GLOBAL"]},__indexOfIdentical:{helper:b(16,3634,38,0,0,[b(17,3634,39,0,"array"),b(17,3634,45,0,"item")],["_arr","check","i","inf"],b(4,3635,1,0,0,b(18,3635,1,0,b(3,3635,5,0,b(30,3635,5,0,"typeof",b(17,3635,16,0,"item")),"===",b(9,3635,5,0,"number")),b(18,3636,1,0,b(3,3636,7,0,b(17,3636,7,0,"item"),"!==",b(17,3636,7,0,"item")),b(4,3637,1,0,0,b(14,3637,1,0,b(5,3637,1,0,b(3,3637,1,0,b(17,3637,1,0,"_arr"),"=",b(7,3637,22,0,b(17,3637,22,0,"__toArray"),0,b(17,3637,22,0,"array"))),b(3,3637,17,0,b(17,3637,17,0,"i"),"=",b(3,3637,17,0,b(17,3637,1,0,"_arr"),".",b(9,3637,17,0,"length"))),b(9,0,0,0)),b(30,3637,17,0,"--post",b(17,3637,17,0,"i")),b(20,3637,1,0),b(4,3638,1,0,0,b(3,3638,1,0,b(17,3637,10,0,"check"),"=",b(3,3637,1,0,b(17,3637,1,0,"_arr"),".",b(17,3637,17,0,"i"))),b(18,3638,1,0,b(3,3638,11,0,b(17,3638,11,0,"check"),"!==",b(17,3638,11,0,"check")),b(23,3639,1,0,b(17,3639,17,0,"i"))))),b(23,3640,1,0,b(9,3640,13,0,-1))),b(18,3636,1,0,b(3,3641,12,0,b(17,3641,12,0,"item"),"===",b(9,3641,21,0,0)),b(4,3642,1,0,0,b(3,3642,1,0,b(17,3642,10,0,"inf"),"=",b(3,3642,16,0,b(9,3642,17,0,1),"/",b(17,3642,21,0,"item"))),b(14,3643,1,0,b(5,3643,1,0,b(3,3643,1,0,b(17,3643,1,0,"_arr"),"=",b(7,3643,22,0,b(17,3643,22,0,"__toArray"),0,b(17,3643,22,0,"array"))),b(3,3643,17,0,b(17,3643,17,0,"i"),"=",b(3,3643,17,0,b(17,3643,1,0,"_arr"),".",b(9,3643,17,0,"length"))),b(9,0,0,0)),b(30,3643,17,0,"--post",b(17,3643,17,0,"i")),b(20,3643,1,0),b(4,3644,1,0,0,b(3,3644,1,0,b(17,3643,10,0,"check"),"=",b(3,3643,1,0,b(17,3643,1,0,"_arr"),".",b(17,3643,17,0,"i"))),b(18,3644,1,0,b(3,3644,11,0,b(3,3644,11,0,b(17,3644,11,0,"check"),"===",b(9,3644,21,0,0)),"&&",b(3,3644,26,0,b(3,3644,26,0,b(9,3644,27,0,1),"/",b(17,3644,31,0,"check")),"===",b(17,3644,40,0,"inf"))),b(23,3645,1,0,b(17,3645,17,0,"i"))))),b(23,3646,1,0,b(9,3646,13,0,-1)))))),b(23,3647,1,0,b(7,3647,1,0,b(3,3647,1,0,b(17,3647,1,0,"array"),".",b(9,3647,9,0,"indexOf")),0,b(17,3647,18,0,"item"))))),type:a["function"],dependencies:["__toArray"]},Map:{helper:b(19,3649,19,0,b(3,3649,22,0,b(30,3649,22,0,"typeof",b(3,3649,35,0,b(17,3649,35,0,"GLOBAL"),".",b(9,3649,43,0,"Map"))),"===",b(9,3649,22,0,"function")),b(3,3649,51,0,b(17,3649,51,0,"GLOBAL"),".",b(9,3649,59,0,"Map")),b(3,3649,67,0,b(17,3649,73,0,"Map"),"=",b(7,3649,67,0,b(16,3649,67,0,0,0,["_Map_prototype"],b(4,3649,67,0,0,b(16,3650,1,0,b(17,3649,73,0,"Map"),[b(17,3650,19,0,"iterable")],["_item","_iter","_this","x"],b(4,3651,1,0,0,b(3,3651,1,0,b(17,3651,1,0,"_this"),"=",b(19,3650,18,0,b(3,3650,18,0,b(13,3650,18,0,b(9,3650,18,0,"this")),"instanceof",b(17,3649,73,0,"Map")),b(13,3650,18,0,b(9,3650,18,0,"this")),b(7,3650,18,0,b(17,3650,18,0,"__create"),0,b(17,3649,67,0,"_Map_prototype")))),b(3,3651,1,0,b(3,3651,1,0,b(17,3651,1,0,"_this"),".",b(9,3651,6,0,"_keys")),"=",b(2,3651,14,0)),b(3,3652,1,0,b(3,3652,1,0,b(17,3652,1,0,"_this"),".",b(9,3652,6,0,"_values")),"=",b(2,3652,16,0)),b(18,3653,1,0,b(3,3653,7,0,b(17,3653,7,0,"iterable"),"!=",b(9,0,0,0,null)),b(29,3654,1,0,b(14,3654,1,0,b(3,3654,1,0,b(17,3654,1,0,"_iter"),"=",b(7,3654,1,0,b(17,3654,1,0,"__iter"),0,b(17,3654,17,0,"iterable"))),b(9,0,0,0,!0),b(20,3654,1,0),b(4,3654,17,0,0,b(3,3654,17,0,b(17,3654,1,0,"_item"),"=",b(7,3654,17,0,b(3,3654,17,0,b(17,3654,1,0,"_iter"),".",b(9,3654,17,0,"next")),0)),b(18,3654,17,0,b(3,3654,17,0,b(17,3654,1,0,"_item"),".",b(9,3654,17,0,"done")),b(6,3654,17,0)),b(3,3654,17,0,b(17,3654,10,0,"x"),"=",b(3,3654,17,0,b(17,3654,1,0,"_item"),".",b(9,3654,17,0,"value"))),b(7,3655,1,0,b(3,3655,1,0,b(17,3655,1,0,"_this"),".",b(9,3655,10,0,"set")),0,b(3,3655,14,0,b(17,3655,14,0,"x"),".",b(9,3655,16,0,0)),b(3,3655,19,0,b(17,3655,19,0,"x"),".",b(9,3655,22,0,1))))),b(28,3654,1,0,b(7,3654,1,0,b(3,3654,1,0,b(17,3654,1,0,"_iter"),".",b(9,3654,1,0,"close")),0),b(17,3654,1,0,"_e"),b(9,0,0,0)))),b(23,3651,1,0,b(17,3651,1,0,"_this")))),b(3,3649,73,0,b(17,3649,67,0,"_Map_prototype"),"=",b(3,3649,73,0,b(17,3649,73,0,"Map"),".",b(9,3649,73,0,"prototype"))),b(3,3649,73,0,b(3,3649,73,0,b(17,3649,73,0,"Map"),".",b(9,3649,73,0,"displayName")),"=",b(9,3649,67,0,"Map")),b(3,3657,1,0,b(3,3657,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3657,6,0,"get")),"=",b(16,3657,10,0,0,[b(17,3657,11,0,"key")],["index"],b(4,3658,1,0,0,b(3,3658,1,0,b(17,3658,8,0,"index"),"=",b(7,3658,16,0,b(17,3658,16,0,"__indexOfIdentical"),0,b(3,3658,38,0,b(25,3658,38,0),".",b(9,3658,39,0,"_keys")),b(17,3658,45,0,"key"))),b(18,3659,1,0,b(3,3659,7,0,b(17,3659,7,0,"index"),"!==",b(9,3659,16,0,-1)),b(23,3662,1,0,b(3,3662,1,0,b(3,3662,1,0,b(25,3662,1,0),".",b(9,3662,8,0,"_values")),".",b(17,3662,16,0,"index"))))))),b(3,3664,1,0,b(3,3664,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3664,6,0,"has")),"=",b(16,3664,10,0,0,[b(17,3664,11,0,"key")],0,b(23,3665,1,0,b(3,3665,1,0,b(7,3665,1,0,b(17,3665,1,0,"__indexOfIdentical"),0,b(3,3665,26,0,b(25,3665,26,0),".",b(9,3665,27,0,"_keys")),b(17,3665,33,0,"key")),"!==",b(9,3665,41,0,-1))))),b(3,3667,1,0,b(3,3667,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3667,6,0,"set")),"=",b(16,3667,10,0,0,[b(17,3667,11,0,"key"),b(17,3667,15,0,"value")],["index","keys"],b(5,3668,1,0,b(3,3668,1,0,b(17,3668,8,0,"keys"),"=",b(3,3668,15,0,b(25,3668,15,0),".",b(9,3668,17,0,"_keys"))),b(3,3669,1,0,b(17,3669,16,0,"index"),"=",b(7,3669,24,0,b(17,3669,24,0,"__indexOfIdentical"),0,b(17,3669,46,0,"keys"),b(17,3669,51,0,"key"))),b(19,3670,1,0,b(3,3670,7,0,b(17,3670,7,0,"index"),"===",b(9,3670,16,0,-1)),b(5,3671,1,0,b(3,3671,1,0,b(17,3671,1,0,"index"),"=",b(3,3671,15,0,b(17,3671,15,0,"keys"),".",b(9,3671,21,0,"length"))),b(3,3672,1,0,b(3,3672,1,0,b(17,3672,1,0,"keys"),".",b(17,3672,12,0,"index")),"=",b(17,3672,21,0,"key")))),b(3,3673,1,0,b(3,3673,1,0,b(3,3673,1,0,b(25,3673,1,0),".",b(9,3673,6,0,"_values")),".",b(17,3673,14,0,"index")),"=",b(17,3673,23,0,"value"))))),b(3,3675,1,0,b(3,3675,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3675,6,0,"delete")),"=",b(16,3675,13,0,0,[b(17,3675,14,0,"key")],["index","keys"],b(4,3676,1,0,0,b(3,3676,1,0,b(17,3676,8,0,"keys"),"=",b(3,3676,15,0,b(25,3676,15,0),".",b(9,3676,17,0,"_keys"))),b(3,3677,1,0,b(17,3677,8,0,"index"),"=",b(7,3677,16,0,b(17,3677,16,0,"__indexOfIdentical"),0,b(17,3677,38,0,"keys"),b(17,3677,43,0,"key"))),b(18,3678,1,0,b(3,3678,7,0,b(17,3678,7,0,"index"),"===",b(9,3678,16,0,-1)),b(23,3679,1,0,b(9,3679,1,0,!1)),b(4,3681,1,0,0,b(7,3681,1,0,b(3,3681,1,0,b(17,3681,1,0,"keys"),".",b(9,3681,12,0,"splice")),0,b(17,3681,19,0,"index"),b(9,3681,26,0,1)),b(23,3682,1,0,b(7,3682,1,0,b(3,3682,1,0,b(3,3682,1,0,b(25,3682,1,0),".",b(9,3682,8,0,"_values")),".",b(9,3682,16,0,"splice")),0,b(17,3682,23,0,"index"),b(9,3682,30,0,1)))))))),b(3,3684,1,0,b(3,3684,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3684,6,0,"keys")),"=",b(16,3684,11,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","key"],b(4,3685,1,0,0,b(3,3685,1,0,b(17,3685,1,0,"_this"),"=",b(25,3685,1,0)),b(3,3684,11,0,b(17,3684,11,0,"_state"),"=",b(9,3684,11,0,0)),b(16,3684,11,0,b(17,3684,11,0,"_close"),0,0,b(3,3684,11,0,b(17,3684,11,0,"_state"),"=",b(9,3684,11,0,3))),b(16,3684,11,0,b(17,3684,11,0,"_step"),[b(17,3684,11,0,"_received")],0,b(14,3684,11,0,b(20,3684,11,0),b(9,3684,11,0,!0),b(20,3684,11,0),b(27,3684,11,0,0,b(17,3684,11,0,"_state"),3685,1,0,b(9,3685,1,0,0),b(4,3685,1,0,0,b(3,3685,1,0,b(17,3685,1,0,"_arr"),"=",b(7,3685,15,0,b(17,3685,15,0,"__toArray"),0,b(3,3685,15,0,b(17,3685,15,0,"_this"),".",b(9,3685,17,0,"_keys")))),b(3,3685,1,0,b(17,3685,1,0,"_i"),"=",b(3,3685,1,0,b(17,3685,1,0,"_arr"),".",b(9,3685,1,0,"length"))),b(9,0,0,0),b(30,3685,1,0,"++",b(17,3684,11,0,"_state"))),3685,1,0,b(9,3685,1,0,1),b(4,3685,1,0,0,b(3,3685,1,0,b(17,3684,11,0,"_state"),"=",b(19,3685,1,0,b(30,3685,1,0,"--post",b(17,3685,1,0,"_i")),b(9,3685,1,0,2),b(9,3685,1,0,3))),b(6,3685,1,0)),3686,1,0,b(9,3686,1,0,2),b(4,3686,1,0,0,b(3,3686,1,0,b(17,3685,8,0,"key"),"=",b(3,3685,1,0,b(17,3685,1,0,"_arr"),".",b(17,3685,1,0,"_i"))),b(3,3686,1,0,b(17,3684,11,0,"_state"),"=",b(9,3686,1,0,1)),b(23,3686,1,0,b(21,3686,1,0,3686,1,void 0,"done",b(9,3686,1,0,!1),3686,1,void 0,"value",b(17,3686,12,0,"key")))),3684,11,0,b(9,3684,11,0,3),b(23,3684,11,0,b(21,3684,11,0,3684,11,void 0,"done",b(9,3684,11,0,!0),3684,11,void 0,"value",b(9,3684,11,0))),b(26,3684,11,0,b(7,3684,11,0,b(17,3684,11,0,"Error"),1,b(3,3684,11,0,b(9,3684,11,0,"Unknown state: "),"+",b(17,3684,11,0,"_state"))))))),b(16,3684,11,0,b(17,3684,11,0,"_throw"),[b(17,3684,11,0,"_e")],0,b(4,3684,11,0,0,b(7,3684,11,0,b(17,3684,11,0,"_close"),0),b(26,3684,11,0,b(17,3684,11,0,"_e")))),b(16,3684,11,0,b(17,3684,11,0,"_send"),[b(17,3684,11,0,"_received")],0,b(28,3684,11,0,b(23,3684,11,0,b(7,3684,11,0,b(17,3684,11,0,"_step"),0,b(17,3684,11,0,"_received"))),b(17,3684,11,0,"_e"),b(7,3684,11,0,b(17,3684,11,0,"_throw"),0,b(17,3684,11,0,"_e")))),b(23,3684,11,0,b(21,3684,11,0,3684,11,void 0,"close",b(17,3684,11,0,"_close"),3684,11,void 0,"iterator",b(16,3684,11,0,0,0,0,b(23,3684,11,0,b(25,3684,11,0))),3684,11,void 0,"next",b(16,3684,11,0,0,0,0,b(23,3684,11,0,b(7,3684,11,0,b(17,3684,11,0,"_send"),0,b(9,3684,11,0)))),3684,11,void 0,"send",b(17,3684,11,0,"_send"),3684,11,void 0,"throw",b(16,3684,11,0,0,[b(17,3684,11,0,"_e")],0,b(4,3684,11,0,0,b(7,3684,11,0,b(17,3684,11,0,"_throw"),0,b(17,3684,11,0,"_e")),b(23,3684,11,0,b(7,3684,11,0,b(17,3684,11,0,"_send"),0,b(9,3684,11,0)))))))))),b(3,3688,1,0,b(3,3688,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3688,6,0,"values")),"=",b(16,3688,13,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","value"],b(4,3689,1,0,0,b(3,3689,1,0,b(17,3689,1,0,"_this"),"=",b(25,3689,1,0)),b(3,3688,13,0,b(17,3688,13,0,"_state"),"=",b(9,3688,13,0,0)),b(16,3688,13,0,b(17,3688,13,0,"_close"),0,0,b(3,3688,13,0,b(17,3688,13,0,"_state"),"=",b(9,3688,13,0,3))),b(16,3688,13,0,b(17,3688,13,0,"_step"),[b(17,3688,13,0,"_received")],0,b(14,3688,13,0,b(20,3688,13,0),b(9,3688,13,0,!0),b(20,3688,13,0),b(27,3688,13,0,0,b(17,3688,13,0,"_state"),3689,1,0,b(9,3689,1,0,0),b(4,3689,1,0,0,b(3,3689,1,0,b(17,3689,1,0,"_arr"),"=",b(7,3689,17,0,b(17,3689,17,0,"__toArray"),0,b(3,3689,17,0,b(17,3689,17,0,"_this"),".",b(9,3689,19,0,"_values")))),b(3,3689,1,0,b(17,3689,1,0,"_i"),"=",b(3,3689,1,0,b(17,3689,1,0,"_arr"),".",b(9,3689,1,0,"length"))),b(9,0,0,0),b(30,3689,1,0,"++",b(17,3688,13,0,"_state"))),3689,1,0,b(9,3689,1,0,1),b(4,3689,1,0,0,b(3,3689,1,0,b(17,3688,13,0,"_state"),"=",b(19,3689,1,0,b(30,3689,1,0,"--post",b(17,3689,1,0,"_i")),b(9,3689,1,0,2),b(9,3689,1,0,3))),b(6,3689,1,0)),3690,1,0,b(9,3690,1,0,2),b(4,3690,1,0,0,b(3,3690,1,0,b(17,3689,8,0,"value"),"=",b(3,3689,1,0,b(17,3689,1,0,"_arr"),".",b(17,3689,1,0,"_i"))),b(3,3690,1,0,b(17,3688,13,0,"_state"),"=",b(9,3690,1,0,1)),b(23,3690,1,0,b(21,3690,1,0,3690,1,void 0,"done",b(9,3690,1,0,!1),3690,1,void 0,"value",b(17,3690,12,0,"value")))),3688,13,0,b(9,3688,13,0,3),b(23,3688,13,0,b(21,3688,13,0,3688,13,void 0,"done",b(9,3688,13,0,!0),3688,13,void 0,"value",b(9,3688,13,0))),b(26,3688,13,0,b(7,3688,13,0,b(17,3688,13,0,"Error"),1,b(3,3688,13,0,b(9,3688,13,0,"Unknown state: "),"+",b(17,3688,13,0,"_state"))))))),b(16,3688,13,0,b(17,3688,13,0,"_throw"),[b(17,3688,13,0,"_e")],0,b(4,3688,13,0,0,b(7,3688,13,0,b(17,3688,13,0,"_close"),0),b(26,3688,13,0,b(17,3688,13,0,"_e")))),b(16,3688,13,0,b(17,3688,13,0,"_send"),[b(17,3688,13,0,"_received")],0,b(28,3688,13,0,b(23,3688,13,0,b(7,3688,13,0,b(17,3688,13,0,"_step"),0,b(17,3688,13,0,"_received"))),b(17,3688,13,0,"_e"),b(7,3688,13,0,b(17,3688,13,0,"_throw"),0,b(17,3688,13,0,"_e")))),b(23,3688,13,0,b(21,3688,13,0,3688,13,void 0,"close",b(17,3688,13,0,"_close"),3688,13,void 0,"iterator",b(16,3688,13,0,0,0,0,b(23,3688,13,0,b(25,3688,13,0))),3688,13,void 0,"next",b(16,3688,13,0,0,0,0,b(23,3688,13,0,b(7,3688,13,0,b(17,3688,13,0,"_send"),0,b(9,3688,13,0)))),3688,13,void 0,"send",b(17,3688,13,0,"_send"),3688,13,void 0,"throw",b(16,3688,13,0,0,[b(17,3688,13,0,"_e")],0,b(4,3688,13,0,0,b(7,3688,13,0,b(17,3688,13,0,"_throw"),0,b(17,3688,13,0,"_e")),b(23,3688,13,0,b(7,3688,13,0,b(17,3688,13,0,"_send"),0,b(9,3688,13,0)))))))))),b(3,3692,1,0,b(3,3692,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3692,6,0,"items")),"=",b(16,3692,12,0,0,0,["_arr","_e","_send","_state","_step","_this","_throw","i","key","values"],b(4,3693,1,0,0,b(3,3693,1,0,b(17,3693,1,0,"_this"),"=",b(25,3693,1,0)),b(3,3692,12,0,b(17,3692,12,0,"_state"),"=",b(9,3692,12,0,0)),b(16,3692,12,0,b(17,3692,12,0,"_close"),0,0,b(3,3692,12,0,b(17,3692,12,0,"_state"),"=",b(9,3692,12,0,3))),b(16,3692,12,0,b(17,3692,12,0,"_step"),[b(17,3692,12,0,"_received")],0,b(14,3692,12,0,b(20,3692,12,0),b(9,3692,12,0,!0),b(20,3692,12,0),b(27,3692,12,0,0,b(17,3692,12,0,"_state"),3693,1,0,b(9,3693,1,0,0),b(4,3693,1,0,0,b(3,3693,1,0,b(17,3693,8,0,"values"),"=",b(3,3693,17,0,b(17,3693,17,0,"_this"),".",b(9,3693,19,0,"_values"))),b(3,3694,1,0,b(17,3694,1,0,"_arr"),"=",b(7,3694,18,0,b(17,3694,18,0,"__toArray"),0,b(3,3694,18,0,b(17,3694,18,0,"_this"),".",b(9,3694,20,0,"_keys")))),b(3,3694,13,0,b(17,3694,13,0,"i"),"=",b(3,3694,13,0,b(17,3694,1,0,"_arr"),".",b(9,3694,13,0,"length"))),b(9,0,0,0),b(30,3694,1,0,"++",b(17,3692,12,0,"_state"))),3694,13,0,b(9,3694,13,0,1),b(4,3694,13,0,0,b(3,3694,13,0,b(17,3692,12,0,"_state"),"=",b(19,3694,13,0,b(30,3694,13,0,"--post",b(17,3694,13,0,"i")),b(9,3694,13,0,2),b(9,3694,13,0,3))),b(6,3694,13,0)),3695,1,0,b(9,3695,1,0,2),b(4,3695,1,0,0,b(3,3695,1,0,b(17,3694,8,0,"key"),"=",b(3,3694,1,0,b(17,3694,1,0,"_arr"),".",b(17,3694,13,0,"i"))),b(3,3695,1,0,b(17,3692,12,0,"_state"),"=",b(9,3695,1,0,1)),b(23,3695,1,0,b(21,3695,1,0,3695,1,void 0,"done",b(9,3695,1,0,!1),3695,1,void 0,"value",b(2,3695,12,0,b(17,3695,14,0,"key"),b(3,3695,18,0,b(17,3695,18,0,"values"),".",b(17,3695,26,0,"i")))))),3692,12,0,b(9,3692,12,0,3),b(23,3692,12,0,b(21,3692,12,0,3692,12,void 0,"done",b(9,3692,12,0,!0),3692,12,void 0,"value",b(9,3692,12,0))),b(26,3692,12,0,b(7,3692,12,0,b(17,3692,12,0,"Error"),1,b(3,3692,12,0,b(9,3692,12,0,"Unknown state: "),"+",b(17,3692,12,0,"_state"))))))),b(16,3692,12,0,b(17,3692,12,0,"_throw"),[b(17,3692,12,0,"_e")],0,b(4,3692,12,0,0,b(7,3692,12,0,b(17,3692,12,0,"_close"),0),b(26,3692,12,0,b(17,3692,12,0,"_e")))),b(16,3692,12,0,b(17,3692,12,0,"_send"),[b(17,3692,12,0,"_received")],0,b(28,3692,12,0,b(23,3692,12,0,b(7,3692,12,0,b(17,3692,12,0,"_step"),0,b(17,3692,12,0,"_received"))),b(17,3692,12,0,"_e"),b(7,3692,12,0,b(17,3692,12,0,"_throw"),0,b(17,3692,12,0,"_e")))),b(23,3692,12,0,b(21,3692,12,0,3692,12,void 0,"close",b(17,3692,12,0,"_close"),3692,12,void 0,"iterator",b(16,3692,12,0,0,0,0,b(23,3692,12,0,b(25,3692,12,0))),3692,12,void 0,"next",b(16,3692,12,0,0,0,0,b(23,3692,12,0,b(7,3692,12,0,b(17,3692,12,0,"_send"),0,b(9,3692,12,0)))),3692,12,void 0,"send",b(17,3692,12,0,"_send"),3692,12,void 0,"throw",b(16,3692,12,0,0,[b(17,3692,12,0,"_e")],0,b(4,3692,12,0,0,b(7,3692,12,0,b(17,3692,12,0,"_throw"),0,b(17,3692,12,0,"_e")),b(23,3692,12,0,b(7,3692,12,0,b(17,3692,12,0,"_send"),0,b(9,3692,12,0)))))))))),b(3,3696,1,0,b(3,3696,1,0,b(17,3649,67,0,"_Map_prototype"),".",b(9,3696,6,0,"iterator")),"=",b(3,3696,17,0,b(3,3696,17,0,b(17,3696,17,0,"Map"),".",b(9,3696,17,0,"prototype")),".",b(9,3696,23,0,"items"))),b(23,3649,67,0,b(17,3649,73,0,"Map")))),0))),type:a.any,dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL"]},Set:{helper:b(19,3698,19,0,b(3,3698,22,0,b(30,3698,22,0,"typeof",b(3,3698,35,0,b(17,3698,35,0,"GLOBAL"),".",b(9,3698,43,0,"Set"))),"===",b(9,3698,22,0,"function")),b(3,3698,51,0,b(17,3698,51,0,"GLOBAL"),".",b(9,3698,59,0,"Set")),b(3,3698,67,0,b(17,3698,73,0,"Set"),"=",b(7,3698,67,0,b(16,3698,67,0,0,0,["_Set_prototype"],b(4,3698,67,0,0,b(16,3699,1,0,b(17,3698,73,0,"Set"),[b(17,3699,19,0,"iterable")],["_item","_iter","_this","item"],b(4,3700,1,0,0,b(3,3700,1,0,b(17,3700,1,0,"_this"),"=",b(19,3699,18,0,b(3,3699,18,0,b(13,3699,18,0,b(9,3699,18,0,"this")),"instanceof",b(17,3698,73,0,"Set")),b(13,3699,18,0,b(9,3699,18,0,"this")),b(7,3699,18,0,b(17,3699,18,0,"__create"),0,b(17,3698,67,0,"_Set_prototype")))),b(3,3700,1,0,b(3,3700,1,0,b(17,3700,1,0,"_this"),".",b(9,3700,6,0,"_items")),"=",b(2,3700,15,0)),b(18,3701,1,0,b(3,3701,7,0,b(17,3701,7,0,"iterable"),"!=",b(9,0,0,0,null)),b(29,3702,1,0,b(14,3702,1,0,b(3,3702,1,0,b(17,3702,1,0,"_iter"),"=",b(7,3702,1,0,b(17,3702,1,0,"__iter"),0,b(17,3702,20,0,"iterable"))),b(9,0,0,0,!0),b(20,3702,1,0),b(4,3702,20,0,0,b(3,3702,20,0,b(17,3702,1,0,"_item"),"=",b(7,3702,20,0,b(3,3702,20,0,b(17,3702,1,0,"_iter"),".",b(9,3702,20,0,"next")),0)),b(18,3702,20,0,b(3,3702,20,0,b(17,3702,1,0,"_item"),".",b(9,3702,20,0,"done")),b(6,3702,20,0)),b(3,3702,20,0,b(17,3702,10,0,"item"),"=",b(3,3702,20,0,b(17,3702,1,0,"_item"),".",b(9,3702,20,0,"value"))),b(7,3703,1,0,b(3,3703,1,0,b(17,3703,1,0,"_this"),".",b(9,3703,10,0,"add")),0,b(17,3703,14,0,"item")))),b(28,3702,1,0,b(7,3702,1,0,b(3,3702,1,0,b(17,3702,1,0,"_iter"),".",b(9,3702,1,0,"close")),0),b(17,3702,1,0,"_e"),b(9,0,0,0)))),b(23,3700,1,0,b(17,3700,1,0,"_this")))),b(3,3698,73,0,b(17,3698,67,0,"_Set_prototype"),"=",b(3,3698,73,0,b(17,3698,73,0,"Set"),".",b(9,3698,73,0,"prototype"))),b(3,3698,73,0,b(3,3698,73,0,b(17,3698,73,0,"Set"),".",b(9,3698,73,0,"displayName")),"=",b(9,3698,67,0,"Set")),b(3,3705,1,0,b(3,3705,1,0,b(17,3698,67,0,"_Set_prototype"),".",b(9,3705,6,0,"has")),"=",b(16,3705,10,0,0,[b(17,3705,11,0,"item")],0,b(23,3706,1,0,b(3,3706,1,0,b(7,3706,1,0,b(17,3706,1,0,"__indexOfIdentical"),0,b(3,3706,26,0,b(25,3706,26,0),".",b(9,3706,27,0,"_items")),b(17,3706,34,0,"item")),"!==",b(9,3706,43,0,-1))))),b(3,3707,1,0,b(3,3707,1,0,b(17,3698,67,0,"_Set_prototype"),".",b(9,3707,6,0,"add")),"=",b(16,3707,10,0,0,[b(17,3707,11,0,"item")],["items"],b(5,3708,1,0,b(3,3708,1,0,b(17,3708,8,0,"items"),"=",b(3,3708,16,0,b(25,3708,16,0),".",b(9,3708,18,0,"_items"))),b(19,3709,1,0,b(3,3709,7,0,b(7,3709,7,0,b(17,3709,7,0,"__indexOfIdentical"),0,b(17,3709,29,0,"items"),b(17,3709,35,0,"item")),"===",b(9,3709,44,0,-1)),b(7,3710,1,0,b(3,3710,1,0,b(17,3710,1,0,"items"),".",b(9,3710,13,0,"push")),0,b(17,3710,18,0,"item")))))),b(3,3711,1,0,b(3,3711,1,0,b(17,3698,67,0,"_Set_prototype"),".",b(9,3711,6,0,"delete")),"=",b(16,3711,13,0,0,[b(17,3711,14,0,"item")],["index","items"],b(5,3712,1,0,b(3,3712,1,0,b(17,3712,8,0,"items"),"=",b(3,3712,16,0,b(25,3712,16,0),".",b(9,3712,18,0,"_items"))),b(3,3713,1,0,b(17,3713,8,0,"index"),"=",b(7,3713,16,0,b(17,3713,16,0,"__indexOfIdentical"),0,b(17,3713,38,0,"items"),b(17,3713,44,0,"item"))),b(19,3714,1,0,b(3,3714,7,0,b(17,3714,7,0,"index"),"!==",b(9,3714,16,0,-1)),b(5,3715,1,0,b(7,3715,1,0,b(3,3715,1,0,b(17,3715,1,0,"items"),".",b(9,3715,13,0,"splice")),0,b(17,3715,20,0,"index"),b(9,3715,27,0,1)),b(9,3716,1,0,!0)),b(9,3718,1,0,!1))))),b(3,3719,1,0,b(3,3719,1,0,b(17,3698,67,0,"_Set_prototype"),".",b(9,3719,6,0,"values")),"=",b(16,3719,13,0,0,0,["_arr","_e","_i","_send","_state","_step","_this","_throw","item"],b(4,3720,1,0,0,b(3,3720,1,0,b(17,3720,1,0,"_this"),"=",b(25,3720,1,0)),b(3,3719,13,0,b(17,3719,13,0,"_state"),"=",b(9,3719,13,0,0)),b(16,3719,13,0,b(17,3719,13,0,"_close"),0,0,b(3,3719,13,0,b(17,3719,13,0,"_state"),"=",b(9,3719,13,0,3))),b(16,3719,13,0,b(17,3719,13,0,"_step"),[b(17,3719,13,0,"_received")],0,b(14,3719,13,0,b(20,3719,13,0),b(9,3719,13,0,!0),b(20,3719,13,0),b(27,3719,13,0,0,b(17,3719,13,0,"_state"),3720,1,0,b(9,3720,1,0,0),b(4,3720,1,0,0,b(3,3720,1,0,b(17,3720,1,0,"_arr"),"=",b(7,3720,16,0,b(17,3720,16,0,"__toArray"),0,b(3,3720,16,0,b(17,3720,16,0,"_this"),".",b(9,3720,18,0,"_items")))),b(3,3720,1,0,b(17,3720,1,0,"_i"),"=",b(3,3720,1,0,b(17,3720,1,0,"_arr"),".",b(9,3720,1,0,"length"))),b(9,0,0,0),b(30,3720,1,0,"++",b(17,3719,13,0,"_state"))),3720,1,0,b(9,3720,1,0,1),b(4,3720,1,0,0,b(3,3720,1,0,b(17,3719,13,0,"_state"),"=",b(19,3720,1,0,b(30,3720,1,0,"--post",b(17,3720,1,0,"_i")),b(9,3720,1,0,2),b(9,3720,1,0,3))),b(6,3720,1,0)),3721,1,0,b(9,3721,1,0,2),b(4,3721,1,0,0,b(3,3721,1,0,b(17,3720,8,0,"item"),"=",b(3,3720,1,0,b(17,3720,1,0,"_arr"),".",b(17,3720,1,0,"_i"))),b(3,3721,1,0,b(17,3719,13,0,"_state"),"=",b(9,3721,1,0,1)),b(23,3721,1,0,b(21,3721,1,0,3721,1,void 0,"done",b(9,3721,1,0,!1),3721,1,void 0,"value",b(17,3721,12,0,"item")))),3719,13,0,b(9,3719,13,0,3),b(23,3719,13,0,b(21,3719,13,0,3719,13,void 0,"done",b(9,3719,13,0,!0),3719,13,void 0,"value",b(9,3719,13,0))),b(26,3719,13,0,b(7,3719,13,0,b(17,3719,13,0,"Error"),1,b(3,3719,13,0,b(9,3719,13,0,"Unknown state: "),"+",b(17,3719,13,0,"_state"))))))),b(16,3719,13,0,b(17,3719,13,0,"_throw"),[b(17,3719,13,0,"_e")],0,b(4,3719,13,0,0,b(7,3719,13,0,b(17,3719,13,0,"_close"),0),b(26,3719,13,0,b(17,3719,13,0,"_e")))),b(16,3719,13,0,b(17,3719,13,0,"_send"),[b(17,3719,13,0,"_received")],0,b(28,3719,13,0,b(23,3719,13,0,b(7,3719,13,0,b(17,3719,13,0,"_step"),0,b(17,3719,13,0,"_received"))),b(17,3719,13,0,"_e"),b(7,3719,13,0,b(17,3719,13,0,"_throw"),0,b(17,3719,13,0,"_e")))),b(23,3719,13,0,b(21,3719,13,0,3719,13,void 0,"close",b(17,3719,13,0,"_close"),3719,13,void 0,"iterator",b(16,3719,13,0,0,0,0,b(23,3719,13,0,b(25,3719,13,0))),3719,13,void 0,"next",b(16,3719,13,0,0,0,0,b(23,3719,13,0,b(7,3719,13,0,b(17,3719,13,0,"_send"),0,b(9,3719,13,0)))),3719,13,void 0,"send",b(17,3719,13,0,"_send"),3719,13,void 0,"throw",b(16,3719,13,0,0,[b(17,3719,13,0,"_e")],0,b(4,3719,13,0,0,b(7,3719,13,0,b(17,3719,13,0,"_throw"),0,b(17,3719,13,0,"_e")),b(23,3719,13,0,b(7,3719,13,0,b(17,3719,13,0,"_send"),0,b(9,3719,13,0)))))))))),b(3,3722,1,0,b(3,3722,1,0,b(17,3698,67,0,"_Set_prototype"),".",b(9,3722,6,0,"iterator")),"=",b(3,3722,17,0,b(3,3722,17,0,b(17,3722,17,0,"Set"),".",b(9,3722,17,0,"prototype")),".",b(9,3722,23,0,"values"))),b(23,3698,67,0,b(17,3698,73,0,"Set")))),0))),type:a.any,dependencies:["__create","__indexOfIdentical","__iter","__toArray","GLOBAL"]},setImmediate:{helper:b(19,3778,29,0,b(3,3778,32,0,b(30,3778,32,0,"typeof",b(3,3778,45,0,b(17,3778,45,0,"GLOBAL"),".",b(9,3778,53,0,"setImmediate"))),"===",b(9,3778,32,0,"function")),b(3,3779,1,0,b(17,3779,1,0,"GLOBAL"),".",b(9,3779,10,0,"setImmediate")),b(19,3778,29,0,b(3,3780,8,0,b(3,3780,8,0,b(30,3780,12,0,"typeof",b(17,3780,21,0,"process")),"!==",b(9,3780,12,0,"undefined")),"&&",b(3,3780,33,0,b(30,3780,33,0,"typeof",b(3,3780,46,0,b(17,3780,46,0,"process"),".",b(9,3780,55,0,"nextTick"))),"===",b(9,3780,33,0,"function"))),b(7,3781,1,0,b(16,3781,1,0,0,[b(17,3781,5,0,"nextTick")],0,b(23,3781,1,0,b(16,3783,1,0,0,[b(17,3782,7,0,"func")],["args"],b(4,3783,1,0,0,b(18,3782,7,0,b(3,3782,7,0,b(30,3782,7,0,"typeof",b(17,3782,7,0,"func")),"!==",b(9,3782,7,0,"function")),b(26,3782,7,0,b(7,3782,7,0,b(17,3782,7,0,"TypeError"),1,b(3,3782,7,0,b(9,3782,7,0,"Expected func to be a Function, got "),"+",b(7,3782,7,0,b(17,3782,7,0,"__typeof"),0,b(17,3782,7,0,"func")))))),b(3,3782,18,0,b(17,3782,22,0,"args"),"=",b(7,3782,18,0,b(3,3782,18,0,b(17,3782,18,0,"__slice"),".",b(9,3782,18,0,"call")),0,b(1,3782,18,0),b(9,3782,6,0,1))),b(18,3783,1,0,b(3,3783,9,0,b(17,3783,9,0,"args"),".",b(9,3783,15,0,"length")),b(23,3784,1,0,b(7,3784,1,0,b(17,3784,1,0,"nextTick"),0,b(16,3784,20,0,0,0,0,b(7,3784,23,0,b(3,3784,23,0,b(17,3784,23,0,"func"),".",b(9,3784,23,0,"apply")),0,b(9,3784,23,0),b(7,3784,32,0,b(17,3784,32,0,"__toArray"),0,b(17,3784,32,0,"args")))))),b(23,3786,1,0,b(7,3786,1,0,b(17,3786,1,0,"nextTick"),0,b(17,3786,19,0,"func")))))))),0,b(3,3781,17,0,b(17,3781,17,0,"process"),".",b(9,3781,26,0,"nextTick"))),b(16,3789,1,0,0,[b(17,3788,5,0,"func")],["args"],b(4,3789,1,0,0,b(18,3788,5,0,b(3,3788,5,0,b(30,3788,5,0,"typeof",b(17,3788,5,0,"func")),"!==",b(9,3788,5,0,"function")),b(26,3788,5,0,b(7,3788,5,0,b(17,3788,5,0,"TypeError"),1,b(3,3788,5,0,b(9,3788,5,0,"Expected func to be a Function, got "),"+",b(7,3788,5,0,b(17,3788,5,0,"__typeof"),0,b(17,3788,5,0,"func")))))),b(3,3788,16,0,b(17,3788,20,0,"args"),"=",b(7,3788,16,0,b(3,3788,16,0,b(17,3788,16,0,"__slice"),".",b(9,3788,16,0,"call")),0,b(1,3788,16,0),b(9,3788,4,0,1))),b(18,3789,1,0,b(3,3789,7,0,b(17,3789,7,0,"args"),".",b(9,3789,13,0,"length")),b(23,3790,1,0,b(7,3790,1,0,b(17,3790,1,0,"setTimeout"),0,b(16,3790,20,0,0,0,0,b(7,3790,23,0,b(3,3790,23,0,b(17,3790,23,0,"func"),".",b(9,3790,23,0,"apply")),0,b(9,3790,23,0),b(17,3790,32,0,"args"))),b(9,3790,39,0,0))),b(23,3792,1,0,b(7,3792,1,0,b(17,3792,1,0,"setTimeout"),0,b(17,3792,19,0,"func"),b(9,3792,25,0,0)))))))),type:a.any,dependencies:["__slice","__toArray","__typeof","GLOBAL"]},__defer:{helper:b(7,3794,23,0,b(16,3794,23,0,0,0,0,b(4,3794,23,0,0,b(16,3795,1,0,b(17,3795,6,0,"__defer"),0,["deferred","isError","value"],b(4,3796,1,0,0,b(3,3796,1,0,b(17,3796,16,0,"isError"),"=",b(9,3796,27,0,!1)),b(3,3797,1,0,b(17,3797,16,0,"value"),"=",b(9,3797,24,0,null)),b(3,3799,1,0,b(17,3799,16,0,"deferred"),"=",b(2,3799,41,0)),b(16,3800,1,0,b(17,3800,8,0,"complete"),[b(17,3800,18,0,"newIsError"),b(17,3800,31,0,"newValue")],["funcs"],b(19,3801,1,0,b(17,3801,9,0,"deferred"),b(5,3802,1,0,b(3,3802,1,0,b(17,3802,12,0,"funcs"),"=",b(17,3802,29,0,"deferred")),b(3,3803,1,0,b(17,3803,1,0,"deferred"),"=",b(9,3803,20,0,null)),b(3,3804,1,0,b(17,3804,1,0,"isError"),"=",b(17,3804,20,0,"newIsError")),b(3,3805,1,0,b(17,3805,1,0,"value"),"=",b(17,3805,17,0,"newValue")),b(19,3806,1,0,b(3,3806,11,0,b(17,3806,11,0,"funcs"),".",b(9,3806,18,0,"length")),b(7,3807,1,0,b(17,3807,1,0,"setImmediate"),0,b(16,3807,26,0,0,0,["_end","i"],b(14,3808,1,0,b(5,3808,1,0,b(3,3808,22,0,b(17,3808,16,0,"i"),"=",b(9,3808,22,0,0)),b(3,3808,1,0,b(17,3808,1,0,"_end"),"=",b(3,3808,27,0,b(17,3808,27,0,"funcs"),".",b(9,3808,34,0,"length")))),b(3,3808,21,0,b(17,3808,16,0,"i"),"<",b(17,3808,1,0,"_end")),b(30,3808,21,0,"++",b(17,3808,16,0,"i")),b(7,3809,1,0,b(3,3809,1,0,b(17,3809,1,0,"funcs"),".",b(17,3809,21,0,"i")),0)))))))),b(23,3811,1,0,b(21,3811,1,0,3812,7,void 0,"promise",b(21,3812,15,0,3813,9,void 0,"then",b(16,3813,16,0,0,[b(17,3813,17,0,"onFulfilled"),b(17,3813,30,0,"onRejected"),b(17,3813,51,0,"allowSync")],["_ref","fulfill","promise","reject"],b(4,3814,1,0,0,b(18,3814,1,0,b(3,3814,13,0,b(17,3814,13,0,"allowSync"),"!==",b(9,3814,27,0,!0)),b(3,3815,1,0,b(17,3815,1,0,"allowSync"),"=",b(9,3815,26,0))),b(3,3816,1,0,b(17,3816,1,0,"_ref"),"=",b(7,3816,43,0,b(17,3816,43,0,"__defer"),0)),b(3,3816,1,0,b(17,3816,16,0,"promise"),"=",b(3,3816,1,0,b(17,3816,1,0,"_ref"),".",b(9,3816,1,0,"promise"))),b(3,3816,1,0,b(17,3816,24,0,"fulfill"),"=",b(3,3816,1,0,b(17,3816,1,0,"_ref"),".",b(9,3816,1,0,"fulfill"))),b(3,3816,1,0,b(17,3816,33,0,"reject"),"=",b(3,3816,1,0,b(17,3816,1,0,"_ref"),".",b(9,3816,1,0,"reject"))),b(3,3816,1,0,b(17,3816,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(16,3817,1,0,b(17,3817,14,0,"step"),0,["f","result"],b(28,3817,27,0,b(4,3818,1,0,0,b(18,3818,20,0,b(17,3818,23,0,"isError"),b(3,3818,1,0,b(17,3818,16,0,"f"),"=",b(17,3818,37,0,"onRejected")),b(3,3818,1,0,b(17,3818,16,0,"f"),"=",b(17,3818,54,0,"onFulfilled"))),b(18,3819,1,0,b(3,3819,15,0,b(30,3819,15,0,"typeof",b(17,3819,28,0,"f")),"===",b(9,3819,15,0,"function")),b(4,3820,1,0,0,b(3,3820,1,0,b(17,3820,18,0,"result"),"=",b(7,3820,27,0,b(17,3820,27,0,"f"),0,b(17,3820,30,0,"value"))),b(18,3821,1,0,b(3,3821,17,0,b(17,3821,17,0,"result"),"&&",b(3,3821,28,0,b(30,3821,28,0,"typeof",b(3,3821,41,0,b(17,3821,41,0,"result"),".",b(9,3821,49,0,"then"))),"===",b(9,3821,28,0,"function"))),b(7,3822,1,0,b(3,3822,1,0,b(17,3822,1,0,"result"),".",b(9,3822,24,0,"then")),0,b(17,3822,29,0,"fulfill"),b(17,3822,37,0,"reject"),b(17,3822,45,0,"allowSync")),b(7,3824,1,0,b(17,3824,1,0,"fulfill"),0,b(17,3824,25,0,"result")))),b(7,3826,1,0,b(19,3826,16,0,b(17,3826,18,0,"isError"),b(17,3826,32,0,"reject"),b(17,3826,44,0,"fulfill")),0,b(17,3826,54,0,"value")))),b(17,3827,16,0,"e"),b(7,3828,1,0,b(17,3828,1,0,"reject"),0,b(17,3828,20,0,"e")))),b(18,3830,1,0,b(17,3830,13,0,"deferred"),b(7,3831,1,0,b(3,3831,1,0,b(17,3831,1,0,"deferred"),".",b(9,3831,22,0,"push")),0,b(17,3831,27,0,"step")),b(18,3830,1,0,b(17,3832,18,0,"allowSync"),b(7,3833,1,0,b(17,3833,1,0,"step"),0),b(7,3835,1,0,b(17,3835,1,0,"setImmediate"),0,b(17,3835,27,0,"step")))),b(23,3836,1,0,b(17,3836,1,0,"promise")))),3837,9,void 0,"sync",b(16,3837,16,0,0,0,["result","state"],b(4,3838,1,0,0,b(3,3838,1,0,b(17,3838,22,0,"state"),"=",b(9,3838,31,0,0)),b(3,3839,1,0,b(17,3839,22,0,"result"),"=",b(9,3839,32,0,0)),b(7,3840,1,0,b(3,3840,1,0,b(25,3840,1,0),".",b(9,3840,12,0,"then")),0,b(16,3841,14,0,0,[b(17,3841,15,0,"ret")],0,b(5,3842,1,0,b(3,3842,1,0,b(17,3842,1,0,"state"),"=",b(9,3842,24,0,1)),b(3,3843,1,0,b(17,3843,1,0,"result"),"=",b(17,3843,24,0,"ret")))),b(16,3844,14,0,0,[b(17,3844,15,0,"err")],0,b(5,3845,1,0,b(3,3845,1,0,b(17,3845,1,0,"state"),"=",b(9,3845,24,0,2)),b(3,3846,1,0,b(17,3846,1,0,"result"),"=",b(17,3846,24,0,"err")))),b(9,3847,13,0,!0)),b(27,3848,1,0,0,b(17,3848,17,0,"state"),3849,16,0,b(9,3849,16,0,0),b(26,3850,1,0,b(7,3850,18,0,b(17,3850,18,0,"Error"),1,b(9,3850,25,0,"Promise did not execute synchronously"))),3851,16,0,b(9,3851,16,0,1),b(23,3852,1,0,b(17,3852,19,0,"result")),3853,16,0,b(9,3853,16,0,2),b(26,3854,1,0,b(17,3854,18,0,"result")),b(26,3856,1,0,b(7,3856,18,0,b(17,3856,18,0,"Error"),1,b(9,3856,25,0,"Unknown state"))))))),3858,7,void 0,"fulfill",b(16,3858,14,0,0,[b(17,3858,15,0,"value")],0,b(7,3858,25,0,b(17,3858,25,0,"complete"),0,b(9,3858,35,0,!1),b(17,3858,41,0,"value"))),3859,7,void 0,"reject",b(16,3859,13,0,0,[b(17,3859,14,0,"reason")],0,b(7,3859,25,0,b(17,3859,25,0,"complete"),0,b(9,3859,35,0,!0),b(17,3859,40,0,"reason"))))))),b(3,3861,1,0,b(3,3861,1,0,b(17,3861,1,0,"__defer"),".",b(9,3861,11,0,"fulfilled")),"=",b(16,3861,25,0,0,[b(17,3861,26,0,"value")],["d"],b(4,3862,1,0,0,b(3,3862,1,0,b(17,3862,8,0,"d"),"=",b(7,3862,12,0,b(17,3862,12,0,"__defer"),0)),b(7,3863,1,0,b(3,3863,1,0,b(17,3863,1,0,"d"),".",b(9,3863,7,0,"fulfill")),0,b(17,3863,15,0,"value")),b(23,3864,1,0,b(3,3864,1,0,b(17,3864,1,0,"d"),".",b(9,3864,7,0,"promise")))))),b(3,3865,1,0,b(3,3865,1,0,b(17,3865,1,0,"__defer"),".",b(9,3865,11,0,"rejected")),"=",b(16,3865,24,0,0,[b(17,3865,25,0,"reason")],["d"],b(4,3866,1,0,0,b(3,3866,1,0,b(17,3866,8,0,"d"),"=",b(7,3866,12,0,b(17,3866,12,0,"__defer"),0)),b(7,3867,1,0,b(3,3867,1,0,b(17,3867,1,0,"d"),".",b(9,3867,7,0,"reject")),0,b(17,3867,14,0,"reason")),b(23,3868,1,0,b(3,3868,1,0,b(17,3868,1,0,"d"),".",b(9,3868,7,0,"promise")))))),b(23,3869,1,0,b(17,3869,1,0,"__defer")))),0),type:a.generic(a.functionBase,a.makeObject({fulfill:a.generic(a.functionBase,a.undefined),promise:a.makeObject({sync:a["function"],then:a["function"]}),reject:a.generic(a.functionBase,a.undefined)})),dependencies:["setImmediate"]},__generatorToPromise:{helper:b(16,3872,1,0,0,[b(17,3871,41,0,"generator"),b(17,3871,82,0,"allowSync")],0,b(4,3872,1,0,0,b(18,3871,41,0,b(3,3871,41,0,b(3,3871,41,0,b(30,3871,41,0,"typeof",b(17,3871,41,0,"generator")),"!==",b(9,3871,41,0,"object")),"||",b(3,3871,41,0,b(17,3871,41,0,"generator"),"===",b(9,0,0,0,null))),b(26,3871,41,0,b(7,3871,41,0,b(17,3871,41,0,"TypeError"),1,b(3,3871,41,0,b(9,3871,41,0,"Expected generator to be an Object, got "),"+",b(7,3871,41,0,b(17,3871,41,0,"__typeof"),0,b(17,3871,41,0,"generator"))))),b(4,3871,40,0,0,b(18,3871,41,0,b(3,3871,41,0,b(30,3871,41,0,"typeof",b(3,3871,41,0,b(17,3871,41,0,"generator"),".",b(9,3871,55,0,"send"))),"!==",b(9,3871,41,0,"function")),b(26,3871,41,0,b(7,3871,41,0,b(17,3871,41,0,"TypeError"),1,b(3,3871,41,0,b(9,3871,41,0,"Expected generator.send to be a Function, got "),"+",b(7,3871,41,0,b(17,3871,41,0,"__typeof"),0,b(3,3871,41,0,b(17,3871,41,0,"generator"),".",b(9,3871,55,0,"send"))))))),b(18,3871,41,0,b(3,3871,41,0,b(30,3871,41,0,"typeof",b(3,3871,41,0,b(17,3871,41,0,"generator"),".",b(9,3871,67,0,"throw"))),"!==",b(9,3871,41,0,"function")),b(26,3871,41,0,b(7,3871,41,0,b(17,3871,41,0,"TypeError"),1,b(3,3871,41,0,b(9,3871,41,0,"Expected generator.throw to be a Function, got "),"+",b(7,3871,41,0,b(17,3871,41,0,"__typeof"),0,b(3,3871,41,0,b(17,3871,41,0,"generator"),".",b(9,3871,67,0,"throw"))))))))),b(18,3871,82,0,b(3,3871,82,0,b(17,3871,82,0,"allowSync"),"==",b(9,0,0,0,null)),b(3,3871,82,0,b(17,3871,82,0,"allowSync"),"=",b(9,0,0,0,!1)),b(18,3871,82,0,b(3,3871,82,0,b(30,3871,82,0,"typeof",b(17,3871,82,0,"allowSync")),"!==",b(9,3871,82,0,"boolean")),b(26,3871,82,0,b(7,3871,82,0,b(17,3871,82,0,"TypeError"),1,b(3,3871,82,0,b(9,3871,82,0,"Expected allowSync to be a Boolean, got "),"+",b(7,3871,82,0,b(17,3871,82,0,"__typeof"),0,b(17,3871,82,0,"allowSync"))))))),b(16,3872,1,0,b(17,3872,6,0,"continuer"),[b(17,3872,17,0,"verb"),b(17,3872,22,0,"arg")],["item"],b(4,3873,1,0,0,b(28,3874,1,0,b(3,3875,1,0,b(17,3875,1,0,"item"),"=",b(7,3875,14,0,b(3,3875,14,0,b(17,3875,14,0,"generator"),".",b(17,3875,25,0,"verb")),0,b(17,3875,31,0,"arg"))),b(17,3876,10,0,"e"),b(23,3877,1,0,b(7,3877,13,0,b(3,3877,13,0,b(17,3877,13,0,"__defer"),".",b(9,3877,22,0,"rejected")),0,b(17,3877,31,0,"e")))),b(18,3878,1,0,b(3,3878,7,0,b(17,3878,7,0,"item"),".",b(9,3878,13,0,"done")),b(23,3879,1,0,b(7,3879,1,0,b(3,3879,1,0,b(17,3879,1,0,"__defer"),".",b(9,3879,15,0,"fulfilled")),0,b(3,3879,25,0,b(17,3879,25,0,"item"),".",b(9,3879,30,0,"value")))),b(23,3881,1,0,b(7,3881,1,0,b(3,3881,1,0,b(3,3881,1,0,b(17,3881,1,0,"item"),".",b(9,3881,12,0,"value")),".",b(9,3881,18,0,"then")),0,b(17,3881,23,0,"callback"),b(17,3881,32,0,"errback"),b(17,3881,41,0,"allowSync")))))),b(16,3882,1,0,b(17,3882,6,0,"callback"),[b(17,3882,16,0,"value")],0,b(23,3882,25,0,b(7,3882,25,0,b(17,3882,25,0,"continuer"),0,b(9,3882,37,0,"send"),b(17,3882,42,0,"value")))),b(16,3883,1,0,b(17,3883,6,0,"errback"),[b(17,3883,15,0,"value")],0,b(23,3883,24,0,b(7,3883,24,0,b(17,3883,24,0,"continuer"),0,b(9,3883,36,0,"throw"),b(17,3883,42,0,"value")))),b(23,3884,1,0,b(7,3884,1,0,b(17,3884,1,0,"callback"),0,b(9,3884,12,0))))),type:a["function"],dependencies:["__defer","__typeof"]},__promise:{helper:b(16,3887,1,0,0,[b(17,3886,35,0,"value"),b(17,3886,42,0,"allowSync")],["factory"],b(4,3887,1,0,0,b(18,3886,42,0,b(3,3886,42,0,b(17,3886,42,0,"allowSync"),"==",b(9,0,0,0,null)),b(3,3886,42,0,b(17,3886,42,0,"allowSync"),"=",b(9,0,0,0,!1)),b(18,3886,42,0,b(3,3886,42,0,b(30,3886,42,0,"typeof",b(17,3886,42,0,"allowSync")),"!==",b(9,3886,42,0,"boolean")),b(26,3886,42,0,b(7,3886,42,0,b(17,3886,42,0,"TypeError"),1,b(3,3886,42,0,b(9,3886,42,0,"Expected allowSync to be a Boolean, got "),"+",b(7,3886,42,0,b(17,3886,42,0,"__typeof"),0,b(17,3886,42,0,"allowSync"))))))),b(18,3887,1,0,b(3,3887,5,0,b(30,3887,5,0,"typeof",b(17,3887,18,0,"value")),"===",b(9,3887,5,0,"function")),b(4,3888,1,0,0,b(3,3888,1,0,b(17,3888,8,0,"factory"),"=",b(16,3888,16,0,0,0,0,b(23,3888,21,0,b(7,3888,21,0,b(17,3888,21,0,"__generatorToPromise"),0,b(7,3888,45,0,b(3,3888,45,0,b(17,3888,45,0,"value"),".",b(9,3888,45,0,"apply")),0,b(25,3888,52,0),b(1,3888,61,0)))))),b(3,3889,1,0,b(3,3889,1,0,b(17,3889,1,0,"factory"),".",b(9,3889,13,0,"sync")),"=",b(16,3889,22,0,0,0,0,b(23,3889,24,0,b(7,3889,24,0,b(3,3889,24,0,b(7,3889,24,0,b(17,3889,24,0,"__generatorToPromise"),0,b(7,3889,48,0,b(3,3889,48,0,b(17,3889,48,0,"value"),".",b(9,3889,48,0,"apply")),0,b(25,3889,55,0),b(1,3889,64,0)),b(9,3889,75,0,!0)),".",b(9,3889,82,0,"sync")),0)))),b(3,3890,1,0,b(3,3890,1,0,b(17,3890,1,0,"factory"),".",b(9,3890,13,0,"maybeSync")),"=",b(16,3890,28,0,0,0,0,b(23,3890,30,0,b(7,3890,30,0,b(17,3890,30,0,"__generatorToPromise"),0,b(7,3890,54,0,b(3,3890,54,0,b(17,3890,54,0,"value"),".",b(9,3890,54,0,"apply")),0,b(25,3890,61,0),b(1,3890,70,0)),b(9,3890,81,0,!0))))),b(23,3891,1,0,b(17,3891,1,0,"factory"))),b(23,3893,1,0,b(7,3893,1,0,b(17,3893,1,0,"__generatorToPromise"),0,b(17,3893,28,0,"value"),b(17,3893,34,0,"allowSync")))))),type:a["function"],dependencies:["__generatorToPromise","__toArray","__typeof"]},__fromPromise:{helper:b(16,3930,64,0,0,[b(17,3930,33,0,"promise")],0,b(4,3930,64,0,0,b(18,3930,33,0,b(3,3930,33,0,b(3,3930,33,0,b(30,3930,33,0,"typeof",b(17,3930,33,0,"promise")),"!==",b(9,3930,33,0,"object")),"||",b(3,3930,33,0,b(17,3930,33,0,"promise"),"===",b(9,0,0,0,null))),b(26,3930,33,0,b(7,3930,33,0,b(17,3930,33,0,"TypeError"),1,b(3,3930,33,0,b(9,3930,33,0,"Expected promise to be an Object, got "),"+",b(7,3930,33,0,b(17,3930,33,0,"__typeof"),0,b(17,3930,33,0,"promise"))))),b(18,3930,33,0,b(3,3930,33,0,b(30,3930,33,0,"typeof",b(3,3930,33,0,b(17,3930,33,0,"promise"),".",b(9,3930,45,0,"then"))),"!==",b(9,3930,33,0,"function")),b(26,3930,33,0,b(7,3930,33,0,b(17,3930,33,0,"TypeError"),1,b(3,3930,33,0,b(9,3930,33,0,"Expected promise.then to be a Function, got "),"+",b(7,3930,33,0,b(17,3930,33,0,"__typeof"),0,b(3,3930,33,0,b(17,3930,33,0,"promise"),".",b(9,3930,45,0,"then")))))))),b(23,3930,64,0,b(16,3931,1,0,0,[b(17,3930,65,0,"callback")],0,b(4,3931,1,0,0,b(18,3930,65,0,b(3,3930,65,0,b(30,3930,65,0,"typeof",b(17,3930,65,0,"callback")),"!==",b(9,3930,65,0,"function")),b(26,3930,65,0,b(7,3930,65,0,b(17,3930,65,0,"TypeError"),1,b(3,3930,65,0,b(9,3930,65,0,"Expected callback to be a Function, got "),"+",b(7,3930,65,0,b(17,3930,65,0,"__typeof"),0,b(17,3930,65,0,"callback")))))),b(7,3931,1,0,b(3,3931,1,0,b(17,3931,1,0,"promise"),".",b(9,3931,11,0,"then")),0,b(16,3932,6,0,0,[b(17,3932,7,0,"value")],0,b(23,3932,13,0,b(7,3932,13,0,b(17,3932,13,0,"setImmediate"),0,b(17,3932,28,0,"callback"),b(9,3932,37,0,null),b(17,3932,43,0,"value")))),b(16,3933,6,0,0,[b(17,3933,7,0,"reason")],0,b(23,3933,14,0,b(7,3933,14,0,b(17,3933,14,0,"setImmediate"),0,b(17,3933,29,0,"callback"),b(17,3933,38,0,"reason")))))))))),type:a.generic(a.functionBase,a.generic(a.functionBase,a.undefined)),dependencies:["__typeof","setImmediate"]},__toPromise:{helper:b(16,3941,1,0,0,[b(17,3940,31,0,"func"),b(17,3940,42,0,"context"),b(17,3940,51,0,"args")],["_ref","fulfill","promise","reject"],b(4,3941,1,0,0,b(18,3940,31,0,b(3,3940,31,0,b(30,3940,31,0,"typeof",b(17,3940,31,0,"func")),"!==",b(9,3940,31,0,"function")),b(26,3940,31,0,b(7,3940,31,0,b(17,3940,31,0,"TypeError"),1,b(3,3940,31,0,b(9,3940,31,0,"Expected func to be a Function, got "),"+",b(7,3940,31,0,b(17,3940,31,0,"__typeof"),0,b(17,3940,31,0,"func")))))),b(3,3941,1,0,b(17,3941,1,0,"_ref"),"=",b(7,3941,35,0,b(17,3941,35,0,"__defer"),0)),b(3,3941,1,0,b(17,3941,8,0,"promise"),"=",b(3,3941,1,0,b(17,3941,1,0,"_ref"),".",b(9,3941,1,0,"promise"))),b(3,3941,1,0,b(17,3941,16,0,"reject"),"=",b(3,3941,1,0,b(17,3941,1,0,"_ref"),".",b(9,3941,1,0,"reject"))),b(3,3941,1,0,b(17,3941,24,0,"fulfill"),"=",b(3,3941,1,0,b(17,3941,1,0,"_ref"),".",b(9,3941,1,0,"fulfill"))),b(3,3941,1,0,b(17,3941,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(7,3942,1,0,b(3,3942,1,0,b(17,3942,1,0,"func"),".",b(9,3942,1,0,"apply")),0,b(17,3942,9,0,"context"),b(7,3942,1,0,b(3,3942,1,0,b(7,3942,21,0,b(17,3942,21,0,"__toArray"),0,b(17,3942,21,0,"args")),".",b(9,3942,1,0,"concat")),0,b(2,3942,28,0,b(16,3942,28,0,0,[b(17,3942,29,0,"err"),b(17,3942,33,0,"value")],0,b(19,3943,1,0,b(3,3943,7,0,b(17,3943,7,0,"err"),"!=",b(9,0,0,0,null)),b(7,3944,1,0,b(17,3944,1,0,"reject"),0,b(17,3944,14,0,"err")),b(7,3946,1,0,b(17,3946,1,0,"fulfill"),0,b(17,3946,15,0,"value"))))))),b(23,3947,1,0,b(17,3947,1,0,"promise")))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__toArray","__typeof"]},__toPromiseArray:{helper:b(16,3980,1,0,0,[b(17,3979,37,0,"func"),b(17,3979,48,0,"context"),b(17,3979,57,0,"args")],["_ref","fulfill","promise","reject"],b(4,3980,1,0,0,b(18,3979,37,0,b(3,3979,37,0,b(30,3979,37,0,"typeof",b(17,3979,37,0,"func")),"!==",b(9,3979,37,0,"function")),b(26,3979,37,0,b(7,3979,37,0,b(17,3979,37,0,"TypeError"),1,b(3,3979,37,0,b(9,3979,37,0,"Expected func to be a Function, got "),"+",b(7,3979,37,0,b(17,3979,37,0,"__typeof"),0,b(17,3979,37,0,"func")))))),b(3,3980,1,0,b(17,3980,1,0,"_ref"),"=",b(7,3980,35,0,b(17,3980,35,0,"__defer"),0)),b(3,3980,1,0,b(17,3980,8,0,"promise"),"=",b(3,3980,1,0,b(17,3980,1,0,"_ref"),".",b(9,3980,1,0,"promise"))),b(3,3980,1,0,b(17,3980,16,0,"reject"),"=",b(3,3980,1,0,b(17,3980,1,0,"_ref"),".",b(9,3980,1,0,"reject"))),b(3,3980,1,0,b(17,3980,24,0,"fulfill"),"=",b(3,3980,1,0,b(17,3980,1,0,"_ref"),".",b(9,3980,1,0,"fulfill"))),b(3,3980,1,0,b(17,3980,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(7,3981,1,0,b(3,3981,1,0,b(17,3981,1,0,"func"),".",b(9,3981,1,0,"apply")),0,b(17,3981,9,0,"context"),b(7,3981,1,0,b(3,3981,1,0,b(7,3981,21,0,b(17,3981,21,0,"__toArray"),0,b(17,3981,21,0,"args")),".",b(9,3981,1,0,"concat")),0,b(2,3982,1,0,b(16,3982,1,0,0,[b(17,3981,29,0,"err")],["values"],b(5,3982,1,0,b(3,3981,33,0,b(17,3981,37,0,"values"),"=",b(7,3981,33,0,b(3,3981,33,0,b(17,3981,33,0,"__slice"),".",b(9,3981,33,0,"call")),0,b(1,3981,33,0),b(9,3981,28,0,1))),b(19,3982,1,0,b(3,3982,7,0,b(17,3982,7,0,"err"),"!=",b(9,0,0,0,null)),b(7,3983,1,0,b(17,3983,1,0,"reject"),0,b(17,3983,14,0,"err")),b(7,3985,1,0,b(17,3985,1,0,"fulfill"),0,b(17,3985,15,0,"values")))))))),b(23,3986,1,0,b(17,3986,1,0,"promise")))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__slice","__toArray","__typeof"]},__generator:{helper:b(16,4018,29,0,0,[b(17,4018,30,0,"func")],0,b(23,4018,40,0,b(16,4018,40,0,0,0,["args","self"],b(4,4019,1,0,0,b(3,4019,1,0,b(17,4019,14,0,"self"),"=",b(25,4019,21,0)),b(3,4020,1,0,b(17,4020,14,0,"args"),"=",b(1,4020,32,0)),b(23,4021,1,0,b(21,4021,1,0,4022,5,void 0,"iterator",b(16,4022,13,0,0,0,0,b(23,4022,18,0,b(25,4022,18,0))),4023,5,void 0,"send",b(16,4023,9,0,0,0,["value"],b(4,4024,1,0,0,b(18,4025,1,0,b(17,4025,9,0,"args"),b(4,4026,1,0,0,b(3,4026,1,0,b(17,4026,1,0,"value"),"=",b(7,4026,17,0,b(3,4026,17,0,b(17,4026,17,0,"func"),".",b(9,4026,17,0,"apply")),0,b(17,4026,24,0,"self"),b(7,4026,33,0,b(17,4026,33,0,"__toArray"),0,b(17,4026,33,0,"args")))),b(3,4027,1,0,b(17,4027,1,0,"self"),"=",b(9,4027,16,0,null)),b(3,4028,1,0,b(17,4028,1,0,"args"),"=",b(9,4028,16,0,null)))),b(23,4029,1,0,b(21,4029,1,0,4029,10,void 0,"done",b(9,4029,9,0,!0),4029,16,void 0,"value",b(17,4029,16,0,"value"))))),4030,5,void 0,"next",b(16,4030,9,0,0,0,0,b(23,4030,14,0,b(7,4030,14,0,b(3,4030,14,0,b(25,4030,14,0),".",b(9,4030,16,0,"send")),0))),4031,5,void 0,"throw",b(16,4031,10,0,0,[b(17,4031,11,0,"err")],0,b(4,4032,1,0,0,b(3,4032,1,0,b(17,4032,1,0,"self"),"=",b(9,4032,14,0,null)),b(3,4033,1,0,b(17,4033,1,0,"args"),"=",b(9,4033,14,0,null)),b(26,4034,1,0,b(17,4034,12,0,"err")))))))))),type:a.generic(a.functionBase,a.generic(a.functionBase,a.makeObject({iterator:a["function"],next:a["function"],send:a.generic(a.functionBase,a.makeObject({done:a.boolean})),"throw":a.generic(a.functionBase,a.none)}))),dependencies:["__toArray"]},__somePromise:{helper:b(16,4038,1,0,0,[b(17,4037,33,0,"promises")],["_i","defer","promise"],b(4,4038,1,0,0,b(18,4037,33,0,b(30,4037,33,0,"!",b(7,4037,33,0,b(17,4037,33,0,"__isArray"),0,b(17,4037,33,0,"promises"))),b(26,4037,33,0,b(7,4037,33,0,b(17,4037,33,0,"TypeError"),1,b(3,4037,33,0,b(9,4037,33,0,"Expected promises to be an Array, got "),"+",b(7,4037,33,0,b(17,4037,33,0,"__typeof"),0,b(17,4037,33,0,"promises")))))),b(3,4038,1,0,b(17,4038,6,0,"defer"),"=",b(7,4038,14,0,b(17,4038,14,0,"__defer"),0)),b(14,4039,1,0,b(5,4039,1,0,b(3,4039,1,0,b(17,4039,1,0,"_i"),"=",b(3,4039,1,0,b(17,4039,17,0,"promises"),".",b(9,4039,1,0,"length"))),b(9,0,0,0)),b(30,4039,1,0,"--post",b(17,4039,1,0,"_i")),b(20,4039,1,0),b(4,4040,1,0,0,b(3,4040,1,0,b(17,4039,6,0,"promise"),"=",b(3,4039,1,0,b(17,4039,17,0,"promises"),".",b(17,4039,1,0,"_i"))),b(7,4040,1,0,b(3,4040,1,0,b(17,4040,1,0,"promise"),".",b(9,4040,13,0,"then")),0,b(3,4040,18,0,b(17,4040,18,0,"defer"),".",b(9,4040,24,0,"fulfill")),b(3,4040,32,0,b(17,4040,32,0,"defer"),".",b(9,4040,39,0,"reject"))))),b(23,4041,1,0,b(3,4041,1,0,b(17,4041,1,0,"defer"),".",b(9,4041,9,0,"promise"))))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__isArray","__typeof"]},__everyPromise:{helper:b(16,4052,1,0,0,[b(17,4051,34,0,"promises")],["_arr","_ref","fulfill","i","isArray","k","promise","reject","remaining","result","resultPromise"],b(4,4052,1,0,0,b(18,4051,34,0,b(3,4051,34,0,b(3,4051,34,0,b(30,4051,34,0,"typeof",b(17,4051,34,0,"promises")),"!==",b(9,4051,34,0,"object")),"||",b(3,4051,34,0,b(17,4051,34,0,"promises"),"===",b(9,0,0,0,null))),b(26,4051,34,0,b(7,4051,34,0,b(17,4051,34,0,"TypeError"),1,b(3,4051,34,0,b(9,4051,34,0,"Expected promises to be an Object, got "),"+",b(7,4051,34,0,b(17,4051,34,0,"__typeof"),0,b(17,4051,34,0,"promises")))))),b(3,4052,1,0,b(17,4052,6,0,"isArray"),"=",b(7,4052,17,0,b(17,4052,17,0,"__isArray"),0,b(17,4052,27,0,"promises"))),b(3,4053,1,0,b(17,4053,1,0,"_ref"),"=",b(7,4053,51,0,b(17,4053,51,0,"__defer"),0)),b(3,4053,1,0,b(17,4053,16,0,"resultPromise"),"=",b(3,4053,1,0,b(17,4053,1,0,"_ref"),".",b(9,4053,8,0,"promise"))),b(3,4053,1,0,b(17,4053,32,0,"fulfill"),"=",b(3,4053,1,0,b(17,4053,1,0,"_ref"),".",b(9,4053,1,0,"fulfill"))),b(3,4053,1,0,b(17,4053,41,0,"reject"),"=",b(3,4053,1,0,b(17,4053,1,0,"_ref"),".",b(9,4053,1,0,"reject"))),b(3,4053,1,0,b(17,4053,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(18,4054,15,0,b(17,4054,18,0,"isArray"),b(3,4054,1,0,b(17,4054,6,0,"result"),"=",b(2,4054,32,0)),b(3,4054,1,0,b(17,4054,6,0,"result"),"=",b(21,4054,40,0))),b(3,4055,1,0,b(17,4055,14,0,"remaining"),"=",b(9,4055,27,0,1)),b(16,4056,1,0,b(17,4056,6,0,"dec"),0,0,b(19,4057,1,0,b(3,4057,7,0,b(30,4057,9,0,"--",b(17,4057,9,0,"remaining")),"===",b(9,4057,28,0,0)),b(7,4058,1,0,b(17,4058,1,0,"fulfill"),0,b(17,4058,15,0,"result")))),b(16,4059,1,0,b(17,4059,6,0,"handle"),[b(17,4059,14,0,"key"),b(17,4059,18,0,"promise")],0,b(7,4060,1,0,b(3,4060,1,0,b(17,4060,1,0,"promise"),".",b(9,4060,13,0,"then")),0,b(16,4061,8,0,0,[b(17,4061,9,0,"value")],0,b(5,4062,1,0,b(3,4062,1,0,b(3,4062,1,0,b(17,4062,1,0,"result"),".",b(17,4062,16,0,"key")),"=",b(17,4062,23,0,"value")),b(7,4063,1,0,b(17,4063,1,0,"dec"),0))),b(17,4064,7,0,"reject"))),b(18,4065,1,0,b(17,4065,5,0,"isArray"),b(14,4066,1,0,b(5,4066,1,0,b(3,4066,1,0,b(17,4066,1,0,"_arr"),"=",b(7,4066,22,0,b(17,4066,22,0,"__toArray"),0,b(17,4066,22,0,"promises"))),b(3,4066,17,0,b(17,4066,17,0,"i"),"=",b(3,4066,17,0,b(17,4066,1,0,"_arr"),".",b(9,4066,17,0,"length"))),b(9,0,0,0)),b(30,4066,17,0,"--post",b(17,4066,17,0,"i")),b(20,4066,1,0),b(4,4067,1,0,0,b(3,4067,1,0,b(17,4066,8,0,"promise"),"=",b(3,4066,1,0,b(17,4066,1,0,"_arr"),".",b(17,4066,17,0,"i"))),b(30,4067,1,0,"++",b(17,4067,1,0,"remaining")),b(7,4068,1,0,b(17,4068,1,0,"handle"),0,b(17,4068,14,0,"i"),b(17,4068,16,0,"promise")))),b(15,4070,1,0,b(17,4070,8,0,"k"),b(17,4070,22,0,"promises"),b(18,4071,1,0,b(7,4071,1,0,b(3,4071,1,0,b(17,4071,1,0,"__owns"),".",b(9,4071,1,0,"call")),0,b(17,4070,22,0,"promises"),b(17,4070,8,0,"k")),b(4,4071,1,0,0,b(3,4070,1,0,b(17,4070,11,0,"promise"),"=",b(3,4070,1,0,b(17,4070,22,0,"promises"),".",b(17,4070,8,0,"k"))),b(30,4071,1,0,"++",b(17,4071,1,0,"remaining")),b(7,4072,1,0,b(17,4072,1,0,"handle"),0,b(17,4072,14,0,"k"),b(17,4072,16,0,"promise")))))),b(7,4073,1,0,b(17,4073,1,0,"dec"),0),b(23,4074,1,0,b(17,4074,1,0,"resultPromise")))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__isArray","__owns","__toArray","__typeof"]},__delay:{helper:b(16,4085,1,0,0,[b(17,4084,26,0,"milliseconds"),b(17,4084,49,0,"value")],["_ref","fulfill","promise"],b(4,4085,1,0,0,b(18,4084,26,0,b(3,4084,26,0,b(30,4084,26,0,"typeof",b(17,4084,26,0,"milliseconds")),"!==",b(9,4084,26,0,"number")),b(26,4084,26,0,b(7,4084,26,0,b(17,4084,26,0,"TypeError"),1,b(3,4084,26,0,b(9,4084,26,0,"Expected milliseconds to be a Number, got "),"+",b(7,4084,26,0,b(17,4084,26,0,"__typeof"),0,b(17,4084,26,0,"milliseconds")))))),b(18,4085,1,0,b(3,4085,5,0,b(17,4085,5,0,"milliseconds"),"<=",b(9,4085,22,0,0)),b(23,4086,1,0,b(7,4086,1,0,b(3,4086,1,0,b(17,4086,1,0,"__defer"),".",b(9,4086,13,0,"fulfilled")),0,b(17,4086,23,0,"value"))),b(4,4088,1,0,0,b(3,4088,1,0,b(17,4088,1,0,"_ref"),"=",b(7,4088,29,0,b(17,4088,29,0,"__defer"),0)),b(3,4088,1,0,b(17,4088,10,0,"fulfill"),"=",b(3,4088,1,0,b(17,4088,1,0,"_ref"),".",b(9,4088,1,0,"fulfill"))),b(3,4088,1,0,b(17,4088,18,0,"promise"),"=",b(3,4088,1,0,b(17,4088,1,0,"_ref"),".",b(9,4088,1,0,"promise"))),b(3,4088,1,0,b(17,4088,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(7,4089,1,0,b(17,4089,1,0,"setTimeout"),0,b(16,4089,19,0,0,0,0,b(7,4089,22,0,b(17,4089,22,0,"fulfill"),0,b(17,4089,31,0,"value"))),b(17,4089,39,0,"milliseconds")),b(23,4090,1,0,b(17,4090,1,0,"promise")))))),type:a["function"],dependencies:["__defer","__typeof"]},__promiseLoop:{helper:b(16,4111,1,0,0,[b(17,4110,40,0,"limit"),b(17,4110,57,0,"length"),b(17,4110,75,0,"body")],["_ref","done","fulfill","index","promise","reject","result","slotsUsed"],b(4,4111,1,0,0,b(18,4110,40,0,b(3,4110,40,0,b(30,4110,40,0,"typeof",b(17,4110,40,0,"limit")),"!==",b(9,4110,40,0,"number")),b(26,4110,40,0,b(7,4110,40,0,b(17,4110,40,0,"TypeError"),1,b(3,4110,40,0,b(9,4110,40,0,"Expected limit to be a Number, got "),"+",b(7,4110,40,0,b(17,4110,40,0,"__typeof"),0,b(17,4110,40,0,"limit")))))),b(18,4110,57,0,b(3,4110,57,0,b(30,4110,57,0,"typeof",b(17,4110,57,0,"length")),"!==",b(9,4110,57,0,"number")),b(26,4110,57,0,b(7,4110,57,0,b(17,4110,57,0,"TypeError"),1,b(3,4110,57,0,b(9,4110,57,0,"Expected length to be a Number, got "),"+",b(7,4110,57,0,b(17,4110,57,0,"__typeof"),0,b(17,4110,57,0,"length")))))),b(18,4110,75,0,b(3,4110,75,0,b(30,4110,75,0,"typeof",b(17,4110,75,0,"body")),"!==",b(9,4110,75,0,"function")),b(26,4110,75,0,b(7,4110,75,0,b(17,4110,75,0,"TypeError"),1,b(3,4110,75,0,b(9,4110,75,0,"Expected body to be a Function, got "),"+",b(7,4110,75,0,b(17,4110,75,0,"__typeof"),0,b(17,4110,75,0,"body")))))),b(18,4111,1,0,b(3,4111,5,0,b(3,4111,5,0,b(17,4111,5,0,"limit"),"<",b(9,4111,15,0,1)),"||",b(3,4111,19,0,b(17,4111,19,0,"limit"),"!==",b(17,4111,19,0,"limit"))),b(3,4112,1,0,b(17,4112,1,0,"limit"),"=",b(9,4112,13,0,1/0))),b(3,4114,1,0,b(17,4114,6,0,"result"),"=",b(2,4114,15,0)),b(3,4115,1,0,b(17,4115,14,0,"done"),"=",b(9,4115,21,0,!1)),b(3,4116,1,0,b(17,4116,14,0,"slotsUsed"),"=",b(9,4116,28,0,0)),b(3,4117,1,0,b(17,4117,1,0,"_ref"),"=",b(7,4117,35,0,b(17,4117,35,0,"__defer"),0)),b(3,4117,1,0,b(17,4117,8,0,"fulfill"),"=",b(3,4117,1,0,b(17,4117,1,0,"_ref"),".",b(9,4117,1,0,"fulfill"))),b(3,4117,1,0,b(17,4117,16,0,"reject"),"=",b(3,4117,1,0,b(17,4117,1,0,"_ref"),".",b(9,4117,1,0,"reject"))),b(3,4117,1,0,b(17,4117,24,0,"promise"),"=",b(3,4117,1,0,b(17,4117,1,0,"_ref"),".",b(9,4117,1,0,"promise"))),b(3,4117,1,0,b(17,4117,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(3,4118,1,0,b(17,4118,14,0,"index"),"=",b(9,4118,23,0,0)),b(16,4119,1,0,b(17,4119,6,0,"handle"),[b(17,4119,14,0,"index")],0,b(4,4120,1,0,0,b(30,4120,1,0,"++",b(17,4120,1,0,"slotsUsed")),b(23,4121,1,0,b(7,4121,1,0,b(3,4121,1,0,b(7,4121,1,0,b(17,4121,1,0,"body"),0,b(17,4121,10,0,"index")),".",b(9,4121,17,0,"then")),0,b(16,4122,8,0,0,[b(17,4122,9,0,"value")],0,b(4,4123,1,0,0,b(3,4123,1,0,b(3,4123,1,0,b(17,4123,1,0,"result"),".",b(17,4123,16,0,"index")),"=",b(17,4123,25,0,"value")),b(30,4124,1,0,"--",b(17,4124,1,0,"slotsUsed")),b(23,4125,1,0,b(7,4125,1,0,b(17,4125,1,0,"flush"),0)))),b(16,4126,8,0,0,[b(17,4126,9,0,"reason")],0,b(4,4127,1,0,0,b(3,4127,1,0,b(17,4127,1,0,"done"),"=",b(9,4127,16,0,!0)),b(23,4128,1,0,b(7,4128,1,0,b(17,4128,1,0,"reject"),0,b(17,4128,16,0,"reason"))))))))),b(16,4129,1,0,b(17,4129,6,0,"flush"),0,0,b(4,4130,1,0,0,b(14,4130,1,0,b(20,4130,1,0),b(3,4130,10,0,b(30,4130,10,0,"!",b(17,4130,14,0,"done")),"&&",b(3,4130,23,0,b(3,4130,23,0,b(17,4130,23,0,"slotsUsed"),"<",b(17,4130,36,0,"limit")),"&&",b(3,4130,46,0,b(17,4130,46,0,"index"),"<",b(17,4130,54,0,"length")))),b(30,4130,62,0,"++",b(17,4130,62,0,"index")),b(7,4131,1,0,b(17,4131,1,0,"handle"),0,b(17,4131,14,0,"index"))),b(18,4132,1,0,b(3,4132,7,0,b(30,4132,7,0,"!",b(17,4132,11,0,"done")),"&&",b(3,4132,20,0,b(3,4132,20,0,b(17,4132,20,0,"index"),">=",b(17,4132,29,0,"length")),"&&",b(3,4132,40,0,b(17,4132,40,0,"slotsUsed"),"===",b(9,4132,55,0,0)))),b(4,4133,1,0,0,b(3,4133,1,0,b(17,4133,1,0,"done"),"=",b(9,4133,14,0,!0)),b(23,4134,1,0,b(7,4134,1,0,b(17,4134,1,0,"fulfill"),0,b(17,4134,15,0,"result"))))))),b(7,4135,1,0,b(17,4135,1,0,"setImmediate"),0,b(17,4135,17,0,"flush")),b(23,4136,1,0,b(17,4136,1,0,"promise")))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__typeof","setImmediate"]},__promiseIter:{helper:b(16,4139,1,0,0,[b(17,4138,40,0,"limit"),b(17,4138,57,0,"iterator"),b(17,4138,87,0,"body")],["_ref","done","fulfill","index","iterStopped","promise","reject","result","slotsUsed"],b(4,4139,1,0,0,b(18,4138,40,0,b(3,4138,40,0,b(30,4138,40,0,"typeof",b(17,4138,40,0,"limit")),"!==",b(9,4138,40,0,"number")),b(26,4138,40,0,b(7,4138,40,0,b(17,4138,40,0,"TypeError"),1,b(3,4138,40,0,b(9,4138,40,0,"Expected limit to be a Number, got "),"+",b(7,4138,40,0,b(17,4138,40,0,"__typeof"),0,b(17,4138,40,0,"limit")))))),b(18,4138,57,0,b(3,4138,57,0,b(3,4138,57,0,b(30,4138,57,0,"typeof",b(17,4138,57,0,"iterator")),"!==",b(9,4138,57,0,"object")),"||",b(3,4138,57,0,b(17,4138,57,0,"iterator"),"===",b(9,0,0,0,null))),b(26,4138,57,0,b(7,4138,57,0,b(17,4138,57,0,"TypeError"),1,b(3,4138,57,0,b(9,4138,57,0,"Expected iterator to be an Object, got "),"+",b(7,4138,57,0,b(17,4138,57,0,"__typeof"),0,b(17,4138,57,0,"iterator"))))),b(18,4138,57,0,b(3,4138,57,0,b(30,4138,57,0,"typeof",b(3,4138,57,0,b(17,4138,57,0,"iterator"),".",b(9,4138,71,0,"next"))),"!==",b(9,4138,57,0,"function")),b(26,4138,57,0,b(7,4138,57,0,b(17,4138,57,0,"TypeError"),1,b(3,4138,57,0,b(9,4138,57,0,"Expected iterator.next to be a Function, got "),"+",b(7,4138,57,0,b(17,4138,57,0,"__typeof"),0,b(3,4138,57,0,b(17,4138,57,0,"iterator"),".",b(9,4138,71,0,"next")))))))),b(18,4138,87,0,b(3,4138,87,0,b(30,4138,87,0,"typeof",b(17,4138,87,0,"body")),"!==",b(9,4138,87,0,"function")),b(26,4138,87,0,b(7,4138,87,0,b(17,4138,87,0,"TypeError"),1,b(3,4138,87,0,b(9,4138,87,0,"Expected body to be a Function, got "),"+",b(7,4138,87,0,b(17,4138,87,0,"__typeof"),0,b(17,4138,87,0,"body")))))),b(18,4139,1,0,b(3,4139,5,0,b(3,4139,5,0,b(17,4139,5,0,"limit"),"<",b(9,4139,15,0,1)),"||",b(3,4139,19,0,b(17,4139,19,0,"limit"),"!==",b(17,4139,28,0,"limit"))),b(3,4140,1,0,b(17,4140,1,0,"limit"),"=",b(9,4140,13,0,1/0))),b(3,4142,1,0,b(17,4142,6,0,"result"),"=",b(2,4142,15,0)),b(3,4143,1,0,b(17,4143,14,0,"done"),"=",b(9,4143,21,0,!1)),b(3,4144,1,0,b(17,4144,14,0,"slotsUsed"),"=",b(9,4144,28,0,0)),b(3,4145,1,0,b(17,4145,1,0,"_ref"),"=",b(7,4145,35,0,b(17,4145,35,0,"__defer"),0)),b(3,4145,1,0,b(17,4145,8,0,"reject"),"=",b(3,4145,1,0,b(17,4145,1,0,"_ref"),".",b(9,4145,1,0,"reject"))),b(3,4145,1,0,b(17,4145,15,0,"fulfill"),"=",b(3,4145,1,0,b(17,4145,1,0,"_ref"),".",b(9,4145,1,0,"fulfill"))),b(3,4145,1,0,b(17,4145,24,0,"promise"),"=",b(3,4145,1,0,b(17,4145,1,0,"_ref"),".",b(9,4145,1,0,"promise"))),b(3,4145,1,0,b(17,4145,1,0,"_ref"),"=",b(9,0,0,0,null)),b(9,0,0,0),b(3,4146,1,0,b(17,4146,14,0,"index"),"=",b(9,4146,23,0,0)),b(3,4147,1,0,b(17,4147,14,0,"iterStopped"),"=",b(9,4147,29,0,!1)),b(16,4148,1,0,b(17,4148,6,0,"handle"),[b(17,4148,14,0,"item"),b(17,4148,19,0,"index")],0,b(4,4149,1,0,0,b(30,4149,1,0,"++",b(17,4149,1,0,"slotsUsed")),b(23,4150,1,0,b(7,4150,1,0,b(3,4150,1,0,b(7,4150,1,0,b(17,4150,1,0,"body"),0,b(17,4150,10,0,"item"),b(17,4150,15,0,"index")),".",b(9,4150,23,0,"then")),0,b(16,4151,8,0,0,[b(17,4151,9,0,"value")],0,b(4,4152,1,0,0,b(3,4152,1,0,b(3,4152,1,0,b(17,4152,1,0,"result"),".",b(17,4152,16,0,"index")),"=",b(17,4152,25,0,"value")),b(30,4153,1,0,"--",b(17,4153,1,0,"slotsUsed")),b(23,4154,1,0,b(7,4154,1,0,b(17,4154,1,0,"flush"),0)))),b(16,4155,8,0,0,[b(17,4155,9,0,"reason")],0,b(4,4156,1,0,0,b(3,4156,1,0,b(17,4156,1,0,"done"),"=",b(9,4156,16,0,!0)),b(23,4157,1,0,b(7,4157,1,0,b(17,4157,1,0,"reject"),0,b(17,4157,16,0,"reason"))))))))),b(16,4158,1,0,b(17,4158,6,0,"flush"),0,["item"],b(4,4159,1,0,0,b(14,4159,1,0,b(20,4159,1,0),b(3,4159,10,0,b(30,4159,10,0,"!",b(17,4159,14,0,"done")),"&&",b(3,4159,23,0,b(30,4159,23,0,"!",b(17,4159,27,0,"iterStopped")),"&&",b(3,4159,44,0,b(17,4159,44,0,"slotsUsed"),"<",b(17,4159,57,0,"limit")))),b(20,4159,1,0),b(4,4160,1,0,0,b(3,4160,1,0,b(17,4160,18,0,"item"),"=",b(9,4160,25,0)),b(28,4161,1,0,b(3,4162,1,0,b(17,4162,1,0,"item"),"=",b(7,4162,16,0,b(3,4162,16,0,b(17,4162,16,0,"iterator"),".",b(9,4162,26,0,"next")),0)),b(17,4163,12,0,"e"),b(4,4164,1,0,0,b(3,4164,1,0,b(17,4164,1,0,"done"),"=",b(9,4164,16,0,!0)),b(7,4165,1,0,b(17,4165,1,0,"reject"),0,b(17,4165,16,0,"e")),b(23,4166,1,0))),b(18,4168,1,0,b(3,4168,9,0,b(17,4168,9,0,"item"),".",b(9,4168,15,0,"done")),b(4,4169,1,0,0,b(3,4169,1,0,b(17,4169,1,0,"iterStopped"),"=",b(9,4169,24,0,!0)),b(6,4170,1,0))),b(7,4172,1,0,b(17,4172,1,0,"handle"),0,b(3,4172,14,0,b(17,4172,14,0,"item"),".",b(9,4172,19,0,"value")),b(30,4172,25,0,"++post",b(17,4172,35,0,"index"))))),b(18,4174,1,0,b(3,4174,7,0,b(30,4174,7,0,"!",b(17,4174,11,0,"done")),"&&",b(3,4174,20,0,b(3,4174,20,0,b(17,4174,20,0,"slotsUsed"),"===",b(9,4174,35,0,0)),"&&",b(17,4174,40,0,"iterStopped"))),b(4,4175,1,0,0,b(3,4175,1,0,b(17,4175,1,0,"done"),"=",b(9,4175,14,0,!0)),b(23,4176,1,0,b(7,4176,1,0,b(17,4176,1,0,"fulfill"),0,b(17,4176,15,0,"result"))))))),b(7,4177,1,0,b(17,4177,1,0,"setImmediate"),0,b(17,4177,17,0,"flush")),b(23,4178,1,0,b(17,4178,1,0,"promise")))),type:a.generic(a.functionBase,a.makeObject({sync:a["function"],then:a["function"]})),dependencies:["__defer","__typeof","setImmediate"]}},binaryOperator:[{code:function(a){var b,c,d;
return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("&&"),b,d)},operators:"and",options:{precedence:1},id:1},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("||"),b,d)},operators:"or",options:{precedence:1},id:2},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("==="),b,d)},operators:"==",options:{precedence:2,maximum:1,type:"boolean"},id:5},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,3,{op:"not",node:g(void 0,5,{left:b(h),inverted:!1,op:"==",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"!=",options:{precedence:2,maximum:1,type:"boolean"},id:6},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("=="),b,d)},operators:"~=",options:{precedence:2,maximum:1,type:"boolean"},id:7},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,3,{op:"not",node:g(void 0,7,{left:b(h),inverted:!1,op:"~=",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"!~=",options:{precedence:2,maximum:1,type:"boolean"},id:8},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator(c.substring(1)),b,d)},operators:["~<","~<="],options:{precedence:2,maximum:1,type:"boolean"},id:9},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,"~>"===i?g(void 0,3,{op:"not",node:g(void 0,9,{left:b(h),inverted:!1,op:"~<=",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,3,{op:"not",node:g(void 0,9,{left:b(h),inverted:!1,op:"~<",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:["~>","~>="],options:{precedence:2,maximum:1,type:"boolean"},id:17},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.hasType(b,"numeric")&&this.hasType(d,"numeric")?this.call(this.binaryOperator("+"),this.call(this.binaryOperator("+"),this["const"](""),b),d):this.isType(d,"string")&&this.macroExpand1(b).isConstValue("")?d:this.isType(b,"string")&&this.macroExpand1(d).isConstValue("")?b:this.call(this.binaryOperator("+"),b,d)},operators:"~&",options:{precedence:7,type:"string"},id:30},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,"~\\"===h?f(void 0,f(void 0,e(void 0,"internal","access"),e(void 0,"ident","Math"),d(void 0,"floor")),b(this.call(this.binaryOperator("/"),g,i))):"~*"===h?this.call(this.binaryOperator("*"),g,i):"~/"===h?this.call(this.binaryOperator("/"),g,i):this.call(this.binaryOperator("%"),g,i)},operators:["~*","~/","~%","~\\"],options:{precedence:11,type:"number"},id:45},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,"~+"===i?this.isType(h,"numeric")||this.isType(j,"numeric")?(this.isType(h,"numeric")?this.isType(j,"numeric")||(j=g(j,48,{op:"~+",node:b(j)},!1,!1,!1,!1)):h=g(h,48,{op:"~+",node:b(h)},!1,!1,!1,!1),this.call(this.binaryOperator("+"),h,j)):this.call(this.binaryOperator("-"),h,g(j,48,{op:"~-",node:b(j)},!1,!1,!1,!1)):this.call(this.binaryOperator("-"),h,j)},operators:["~+","~-"],options:{precedence:10,type:"number"},id:49},{code:function(a,b,c,d,e,f,g){var h,i,j,k;if(h=a.left,i=a.op,j=a.right,j=this.macroExpand1(j),j.isValue){if(k=Number(j.value),0===k)return f(void 0,e(void 0,"internal","block"),b(h),d(void 0,1));if(.5===k)return f(void 0,f(void 0,e(void 0,"internal","access"),e(void 0,"ident","Math"),d(void 0,"sqrt")),b(h));if(1===k)return g(void 0,48,{op:"~+",node:b(h)},!1,!1,!1,!1);if(2===k)return this.maybeCache(h,function(a,c){return g(void 0,45,{left:b(a),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1)});if(3===k)return this.maybeCache(h,function(a,c){return g(void 0,45,{left:g(void 0,45,{left:b(a),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1)});if(k===-.5)return g(void 0,45,{left:d(void 0,1),inverted:!1,op:"~/",right:f(void 0,f(void 0,e(void 0,"internal","access"),e(void 0,"ident","Math"),d(void 0,"sqrt")),b(h))},!1,!1,!1,!1);if(-1===k)return g(void 0,45,{left:d(void 0,1),inverted:!1,op:"~/",right:b(h)},!1,!1,!1,!1);if(-2===k)return this.maybeCache(h,function(a,c){return g(void 0,45,{left:d(void 0,1),inverted:!1,op:"~/",right:g(void 0,45,{left:b(a),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1)},!1,!1,!1,!1)});if(-3===k)return this.maybeCache(h,function(a,c){return g(void 0,45,{left:d(void 0,1),inverted:!1,op:"~/",right:g(void 0,45,{left:g(void 0,45,{left:b(a),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1),inverted:!1,op:"~*",right:b(c)},!1,!1,!1,!1)},!1,!1,!1,!1)})}return f(void 0,f(void 0,e(void 0,"internal","access"),e(void 0,"ident","Math"),d(void 0,"pow")),b(h),b(j))},operators:"~^",options:{precedence:12,rightToLeft:!0,type:"number"},id:50},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("<<"),b,d)},operators:"~bitlshift",options:{precedence:9,maximum:1,type:"number"},id:54},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator(">>"),b,d)},operators:"~bitrshift",options:{precedence:9,maximum:1,type:"number"},id:55},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator(">>>"),b,d)},operators:"~biturshift",options:{precedence:9,maximum:1,type:"number"},id:56},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?g(void 0,50,{left:b(h),inverted:!1,op:"~^",right:b(j)},!1,!1,!1,!1):g(void 0,50,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~^",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"^",options:{precedence:12,rightToLeft:!0,type:"number"},id:66},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,"*"===i?g(void 0,45,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~*",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"/"===i?g(void 0,45,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~/",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"%"===i?g(void 0,45,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~%",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,45,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:["*","/","%","\\"],options:{precedence:11,type:"number"},id:68},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,"+"===i?g(void 0,49,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~+",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,49,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~-",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:["+","-"],options:{precedence:10,type:"number"},id:70},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,54,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~bitlshift",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitlshift",options:{precedence:9,maximum:1,type:"number"},id:71},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,55,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~bitrshift",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitrshift",options:{precedence:9,maximum:1,type:"number"},id:72},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,56,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~biturshift",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"biturshift",options:{precedence:9,maximum:1,type:"number"},id:73},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||(this.isType(h,"stringOrNumber")||(h=this.hasType(h,"number")?f(h,e(h,"ident","__strnum"),b(h)):f(h,e(h,"ident","__str"),b(h))),this.isType(j,"stringOrNumber")||(j=this.hasType(j,"number")?f(j,e(j,"ident","__strnum"),b(j)):f(j,e(j,"ident","__str"),b(j)))),g(void 0,30,{left:b(h),inverted:!1,op:"~&",right:b(j)},!1,!1,!1,!1)},operators:"&",options:{precedence:7,type:"string",label:"stringConcat"},id:75},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l;return j=a.left,k=a.op,l=a.right,l=this.macroExpand1(l),l.isInternalCall("array")?(h=l.args,0===h.length?f(void 0,e(void 0,"internal","block"),b(j),c("false")):1===h.length?g(void 0,5,{left:b(j),inverted:!1,op:"==",right:b(h[0])},!1,!1,!1,!1):(i=function(a,c,d){return a<h.length?i(+a+1,g(void 0,2,{left:b(c),inverted:!1,op:"or",right:g(void 0,5,{left:b(d),inverted:!1,op:"==",right:b(h[a])},!1,!1,!1,!1)},!1,!1,!1,!1),d):c},this.maybeCache(j,function(a,c){return i(1,g(void 0,5,{left:b(a),inverted:!1,op:"==",right:b(h[0])},!1,!1,!1,!1),c)}))):f(void 0,e(void 0,"ident","__in"),b(j),b(l))},operators:"in",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:77},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("in"),d,b)},operators:"haskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:78},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"internal","contextCall"),e(void 0,"ident","__owns"),b(g),b(i))},operators:"ownskey",options:{precedence:6,maximum:1,invertible:!0,type:"boolean",label:"ownership"},id:79},{code:function(a,b,c,d,e,f,g){var h,i,j;if(h=a.left,i=a.op,j=a.right,j=this.macroExpand1(j),j.isIdent){if("String"===j.name)return g(void 0,23,{op:"isString!",node:b(h)},!1,!1,!1,!1);if("Number"===j.name)return g(void 0,24,{op:"isNumber!",node:b(h)},!1,!1,!1,!1);if("Boolean"===j.name)return g(void 0,25,{op:"isBoolean!",node:b(h)},!1,!1,!1,!1);if("Function"===j.name)return g(void 0,26,{op:"isFunction!",node:b(h)},!1,!1,!1,!1);if("Array"===j.name)return g(void 0,27,{op:"isArray!",node:b(h)},!1,!1,!1,!1);if("Object"===j.name)return g(void 0,28,{op:"isObject!",node:b(h)},!1,!1,!1,!1)}return this.call(this.binaryOperator("instanceof"),h,j)},operators:"instanceof",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:80},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"ident","__cmp"),b(g),b(i))},operators:"<=>",options:{precedence:5,maximum:1,type:"number"},id:81},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,5,{left:g(void 0,68,{left:b(h),inverted:!1,op:"%",right:b(j)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,0)},!1,!1,!1,!1)},operators:"%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:82},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,5,{left:g(void 0,45,{left:b(h),inverted:!1,op:"~%",right:b(j)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,0)},!1,!1,!1,!1)},operators:"~%%",options:{precedence:2,maximum:1,invertible:!0,type:"boolean"},id:83},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l;return h=this,j=a.left,k=a.op,l=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?"<"===k?g(void 0,9,{left:b(j),inverted:!1,op:"~<",right:b(l)},!1,!1,!1,!1):g(void 0,9,{left:b(j),inverted:!1,op:"~<=",right:b(l)},!1,!1,!1,!1):this.isType(j,"numeric")||this.isType(l,"numeric")?"<"===k?g(void 0,9,{left:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1),inverted:!1,op:"~<",right:g(void 0,64,{op:"+",node:b(l)},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,9,{left:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1),inverted:!1,op:"~<=",right:g(void 0,64,{op:"+",node:b(l)},!1,!1,!1,!1)},!1,!1,!1,!1):this.isType(j,"string")||this.isType(l,"string")?(i=function(a){return h.isType(a,"string")?a:f(a,e(a,"ident","__str"),b(a))},j=i(j),l=i(l),"<"===k?g(void 0,9,{left:b(j),inverted:!1,op:"~<",right:b(l)},!1,!1,!1,!1):g(void 0,9,{left:b(j),inverted:!1,op:"~<=",right:b(l)},!1,!1,!1,!1)):"<"===k?f(void 0,e(void 0,"ident","__lt"),b(j),b(l)):f(void 0,e(void 0,"ident","__lte"),b(j),b(l))},operators:["<","<="],options:{precedence:2,maximum:1,type:"boolean"},id:84},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,">"===i?g(void 0,3,{op:"not",node:g(void 0,84,{left:b(h),inverted:!1,op:"<=",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,3,{op:"not",node:g(void 0,84,{left:b(h),inverted:!1,op:"<",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:[">",">="],options:{precedence:2,maximum:1,type:"boolean"},id:85},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCache(h,function(a,c){return this.maybeCache(j,function(d,e){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,9,{left:b(a),inverted:!1,op:"~<",right:b(d)},!1,!1,!1,!1),body:b(c),elseIfs:[],elseBody:b(e)}},!1,!1,!1,!1)})})},operators:"~min",options:{precedence:8},id:86},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCache(h,function(a,c){return this.maybeCache(j,function(d,e){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,17,{left:b(a),inverted:!1,op:"~>",right:b(d)},!1,!1,!1,!1),body:b(c),elseIfs:[],elseBody:b(e)}},!1,!1,!1,!1)})})},operators:"~max",options:{precedence:8},id:87},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCache(h,function(a,c){return this.maybeCache(j,function(d,e){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,84,{left:b(a),inverted:!1,op:"<",right:b(d)},!1,!1,!1,!1),body:b(c),elseIfs:[],elseBody:b(e)}},!1,!1,!1,!1)})})},operators:"min",options:{precedence:8},id:88},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCache(h,function(a,c){return this.maybeCache(j,function(d,e){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,85,{left:b(a),inverted:!1,op:">",right:b(d)},!1,!1,!1,!1),body:b(c),elseIfs:[],elseBody:b(e)}},!1,!1,!1,!1)})})},operators:"max",options:{precedence:8},id:89},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"ident","__xor"),b(g),b(i))},operators:"xor",options:{precedence:1},id:90},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCache(h,function(a,c){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(a)},!1,!1,!1,!1),body:b(c),elseIfs:[],elseBody:b(j)}},!1,!1,!1,!1)})},operators:"?",options:{precedence:1},id:91},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("&"),b,d)},operators:"~bitand",options:{precedence:1,type:"number"},id:99},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("|"),b,d)},operators:"~bitor",options:{precedence:1,type:"number"},id:100},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,this.call(this.binaryOperator("^"),b,d)},operators:"~bitxor",options:{precedence:1,type:"number"},id:101},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,99,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~bitand",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitand",options:{precedence:1,type:"number"},id:105},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,100,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~bitor",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitor",options:{precedence:1,type:"number"},id:106},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,101,{left:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"~bitxor",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitxor",options:{precedence:1,type:"number"},id:107},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"ident","__range"),b(g),b(i),d(void 0,1),c("true"))},operators:"to",options:{maximum:1,precedence:4,type:"array"},id:119},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"ident","__range"),b(g),b(i),d(void 0,1),c("false"))},operators:"til",options:{maximum:1,precedence:4,type:"array"},id:120},{code:function(a,b,c,d,e,f){var g,h,i,j;return h=a.left,i=a.op,j=a.right,this.hasType(j,"number")||this.error("Must provide a number to the 'by' operator",j),j=this.macroExpand1(j),j.isConstValue(0)&&this.error("'by' step must be non-zero",j),h=this.macroExpand1(h),h.isCall&&(g=this.macroExpand1(h.func),g.isIdent&&"__range"===g.name)?f(void 0,e(void 0,"ident","__range"),b(h.args[0]),b(h.args[1]),b(j),b(h.args[3])):f(void 0,e(void 0,"ident","__step"),b(h),b(j))},operators:"by",options:{maximum:1,precedence:3,type:"array"},id:121},{code:function(){var a,b,c;return a=function(a,b){var c;if(c=typeof a,"number"!==c&&"string"!==c)throw new TypeError("Cannot compare a non-number/string: "+c);if(c!==typeof b)throw new TypeError("Cannot compare elements of different types: "+c+" vs "+typeof b);return b>a},b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+c(a));return a},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f,g,h,i){var j,k,l,m,n,o;return m=c.left,n=c.op,o=c.right,o=this.macroExpand1(o),o.isInternalCall("array")?(k=o.args,0===k.length?h(void 0,g(void 0,"internal","block"),d(m),e("false")):1===k.length?(j=k[0],i(void 0,80,{left:d(m),inverted:!1,op:"instanceof",right:d(j)},!1,!1,!1,!1)):(l=function(c,e,f){var g;return a(c,k.length)?(g=k[c],l(b(c)+1,i(void 0,2,{left:d(e),inverted:!1,op:"or",right:i(void 0,80,{left:d(f),inverted:!1,op:"instanceof",right:d(g)},!1,!1,!1,!1)},!1,!1,!1,!1),f)):e},this.maybeCache(m,function(a,b){var c;return c=k[0],l(1,i(void 0,80,{left:d(a),inverted:!1,op:"instanceof",right:d(c)},!1,!1,!1,!1),b)}))):h(void 0,g(void 0,"ident","__instanceofsome"),d(m),d(o))}}.call(this),operators:"instanceofsome",options:{precedence:6,maximum:1,invertible:!0,type:"boolean"},id:128},{code:function(){var a,b,c;return a="function"==typeof Object.is?Object.is:function(a,b){return a===b?0!==a||1/a===1/b:a!==a&&b!==b},b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+c(a));return a},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f,g,h,i){var j,k,l;return j=c.left,k=c.op,l=c.right,j=this.macroExpand1(j),l=this.macroExpand1(l),this.hasType(j,"number")&&this.hasType(l,"number")?j.isConst()?l.isConst()?this["const"](a(j.constValue(),l.constValue())):isNaN(j.constValue())?this.maybeCache(l,function(a,b){return i(void 0,6,{left:d(a),inverted:!1,op:"!=",right:d(b)},!1,!1,!1,!1)}):0===j.constValue()?this.maybeCache(l,function(a,c){return 1/b(j.constValue())<0?i(void 0,1,{left:i(void 0,5,{left:d(a),inverted:!1,op:"==",right:f(void 0,0)},!1,!1,!1,!1),inverted:!1,op:"and",right:i(void 0,84,{left:i(void 0,45,{left:f(void 0,1),inverted:!1,op:"~/",right:d(c)},!1,!1,!1,!1),inverted:!1,op:"<",right:f(void 0,0)},!1,!1,!1,!1)},!1,!1,!1,!1):i(void 0,1,{left:i(void 0,5,{left:d(a),inverted:!1,op:"==",right:f(void 0,0)},!1,!1,!1,!1),inverted:!1,op:"and",right:i(void 0,85,{left:i(void 0,45,{left:f(void 0,1),inverted:!1,op:"~/",right:d(c)},!1,!1,!1,!1),inverted:!1,op:">",right:f(void 0,0)},!1,!1,!1,!1)},!1,!1,!1,!1)}):i(void 0,5,{left:d(j),inverted:!1,op:"==",right:d(l)},!1,!1,!1,!1):l.isConst()?isNaN(l.constValue())?this.maybeCache(j,function(a,b){return i(void 0,6,{left:d(a),inverted:!1,op:"!=",right:d(b)},!1,!1,!1,!1)}):0===l.constValue()?this.maybeCache(j,function(a,c){return 1/b(l.constValue())<0?i(void 0,1,{left:i(void 0,5,{left:d(a),inverted:!1,op:"==",right:f(void 0,0)},!1,!1,!1,!1),inverted:!1,op:"and",right:i(void 0,84,{left:i(void 0,45,{left:f(void 0,1),inverted:!1,op:"~/",right:d(c)},!1,!1,!1,!1),inverted:!1,op:"<",right:f(void 0,0)},!1,!1,!1,!1)},!1,!1,!1,!1):i(void 0,1,{left:i(void 0,5,{left:d(a),inverted:!1,op:"==",right:f(void 0,0)},!1,!1,!1,!1),inverted:!1,op:"and",right:i(void 0,85,{left:i(void 0,45,{left:f(void 0,1),inverted:!1,op:"~/",right:d(c)},!1,!1,!1,!1),inverted:!1,op:">",right:f(void 0,0)},!1,!1,!1,!1)},!1,!1,!1,!1)}):i(void 0,5,{left:d(j),inverted:!1,op:"==",right:d(l)},!1,!1,!1,!1):h(void 0,g(void 0,"ident","__is"),d(j),d(l)):i(void 0,5,{left:d(j),inverted:!1,op:"==",right:d(l)},!1,!1,!1,!1)}}.call(this),operators:"is",options:{precedence:2,maximum:1,type:"boolean"},id:153},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,g(void 0,3,{op:"not",node:g(void 0,153,{left:b(h),inverted:!1,op:"is",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"isnt",options:{precedence:2,maximum:1,type:"boolean"},id:154},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,e(void 0,"ident","__compose"),b(g),b(i))},operators:"<<",options:{precedence:13,type:"function"},id:156},{code:function(a,b,c,d,e,f,g){var h,i,j,k;return h=a.left,i=a.op,j=a.right,this.isNoop(h)||this.isNoop(j)?f(void 0,e(void 0,"ident","__compose"),b(j),b(h)):(k=this.tmp("ref"),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(k)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(h)}},!0,!1,!1,!1),f(void 0,e(void 0,"ident","__compose"),b(j),b(k))))},operators:">>",options:{precedence:13,type:"function",rightToLeft:!0},id:157},{code:function(a,b,c,d,e,f){var g,h,i;return g=a.left,h=a.op,i=a.right,f(void 0,b(g),b(i))},operators:"<|",options:{precedence:0,rightToLeft:!0},id:158},{code:function(a,b,c,d,e,f,g){var h,i,j,k;return h=a.left,i=a.op,j=a.right,this.isNoop(h)||this.isNoop(j)?f(void 0,b(j),b(h)):(k=this.tmp("ref"),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(k)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(h)}},!0,!1,!1,!1),f(void 0,b(j),b(k))))},operators:"|>",options:{precedence:0},id:159},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+e(a))},d=function(c){if(null==c)throw new TypeError("Expected an object, got "+e(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+e(c))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,e,f,g,h,i){var j,k,l;return j=a.left,k=a.op,l=a.right,l=this.macroExpand1(l),l.isInternalCall("object")?this.maybeCache(j,function(a,j){var k,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;for(o=[a],A=l.args,k=d(A),q=1,t=k.length;t>q;++q)if(y=k[q],m=y.args,r=m[0],B=m[1],z=m[2],m=null,z=null!=z?z.constValue():void 0){if(("get"===z||"set"===z)&&t-1>q&&(v=A[q+1],m=v.args,u=m[0],x=m[1],w=m[2],m=null,w&&r.equals(u)&&z!==w&&("get"===w||"set"===w)))continue;"property"===z?o.push(h(r,g(r,"ident","__defProp"),b(j),b(r),b(B))):"get"===z||"set"===z?(s=q>1?A[q-1].args:void 0,p=s&&("get"===(m=null!=(n=s[2])?n.constValue():void 0)||"set"===m)&&r.equals(s[0])&&s[2].constValue()!==z?h(B,g(B,"internal","object"),g(B,"internal","nothing"),h(B,g(B,"internal","array"),b(s[2]),b(s[1])),h(B,g(B,"internal","array"),b(y.args[2]),b(B)),h(B,g(B,"internal","array"),f(B,"enumerable"),e("true")),h(B,g(B,"internal","array"),f(B,"configurable"),e("true"))):h(B,g(B,"internal","object"),g(B,"internal","nothing"),h(B,g(B,"internal","array"),b(y.args[2]),b(B)),h(B,g(B,"internal","array"),f(B,"enumerable"),e("true")),h(B,g(B,"internal","array"),f(B,"configurable"),e("true"))),o.push(h(r,g(r,"ident","__defProp"),b(j),b(r),b(p)))):this.error("Unknown property: "+c(z),r)}else o.push(i(r,29,{left:h(r,g(r,"internal","access"),b(j),b(r)),op:":=",right:b(B)},!0,!1,!1,!1));return o.push(j),this.internalCall("block",o)}):h(void 0,g(void 0,"ident","__import"),b(j),b(l))}}.call(this),operators:"<<<",options:{precedence:6},id:160},{code:function(a,b,c,d,e,f,g){var h,i,j,k;return h=a.left,i=a.op,j=a.right,this.isNoop(h)||this.isNoop(j)?g(void 0,160,{left:b(j),inverted:!1,op:"<<<",right:b(h)},!1,!1,!1,!1):(k=this.tmp("ref"),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(k)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(h)}},!0,!1,!1,!1),g(void 0,160,{left:b(j),inverted:!1,op:"<<<",right:b(k)},!0,!1,!1,!1)))},operators:">>>",options:{precedence:6,rightToLeft:!0},id:161}],assignOperator:[{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,!b.cacheable||b.isInternalCall("access")&&!b.args[0].cacheable&&!b.args[1].cacheable?this.mutateLast(d,function(a){return this.call(this.assignOperator("="),b,a)},!0):this.call(this.assignOperator("="),b,d)},operators:":=",options:{type:"right"},id:29},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,1,{left:b(a),inverted:!1,op:"and",right:g(void 0,29,{left:b(c),op:":=",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"and=",options:void 0,id:43},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,2,{left:b(a),inverted:!1,op:"or",right:g(void 0,29,{left:b(c),op:":=",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"or=",options:void 0,id:44},{code:function(a){var b,c,d;return b=a.left,c=a.op,d=a.right,b=this.macroExpand1(b),b.isIdentOrTmp?this.mutateLast(d,function(a){return"~*="===c?this.call(this.assignOperator("*="),b,a):"~/="===c?this.call(this.assignOperator("/="),b,a):this.call(this.assignOperator("%="),b,a)},!0):"~*="===c?this.call(this.assignOperator("*="),b,d):"~/="===c?this.call(this.assignOperator("/="),b,d):this.call(this.assignOperator("%="),b,d)},operators:["~*=","~/=","~%="],options:{type:"number"},id:46},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,45,{left:b(c),inverted:!1,op:"~\\",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"~\\=",options:{type:"number"},id:47},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,50,{left:b(c),inverted:!1,op:"~^",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"~^=",options:{type:"number"},id:51},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;if(h=this,j=a.left,k=a.op,l=a.right,l=this.macroExpand1(l),l.isValue){if(n=Number(l.value),1===n)return this.call(this.unaryOperator("++"),j);if(-1===n)return this.call(this.unaryOperator("--"),j)}return j=this.macroExpand1(j),this.isType(j,"numeric")?(i=function(a){return h.call(h.assignOperator("+="),j,h.isType(a,"numeric")?a:g(a,48,{op:"~+",node:b(a)},!1,!1,!1,!1))},j.isIdentOrTmp?this.mutateLast(l,i,!0):i(l)):(m=function(a){return h.call(h.assignOperator("-="),j,g(a,48,{op:"~-",node:b(a)},!1,!1,!1,!1))},j.isIdentOrTmp?this.mutateLast(l,m,!0):m(l))},operators:"~+=",options:{type:"number"},id:52},{code:function(a){function b(a){return c.call(c.assignOperator("-="),d,a)}var c,d,e,f,g;if(c=this,d=a.left,e=a.op,f=a.right,f=this.macroExpand1(f),f.isValue){if(g=Number(f.value),1===g)return this.call(this.unaryOperator("--"),d);if(-1===g)return this.call(this.unaryOperator("++"),d)}return d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~-=",options:{type:"number"},id:53},{code:function(a){function b(a){return c.call(c.assignOperator("<<="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~bitlshift=",options:{type:"number"},id:57},{code:function(a){function b(a){return c.call(c.assignOperator(">>="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~bitrshift=",options:{type:"number"},id:58},{code:function(a){function b(a){return c.call(c.assignOperator(">>>="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~biturshift=",options:{type:"number"},id:59},{code:function(a,b,c,d,e,f,g){function h(a){return i.call(i.assignOperator("+="),j,k&&i.hasType(a,"numeric")?g(a,30,{left:d(a,""),inverted:!1,op:"~&",right:b(a)},!1,!1,!1,!1):a)}var i,j,k,l,m;return i=this,j=a.left,l=a.op,m=a.right,j=this.macroExpand1(j),k=this.hasType(j,"numeric"),j.isIdentOrTmp?this.mutateLast(m,h,!0):h(m)},operators:"~&=",options:{type:"string"},id:60},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,66,{left:b(c),inverted:!1,op:"^",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"^=",options:{type:"number"},id:67},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,68,{left:b(c),inverted:!1,op:"\\",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"\\=",options:{type:"number"},id:74},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)?g(void 0,60,{left:b(h),op:"~&=",right:b(j)},!1,!1,!1,!1):this.isType(h,"string")?g(void 0,60,{left:b(h),op:"~&=",right:g(void 0,75,{left:d(void 0,""),inverted:!1,op:"&",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,75,{left:b(c),inverted:!1,op:"&",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"&=",options:{type:"string"},id:76},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return this.maybeCache(a,function(a,d){return this.maybeCache(j,function(e,f){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,17,{left:b(a),inverted:!1,op:"~>",right:b(e)},!1,!1,!1,!1),body:g(void 0,29,{left:b(c),op:":=",right:b(f)},!1,!1,!1,!1),elseIfs:[],elseBody:b(d)}},!1,!1,!1,!1)})})})},operators:"~min=",options:void 0,id:92},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return this.maybeCache(a,function(a,d){return this.maybeCache(j,function(e,f){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,9,{left:b(a),inverted:!1,op:"~<",right:b(e)},!1,!1,!1,!1),body:g(void 0,29,{left:b(c),op:":=",right:b(f)},!1,!1,!1,!1),elseIfs:[],elseBody:b(d)}},!1,!1,!1,!1)})})})},operators:"~max=",options:void 0,id:93},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return this.maybeCache(a,function(a,d){return this.maybeCache(j,function(e,f){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,85,{left:b(a),inverted:!1,op:">",right:b(e)},!1,!1,!1,!1),body:g(void 0,29,{left:b(c),op:":=",right:b(f)},!1,!1,!1,!1),elseIfs:[],elseBody:b(d)}},!1,!1,!1,!1)})})})},operators:"min=",options:void 0,id:94},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return this.maybeCache(a,function(a,d){return this.maybeCache(j,function(e,f){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,84,{left:b(a),inverted:!1,op:"<",right:b(e)},!1,!1,!1,!1),body:g(void 0,29,{left:b(c),op:":=",right:b(f)},!1,!1,!1,!1),elseIfs:[],elseBody:b(d)}},!1,!1,!1,!1)})})})},operators:"max=",options:void 0,id:95},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return g(void 0,29,{left:b(a),op:":=",right:g(void 0,90,{left:b(c),inverted:!1,op:"xor",right:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1)
})},operators:"xor=",options:void 0,id:96},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.maybeCacheAccess(h,function(a,c){return this.maybeCache(a,function(a,d){return"expression"===this.position?g(void 0,15,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(a)},!1,!1,!1,!1),body:b(d),elseIfs:[],elseBody:g(void 0,29,{left:b(c),op:":=",right:b(j)},!1,!1,!1,!1)}},!1,!1,!1,!1):g(void 0,16,{macroName:"if",macroData:{test:g(void 0,3,{op:"not",node:g(void 0,20,{op:"?",node:b(a)},!0,!1,!1,!1)},!0,!1,!1,!1),body:g(void 0,29,{left:b(c),op:":=",right:b(j)},!0,!1,!1,!1),elseIfs:[],elseBody:b(d)}},!0,!1,!1,!1)})})},operators:"?=",options:void 0,id:97},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m;return j=a.left,k=a.op,m=a.right,j=this.macroExpand1(j),j.isInternalCall("access")||this.error("Can only use ownsor= on an access",j),h=j.args,l=h[0],i=h[1],h=null,this.maybeCache(l,function(a,c){return this.maybeCache(i,function(d,h){return"expression"===this.position?g(void 0,15,{macroName:"if",macroData:{test:g(void 0,79,{left:b(a),inverted:!1,op:"ownskey",right:b(d)},!1,!1,!1,!1),body:f(void 0,e(void 0,"internal","access"),b(c),b(h)),elseIfs:[],elseBody:g(void 0,29,{left:f(void 0,e(void 0,"internal","access"),b(c),b(h)),op:":=",right:b(m)},!1,!1,!1,!1)}},!1,!1,!1,!1):g(void 0,16,{macroName:"if",macroData:{test:g(void 0,79,{left:b(a),inverted:!0,op:"ownskey",right:b(d)},!0,!1,!1,!1),body:g(void 0,29,{left:f(void 0,e(void 0,"internal","access"),b(c),b(h)),op:":=",right:b(m)},!0,!1,!1,!1),elseIfs:[],elseBody:f(void 0,e(void 0,"internal","access"),b(c),b(h))}},!0,!1,!1,!1)})})},operators:"ownsor=",options:void 0,id:98},{code:function(a){function b(a){return c.call(c.assignOperator("&="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~bitand=",options:{type:"number"},id:102},{code:function(a){function b(a){return c.call(c.assignOperator("|="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~bitor=",options:{type:"number"},id:103},{code:function(a){function b(a){return c.call(c.assignOperator("^="),d,a)}var c,d,e,f;return c=this,d=a.left,e=a.op,f=a.right,d=this.macroExpand1(d),d.isIdentOrTmp?this.mutateLast(f,b,!0):b(f)},operators:"~bitxor=",options:{type:"number"},id:104},{code:function(a,b,c,d,e,f,g){var h,i,j;return h=a.left,i=a.op,j=a.right,this.getConstValue("DISABLE_TYPE_CHECKING",!1)||this.isType(h,"number")?"*="===i?g(void 0,46,{left:b(h),op:"~*=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"/="===i?g(void 0,46,{left:b(h),op:"~/=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"%="===i?g(void 0,46,{left:b(h),op:"~%=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"+="===i?g(void 0,52,{left:b(h),op:"~+=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"-="===i?g(void 0,53,{left:b(h),op:"~-=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"bitlshift="===i?g(void 0,57,{left:b(h),op:"~bitlshift=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"bitrshift="===i?g(void 0,58,{left:b(h),op:"~bitrshift=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"biturshift="===i?g(void 0,59,{left:b(h),op:"~biturshift=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"bitand="===i?g(void 0,102,{left:b(h),op:"~bitand=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"bitor="===i?g(void 0,103,{left:b(h),op:"~bitor=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):"bitxor="===i?g(void 0,104,{left:b(h),op:"~bitxor=",right:g(void 0,64,{op:"+",node:b(j)},!1,!1,!1,!1)},!1,!1,!1,!1):this.error("Unknown operator "+i):this.maybeCacheAccess(h,function(a,c){var d;return d="*="===i?g(void 0,68,{left:b(c),inverted:!1,op:"*",right:b(j)},!1,!1,!1,!1):"/="===i?g(void 0,68,{left:b(c),inverted:!1,op:"/",right:b(j)},!1,!1,!1,!1):"%="===i?g(void 0,68,{left:b(c),inverted:!1,op:"%",right:b(j)},!1,!1,!1,!1):"+="===i?g(void 0,70,{left:b(c),inverted:!1,op:"+",right:b(j)},!1,!1,!1,!1):"-="===i?g(void 0,70,{left:b(c),inverted:!1,op:"-",right:b(j)},!1,!1,!1,!1):"bitlshift="===i?g(void 0,71,{left:b(c),inverted:!1,op:"bitlshift",right:b(j)},!1,!1,!1,!1):"bitrshift="===i?g(void 0,72,{left:b(c),inverted:!1,op:"bitrshift",right:b(j)},!1,!1,!1,!1):"biturshift="===i?g(void 0,73,{left:b(c),inverted:!1,op:"biturshift",right:b(j)},!1,!1,!1,!1):"bitand="===i?g(void 0,105,{left:b(c),inverted:!1,op:"bitand",right:b(j)},!1,!1,!1,!1):"bitor="===i?g(void 0,106,{left:b(c),inverted:!1,op:"bitor",right:b(j)},!1,!1,!1,!1):"bitxor="===i?g(void 0,107,{left:b(c),inverted:!1,op:"bitxor",right:b(j)},!1,!1,!1,!1):this.error("Unknown operator "+i),g(void 0,29,{left:b(a),op:":=",right:b(d)},!1,!1,!1,!1)})},operators:["*=","/=","%=","+=","-=","bitlshift=","bitrshift=","biturshift=","bitand=","bitor=","bitxor="],options:{type:"number"},id:112}],unaryOperator:[{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b,function(a){return this.call(this.unaryOperator("!"),a)},!0)},operators:"not",options:{type:"boolean"},id:3},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b,function(a){return this.call(this.unaryOperator("typeof"),a)},!0)},operators:"typeof",options:{type:"string"},id:4},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b,function(a){return this.internalCall("throw",a)},!0)},operators:"throw",options:{type:"none"},id:10},{code:function(a){var b,c;return c=a.op,b=a.node,this.call(this.unaryOperator("++post"),b)},operators:"postInc!",options:{type:"number"},id:11},{code:function(a){var b,c;return c=a.op,b=a.node,this.call(this.unaryOperator("--post"),b)},operators:"postDec!",options:{type:"number"},id:12},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h&&h.isIdentOrTmp&&!this.hasVariable(h)?g(void 0,1,{left:g(void 0,6,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"!=",right:d(void 0,"undefined")},!1,!1,!1,!1),inverted:!1,op:"and",right:g(void 0,6,{left:b(h),inverted:!1,op:"!=",right:c("null")},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,8,{left:b(h),inverted:!1,op:"!~=",right:c("null")},!1,!1,!1,!1)},operators:"?",options:{postfix:!0,type:"boolean",label:"existential"},id:20},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h&&h.isIdentOrTmp&&!this.hasVariable(h)?g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"undefined")},!1,!1,!1,!1):g(void 0,5,{left:b(h),inverted:!1,op:"==",right:c("void")},!1,!1,!1,!1)},operators:["isVoid!","isUndefined!"],options:{type:"boolean"},id:21},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h&&h.isIdentOrTmp&&!this.hasVariable(h)?g(void 0,1,{left:g(void 0,6,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"!=",right:d(void 0,"undefined")},!1,!1,!1,!1),inverted:!1,op:"and",right:g(void 0,5,{left:b(h),inverted:!1,op:"==",right:c("null")},!1,!1,!1,!1)},!1,!1,!1,!1):g(void 0,5,{left:b(h),inverted:!1,op:"==",right:c("null")},!1,!1,!1,!1)},operators:"isNull!",options:{type:"boolean"},id:22},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"string")},!1,!1,!1,!1)},operators:"isString!",options:{type:"boolean"},id:23},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"number")},!1,!1,!1,!1)},operators:"isNumber!",options:{type:"boolean"},id:24},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"boolean")},!1,!1,!1,!1)},operators:"isBoolean!",options:{type:"boolean"},id:25},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"function")},!1,!1,!1,!1)},operators:"isFunction!",options:{type:"boolean"},id:26},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h&&h.isIdentOrTmp&&!this.hasVariable(h)?g(void 0,1,{left:g(void 0,6,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"!=",right:d(void 0,"undefined")},!1,!1,!1,!1),inverted:!1,op:"and",right:f(void 0,e(void 0,"ident","__isArray"),b(h))},!1,!1,!1,!1):f(void 0,e(void 0,"ident","__isArray"),b(h))},operators:"isArray!",options:{type:"boolean"},id:27},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,1,{left:g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"object")},!1,!1,!1,!1),inverted:!1,op:"and",right:g(void 0,6,{left:b(h),inverted:!1,op:"!=",right:c("null")},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"isObject!",options:{type:"boolean"},id:28},{code:function(a){var b,c,d,e;return d=a.op,c=a.node,c=this.macroExpand1(c),c.isValue?(e=Number(c.value),"~-"===d&&(b=function(a){return-a},e=b(e)),this["const"](e)):this.mutateLast(c,function(a){return this.call(this.unaryOperator(d.charAt(1)),a)},!0)},operators:["~+","~-"],options:{type:"number"},id:48},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h=this.macroExpand1(h),h.isIdentOrTmp&&!this.hasVariable(h)?g(void 0,15,{macroName:"if",macroData:{test:g(void 0,5,{left:g(void 0,4,{op:"typeof",node:b(h)},!1,!1,!1,!1),inverted:!1,op:"==",right:d(void 0,"undefined")},!1,!1,!1,!1),body:d(void 0,"Undefined"),elseIfs:[],elseBody:f(void 0,e(void 0,"ident","__typeof"),b(h))}},!1,!1,!1,!1):this.mutateLast(h,function(a){return f(void 0,e(void 0,"ident","__typeof"),b(a))},!0)},operators:"typeof!",options:{type:"string"},id:61},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,this.mutateLast(h,function(a){return this.isType(a,"number")?a:this.getConstValue("DISABLE_TYPE_CHECKING",!1)?g(void 0,48,{op:"~+",node:b(a)},!1,!1,!1,!1):f(void 0,e(void 0,"ident","__num"),b(a))},!0)},operators:"+",options:{type:"number"},id:64},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,this.mutateLast(h,function(a){return a=this.macroExpand1(a),a.isConstType("number")?this["const"](-a.constValue()):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?g(void 0,48,{op:"~-",node:b(a)},!1,!1,!1,!1):g(void 0,48,{op:"~-",node:g(void 0,64,{op:"+",node:b(a)},!1,!1,!1,!1)},!1,!1,!1,!1)})},operators:"-",options:{type:"number"},id:65},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,68,{left:b(h),inverted:!1,op:"/",right:d(void 0,100)},!1,!1,!1,!1)},operators:"%",options:{postfix:!0,type:"number"},id:69},{code:function(a){var b,c;return c=a.op,b=a.node,this.mutateLast(b,function(a){return this.call(this.unaryOperator("~"),a)},!0)},operators:"~bitnot",options:{type:"number"},id:108},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,g(void 0,108,{op:"~bitnot",node:g(void 0,64,{op:"+",node:b(h)},!1,!1,!1,!1)},!1,!1,!1,!1)},operators:"bitnot",options:{type:"number"},id:109},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,h=this.macroExpand1(h),h.isInternalCall("access")||this.error("Can only use delete on an access",h),"expression"===this.position?this.maybeCacheAccess(h,function(a,c){var d,h;return h=this.tmp("ref"),d=this.call(this.unaryOperator("delete"),c),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(h)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(a)}},!0,!1,!1,!1),b(d),b(h))}):this.call(this.unaryOperator("delete"),h)},operators:"delete",options:{standalone:!1},id:110},{code:function(a,b,c,d,e,f,g){var h,i;return i=a.op,h=a.node,this.maybeCache(h,function(a,c){return g(void 0,15,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(a)},!1,!1,!1,!1),body:g(void 0,10,{op:"throw",node:b(c)},!1,!1,!1,!1),elseIfs:[]}},!1,!1,!1,!1)})},operators:"throw?",options:{type:"undefined"},id:111},{code:function(){var a,b,c,d,e,f,g,h;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+g(a));return a},c=Object.prototype.hasOwnProperty,d=Array.prototype.slice,e=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+g(a))},f=function(b){if(null==b)throw new TypeError("Expected an object, got "+g(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return d.call(b);throw new TypeError("Expected an object with a length property, got "+g(b))},g=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),h=function(a,b){return a?!b&&a:b||a},function(a,d,i,j,k,l,m){function n(a){return/^[aeiou]/i.test(a)?"an":"a"}function o(a){return n(a)+" "+e(a)}function p(a){var b,c,e;return a=t.macroExpand1(a),a.isInternalCall("typeGeneric")?(c=a.args[0],c.isIdent&&("Array"===(b=c.name)||"Function"===b)||t.getConstValue("DISABLE_GENERICS",!1)?c:(e=t.internalCall("array",function(){var b,c,d,e,g;for(b=[],c=f(a.args),d=1,e=c.length;e>d;++d)g=c[d],b.push(p(g));return b}()),l(void 0,l(void 0,k(void 0,"internal","access"),d(c),j(void 0,"generic")),l(void 0,k(void 0,"internal","spread"),d(e))))):a}function q(a,e,n,r){var s,u,v,x,y,z,A,B,C,D,E,F,G,H,J,K,L,M,N,O,P,Q;if(n=t.macroExpandAll(n),n.isIdent)return L=w?t.noop():c.call(I,n.name)?m(a,16,{macroName:"if",macroData:{test:m(a,80,{left:d(a),inverted:!0,op:"instanceof",right:d(n)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be ")},!1,!1,!1,!1),op:"",right:d(o(n.name))},!1,!1,!1,!1),op:"",right:j(a,", got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1):m(a,16,{macroName:"if",macroData:{test:m(a,80,{left:d(a),inverted:!0,op:"instanceof",right:d(n)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be a ")},!1,!1,!1,!1),op:"",right:l(a,k(a,"ident","__name"),d(n))},!1,!1,!1,!1),op:"",right:j(a,", got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),r||"Boolean"!==n.name?L:m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,20,{op:"?",node:d(a)},!0,!1,!0,!1)},!0,!1,!0,!1),body:m(a,29,{left:d(a),op:":=",right:i("false")},!0,!1,!0,!1),elseIfs:[],elseBody:d(L)}},!0,!1,!0,!1);if(n.isInternalCall("access"))return w?t.noop():m(a,16,{macroName:"if",macroData:{test:m(a,80,{left:d(a),inverted:!0,op:"instanceof",right:d(n)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be a ")},!1,!1,!1,!1),op:"",right:l(a,k(a,"ident","__name"),d(n))},!1,!1,!1,!1),op:"",right:j(a,", got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1);if(n.isInternalCall("typeUnion")){for(B=!1,D=!1,C=!1,J=[],P=[],s=f(n.args),v=0,x=s.length;x>v;++v)N=s[v],N.isConst()?N.isConstValue(null)?(C=!0,J.push(t["const"]("null"))):N.isConstValue(void 0)?(D=!0,J.push(t["const"]("undefined"))):t.error("Unknown const for type-checking: "+g(N.constValue()),N):N.isIdent?("Boolean"===N.name&&(B=!0),c.call(I,N.name)?J.push(t["const"](N.name)):J.push(l(N,k(N,"ident","__name"),d(N))),P.push(m(a,80,{left:d(a),inverted:!0,op:"instanceof",right:d(N)},!1,!1,!1,!1))):t.error("Not implemented: typechecking for non-idents/consts within a type-union",N);if(w)L=t.noop();else{for(z=i("true"),v=0,x=P.length;x>v;++v)O=P[v],z=m(void 0,1,{left:d(z),inverted:!1,op:"and",right:d(O)},!1,!1,!1,!1);for(O=z,z=J[0],v=1,x=J.length;x>v;++v)H=J[v],z=m(z,75,{left:m(z,75,{left:d(z),op:"",right:j(z," or ")},!1,!1,!1,!1),op:"",right:d(H)},!1,!1,!1,!1);Q=z,L=m(a,16,{macroName:"if",macroData:{test:d(O),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be one of ")},!1,!1,!1,!1),op:"",right:d(Q)},!1,!1,!1,!1),op:"",right:j(a,", got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)}return r||(C||D?L=h(C,D)?m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,20,{op:"?",node:d(a)},!0,!1,!0,!1)},!0,!1,!0,!1),body:m(a,29,{left:d(a),op:":=",right:m(a,15,{macroName:"if",macroData:{test:d(C),body:i("null"),elseIfs:[],elseBody:i("void")}},!1,!1,!0,!1)},!0,!1,!0,!1),elseIfs:[],elseBody:d(L)}},!0,!1,!0,!1):m(a,16,{macroName:"if",macroData:{test:m(a,20,{op:"?",node:d(a)},!0,!1,!1,!1),body:d(L),elseIfs:[]}},!0,!1,!1,!1):B&&(L=m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,20,{op:"?",node:d(a)},!0,!1,!0,!1)},!0,!1,!0,!1),body:m(a,29,{left:d(a),op:":=",right:i("false")},!0,!1,!0,!1),elseIfs:[],elseBody:d(L)}},!0,!1,!0,!1))),L}if(n.isInternalCall("typeGeneric"))return w?t.noop():n.args[0].isIdent&&"Array"===n.args[0].name?(F=t.tmp("i",!1),M=q(l(a,k(a,"internal","access"),d(a),d(F)),m(a,75,{left:m(a,75,{left:m(a,75,{left:d(e),inverted:!1,op:"&",right:j(a,"[")},!1,!1,!1,!1),inverted:!1,op:"&",right:d(F)},!1,!1,!1,!1),inverted:!1,op:"&",right:j(a,"]")},!1,!1,!1,!1),n.args[1],!1),m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,27,{op:"isArray!",node:d(a)},!0,!1,!1,!1)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be an Array, got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:m(a,115,{macroName:"for",macroData:{init:m(a,38,{macroName:"let",macroData:{declarable:m(a,37,m(a,31,{isMutable:"mutable",ident:d(F),asType:k(a,"ident","Number")},!1,!1,!1,!1),!1,!1,!1,!1),value:m(a,64,{op:"+",node:l(a,k(a,"internal","access"),d(a),j(a,"length"))},!1,!1,!1,!1)}},!1,!1,!1,!1),test:m(a,12,{op:"postDec!",node:d(F)},!0,!1,!1,!1),body:d(M)}},!0,!1,!1,!1)}},!0,!1,!1,!1)):n.args[0].isIdent&&"Function"===n.args[0].name?q(a,e,n.args[0],r):(A=p(n),m(a,16,{macroName:"if",macroData:{test:m(a,80,{left:d(a),inverted:!0,op:"instanceof",right:d(A)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be a ")},!1,!1,!1,!1),op:"",right:l(a,k(a,"ident","__name"),d(A))},!1,!1,!1,!1),op:"",right:j(a,", got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1));if(n.isInternalCall("typeObject")){if(w)return t.noop();for(s=[],E=0,u=b(n.args.length);u>E;E+=2)G=n.args[E],K=n.args[E+1],s.push(q(l(a,k(a,"internal","access"),d(a),d(G)),m(a,75,{left:m(a,75,{left:d(e),inverted:!1,op:"&",right:j(a,".")},!1,!1,!1,!1),inverted:!1,op:"&",right:d(G)},!1,!1,!1,!1),K,!1));return y=s,m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,28,{op:"isObject!",node:d(a)},!0,!1,!1,!1)},!0,!1,!1,!1),body:m(a,10,{op:"throw",node:l(a,k(a,"ident","TypeError"),m(a,75,{left:m(a,75,{left:m(a,75,{left:j(a,"Expected "),op:"",right:d(e)},!1,!1,!1,!1),op:"",right:j(a," to be an Object, got ")},!1,!1,!1,!1),op:"",right:m(a,61,{op:"typeof!",node:d(a)},!1,!1,!1,!1)},!1,!1,!1,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:d(y)}},!0,!1,!1,!1)}return t.error("Unknown type to translate: "+g(n),n)}function r(a,b){var c,h,i,n,o,p,s,u,w,x,y,z,B,C,D,E,F,G,H,I,J,K;if(a=t.macroExpand1(a),a.isInternalCall("array")){for(v=!0,n=t.tmp("p",!1),x=-1,c=f(a.args),y=0,D=c.length;D>y;++y)s=c[y],B=A.length,w=r(s,!0),null!=w&&(u=w.args[0],w.args[2].isConstTruthy()?(-1!==x&&t.error("Cannot have multiple spread parameters in an array destructure",s),x=y,y===D-1?A.splice(B,0,m(s,38,{macroName:"let",macroData:{declarable:m(s,37,m(s,31,{ident:d(u)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(s,k(s,"internal","contextCall"),k(s,"ident","__slice"),d(n),l(s,k(s,"internal","spread"),m(s,15,{macroName:"if",macroData:{test:m(s,5,{left:d(y),inverted:!1,op:"==",right:j(s,0)},!1,!1,!1,!1),body:l(s,k(s,"internal","array")),elseIfs:[],elseBody:l(s,k(s,"internal","array"),d(y))}},!1,!1,!1,!1)))}},!0,!1,!1,!1)):(H=t.tmp("i",!1),A.splice(B,0,l(s,k(s,"internal","block"),m(s,38,{macroName:"let",macroData:{declarable:m(s,37,m(s,31,{isMutable:"mutable",ident:d(H),asType:k(s,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:m(s,70,{left:l(s,k(s,"internal","access"),d(n),j(s,"length")),inverted:!1,op:"-",right:m(s,70,{left:m(s,70,{left:d(D),inverted:!1,op:"-",right:d(y)},!1,!1,!1,!1),inverted:!1,op:"-",right:j(s,1)},!1,!1,!1,!1)},!1,!1,!1,!1)}},!0,!1,!1,!1),m(s,38,{macroName:"let",macroData:{declarable:m(s,37,m(s,31,{ident:d(u),asType:k(s,"ident","Array")},!0,!1,!1,!1),!0,!1,!1,!1),value:m(s,16,{macroName:"if",macroData:{test:m(s,85,{left:d(H),inverted:!1,op:">",right:d(y)},!1,!1,!1,!1),body:l(s,k(s,"internal","contextCall"),k(s,"ident","__slice"),d(n),d(y),d(H)),elseIfs:[],elseBody:l(s,k(s,"internal","block"),m(s,29,{left:d(H),op:":=",right:d(y)},!0,!1,!1,!1),l(s,k(s,"internal","array")))}},!1,!1,!1,!1)}},!0,!1,!1,!1))))):-1===x?A.splice(B,0,m(s,38,{macroName:"let",macroData:{declarable:m(s,37,m(s,31,{ident:d(u)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(s,k(s,"internal","access"),d(n),d(y))}},!0,!1,!1,!1)):A.splice(B,0,m(s,38,{macroName:"let",macroData:{declarable:m(s,37,m(s,31,{ident:d(u)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(s,k(s,"internal","access"),d(n),m(s,70,{left:d(H),inverted:!1,op:"+",right:m(s,70,{left:m(s,70,{left:d(y),inverted:!1,op:"-",right:d(x)},!1,!1,!1,!1),inverted:!1,op:"-",right:j(s,1)},!1,!1,!1,!1)},!1,!1,!1,!1))}},!0,!1,!1,!1)));return t.internalCall("param",n,t.noop(),t["const"](!1),t["const"](!1),t.noop())}if(a.isInternalCall("object")){for(v=!0,E=t.tmp("p",!1),c=f(a.args),h=1,i=c.length;i>h;++h)F=c[h],B=A.length,J=r(F.args[1],!0),null!=J&&(K=J.args[0],C=F.args[0],A.splice(B,0,m(F.value,38,{macroName:"let",macroData:{declarable:m(F.value,37,m(F.value,31,{ident:d(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(F.value,k(F.value,"internal","access"),d(E),d(C))}},!0,!1,!1,!1)));return t.internalCall("param",E,t.noop(),t["const"](!1),t["const"](!1),t.noop())}return a.isInternalCall("param")?(p=a.args[1],o=a.args[4],G=a.args[0],p.isNothing&&o.isNothing&&G.isIdentOrTmp?a:(v=!0,z=G.isIdentOrTmp?G:G.isInternalCall("access")?t.ident(G.args[1].constValue()):t.error("Not an ident or this-access: "+g(G)+" "+e(null!=G&&"function"==typeof G.inspect&&G.inspect()||""),G),I=o.isNothing?t.noop():q(z,z.name,o,!p.isNothing),A.push(p.isNothing?I:m(a,16,{macroName:"if",macroData:{test:m(a,3,{op:"not",node:m(a,20,{op:"?",node:d(z)},!0,!1,!0,!1)},!0,!1,!0,!1),body:m(a,29,{left:d(z),op:":=",right:d(p)},!0,!1,!0,!1),elseIfs:[],elseBody:d(I)}},!0,!1,!0,!1)),G!==z&&A.push(m(a,29,{left:d(G),op:":=",right:d(z)},!0,!1,!1,!1)),t.internalCall("param",z,t.noop(),a.args[2],a.args[3],t.noop()))):a.isNothing?(v=!0,b?null:t.internalCall("param",t.tmp("p",!1),t.noop(),t["const"](!1),t["const"](!1),t.noop())):t.error("Unknown param type: "+g(a),a)}var s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K;if(t=this,E=a.op,D=a.node,D=this.macroExpand1(D),!D.isInternalCall("function"))return D;for(w=this.getConstValue("DISABLE_TYPE_CHECKING",!1),I={Number:!0,String:!0,Boolean:!0,Function:!0,Array:!0,Object:!0},A=[],v=!1,x=-1,H=[],s=f(D.args[0].args),y=0,C=s.length;C>y;++y)G=s[y],B=A.length,F=r(G,!1),z=F.args[0],F.args[2].isConstTruthy()?(-1!==x&&this.error("Cannot have two spread parameters",F),v=!0,x=y,y===C-1?A.splice(B,0,m(G,38,{macroName:"let",macroData:{declarable:m(G,37,m(G,31,{ident:d(z)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(G,k(G,"internal","contextCall"),k(G,"ident","__slice"),k(G,"ident","arguments"),l(G,k(G,"internal","spread"),m(G,15,{macroName:"if",macroData:{test:m(G,5,{left:d(y),inverted:!1,op:"==",right:j(G,0)},!1,!1,!1,!1),body:l(G,k(G,"internal","array")),elseIfs:[],elseBody:l(G,k(G,"internal","array"),d(y))}},!1,!1,!1,!1)))}},!0,!1,!1,!1)):(K=this.tmp("i",!1),A.splice(B,0,l(G,k(G,"internal","block"),m(G,38,{macroName:"let",macroData:{declarable:m(G,37,m(G,31,{isMutable:"mutable",ident:d(K),asType:k(G,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:m(G,70,{left:l(G,k(G,"internal","access"),k(G,"ident","arguments"),j(G,"length")),inverted:!1,op:"-",right:m(G,70,{left:m(G,70,{left:d(C),inverted:!1,op:"-",right:d(y)},!1,!1,!1,!1),inverted:!1,op:"-",right:j(G,1)},!1,!1,!1,!1)},!1,!1,!1,!1)}},!0,!1,!1,!1),m(G,38,{macroName:"let",macroData:{declarable:m(G,37,m(G,31,{ident:d(z),asType:k(G,"ident","Array")},!0,!1,!1,!1),!0,!1,!1,!1),value:m(G,16,{macroName:"if",macroData:{test:m(G,85,{left:d(K),inverted:!1,op:">",right:d(y)},!1,!1,!1,!1),body:l(G,k(G,"internal","contextCall"),k(G,"ident","__slice"),k(G,"ident","arguments"),d(y),d(K)),elseIfs:[],elseBody:l(G,k(G,"internal","block"),m(G,29,{left:d(K),op:":=",right:d(y)},!0,!1,!1,!1),l(G,k(G,"internal","array")))}},!1,!1,!1,!1)}},!0,!1,!1,!1))))):-1===x?H.push(F):A.splice(B,0,m(G,38,{macroName:"let",macroData:{declarable:m(G,37,m(G,31,{ident:d(z)},!0,!1,!1,!1),!0,!1,!1,!1),value:l(G,k(G,"internal","access"),k(G,"ident","arguments"),m(G,70,{left:d(K),inverted:!1,op:"+",right:m(G,70,{left:m(G,70,{left:d(y),inverted:!1,op:"-",right:d(x)},!1,!1,!1,!1),inverted:!1,op:"-",right:j(G,1)},!1,!1,!1,!1)},!1,!1,!1,!1))}},!0,!1,!1,!1));return A.length||v?(u=D.args[1],J=this.func(H,l(u,k(u,"internal","block"),d(A),i("void"),d(u)),D.args[2],D.args[3],D.args[4])):J=D,J}}.call(this),operators:"mutateFunction!",options:{type:"node",label:"mutateFunction"},id:127},{code:function(a,b,c,d,e,f){var g,h;return h=a.op,g=a.node,f(void 0,e(void 0,"ident","__keys"),b(g))},operators:"keys!",options:void 0,id:134},{code:function(a,b,c,d,e,f){var g,h;return h=a.op,g=a.node,f(void 0,e(void 0,"ident","__allkeys"),b(g))},operators:"allkeys!",options:void 0,id:135},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s;if(p=a.op,o=a.node,r=this.tmp("s"),o=this.macroExpand1(o),o.isInternalCall("array")){if(0===o.args.length)return g(void 0,f(void 0,"ident","Set"));for(q=[],s=this.tmp("x"),i=c(o.args),j=0,k=i.length;k>j;++j)m=i[j],l=this.macroExpand1(m),l.isInternalCall("spread")?q.push(h(l,122,{macroName:"for",macroData:{value:h(l,37,h(l,31,{ident:b(s)},!0,!1,!1,!1),!0,!1,!1,!1),array:b(l.args[0]),body:g(l,g(l,f(l,"internal","access"),b(r),e(l,"add")),b(s))}},!0,!1,!1,!1)):q.push(g(l,g(l,f(l,"internal","access"),b(r),e(l,"add")),b(l)));return g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:b(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"ident","Set"))}},!0,!1,!1,!1),b(q),b(r))}return n=this.tmp("x"),g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:b(r),asType:f(void 0,"ident","Set")},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"ident","Set"))}},!0,!1,!1,!1),h(void 0,122,{macroName:"for",macroData:{value:h(void 0,37,h(void 0,31,{ident:b(n)},!0,!1,!1,!1),!0,!1,!1,!1),array:b(o),body:g(void 0,g(void 0,f(void 0,"internal","access"),b(r),e(void 0,"add")),b(n))}},!0,!1,!1,!1),b(r))}}.call(this),operators:"set!",options:{type:"object",label:"constructSet"},id:162},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t;if(p=a.op,o=a.node,n=this.tmp("m"),o=this.macroExpand1(o),o.isInternalCall("object")){if(r=o.args,0===r.length)return g(void 0,f(void 0,"ident","Map"));for(s=[],i=c(r),j=1,k=i.length;k>j;++j)q=i[j],(null!=(l=q.args[2])?l.constValue():void 0)&&this.error("Cannot use map! on an object with custom properties",q),s.push(g(q,g(q,f(q,"internal","access"),b(n),e(q,"set")),b(q.args[0]),b(q.args[1])));return g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:b(n),asType:f(void 0,"ident","Map")},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"ident","Map"))}},!0,!1,!1,!1),b(s),b(n))}return m=this.tmp("k"),t=this.tmp("v"),g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:b(n),asType:f(void 0,"ident","Map")},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"ident","Map"))}},!0,!1,!1,!1),h(void 0,124,{macroName:"for",macroData:{key:b(m),value:{value:h(void 0,37,h(void 0,31,{ident:b(t)},!0,!1,!1,!1),!0,!1,!1,!1)},type:"of",object:b(o),body:g(void 0,g(void 0,f(void 0,"internal","access"),b(n),e(void 0,"set")),b(m),b(t))}},!0,!1,!1,!1),b(n))}}.call(this),operators:"map!",options:{type:"object",label:"constructMap"},id:163}],defineSyntax:[{code:function(a){var b,c,d;return d=a.isMutable,c=a.ident,b=a.asType,c=this.macroExpand1(c),this.isNode(c)?{type:"ident",isMutable:"mutable"===d,ident:c,asType:b}:c},options:{name:"DeclarableIdent"},params:[["ident","isMutable","many","?","const","mutable"],["ident","ident","ident","Identifier"],["ident","asType","many","?","sequence",["const","as"],["this","ident","Type"]]],id:31},{code:function(a){var b,c;return b=a.head,c=a.tail,{type:"array",elements:[b].concat(c)}},options:{name:"DeclarableArray"},params:[["const","["],["ident","head","choice",["ident","Declarable"],["const",""]],["ident","tail","many","*","sequence",["const",","],["this","choice",["ident","Declarable"],["const",""]]],["const","]"]],id:32},{code:function(a){var b;return b=a.value,b=this.macroExpand1(b),{key:b.ident.name,value:b}},options:{name:"DeclarableObjectSingularPair"},params:[["ident","value","ident","DeclarableIdent"]],id:33},{code:void 0,options:{name:"DeclarableObjectDualPair"},params:[["this","sequence",["ident","key","ident","ObjectKey"],["const",":"],["ident","value","ident","Declarable"]]],id:34},{code:void 0,options:{name:"DeclarableObjectPair"},params:[["this","choice",["ident","DeclarableObjectDualPair"],["ident","DeclarableObjectSingularPair"]]],id:35},{code:function(a){var b,c;return b=a.head,c=a.tail,{type:"object",pairs:[b].concat(c)}},options:{name:"DeclarableObject"},params:[["const","{"],["ident","head","ident","DeclarableObjectPair"],["ident","tail","many","*","sequence",["const",","],["this","ident","DeclarableObjectPair"]],["const","}"]],id:36},{code:void 0,options:{name:"Declarable"},params:[["this","choice",["ident","DeclarableArray"],["ident","DeclarableObject"],["ident","DeclarableIdent"]]],id:37}],syntax:[{code:function(a,b,c,d,e,f){var g,h,i;
return i=a.macroName,h=a.macroData,g=h.body,f(void 0,f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array")),f(void 0,e(void 0,"internal","autoReturn"),b(g)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1)))},options:void 0,params:[["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:0},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this.internalCall("debugger")},options:void 0,params:[["const",""]],names:"debugger",id:13},{code:function(a){var b,c,d,e,f;return b=this,f=a.macroName,e=a.macroData,d=e.ident,c=e.func,d.isIdent&&this.isPrimordial(d)&&this.error(["Cannot declare primordial '",d.name,"'"].join(""),d),this.addVariable(d,!1,function(){return b.type(c)}),this.internalCall("block",this.internalCall("var",d),this.call(this.assignOperator("="),d,c))},options:void 0,params:[["ident","ident","ident","Identifier"],["ident","func","ident","FunctionDeclaration"]],names:"let",id:14},{code:function(a,b,c,d,e,f,g){function h(a){return a-1}function i(a,b){return 0>a&&b||i.call(this,h(a),this.internalCall("if",l[a].test||this.noop(),l[a].body||this.noop(),b))}var j,k,l,m,n,o;return n=a.macroName,m=a.macroData,o=m.test,j=m.body,l=m.elseIfs,k=m.elseBody,this.internalCall("if","unless"===n&&g(o,3,{op:"not",node:b(o)},!1,!1,!1,!1)||o||this.noop(),j||this.noop(),i.call(this,h(l.length),k||this.noop()))},options:void 0,params:[["ident","test","ident","Logic"],["const","then"],["ident","body"],["ident","elseIfs","many","*","sequence",["const","else"],["const","if"],["ident","test","ident","Logic"],["const","then"],["ident","body"]],["ident","elseBody","many","?","sequence",["const","else"],["this"]]],names:["if","unless"],id:15},{code:function(a,b,c,d,e,f,g){function h(a){return a-1}function i(a,c){return 0>a?c:i.call(this,h(a),this.internalCall("if","unless"===l[a].type?g(l[a].test,3,{op:"not",node:b(l[a].test)},!1,!1,!1,!1):l[a].test||this.noop(),l[a].body||this.noop(),c))}var j,k,l,m,n,o;return n=a.macroName,m=a.macroData,o=m.test,j=m.body,l=m.elseIfs,k=m.elseBody,this.internalCall("if","unless"===n&&g(o,3,{op:"not",node:b(o)},!1,!1,!1,!1)||o||this.noop(),j||this.noop(),i.call(this,h(l.length),k||this.noop()))},options:void 0,params:[["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["if","unless"],id:16},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.label,"expression"===this.position&&this.error("continue can only be used in a statement position"),this.internalCall("continue",b?[b]:[])},options:void 0,params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"continue",id:18},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.label,"expression"===this.position&&this.error("break can only be used in a statement position"),this.internalCall("break",b?[b]:[])},options:void 0,params:[["ident","label","choice",["ident","Identifier"],["const",""]]],names:"break",id:19},{code:function(a,b,c,d,e,f,g){function h(a){return a+1}var i,j,k,l,m,n,o,p,q;return j=this,o=a.macroName,n=a.macroData,k=n.declarable,q=n.value,k=this.macroExpand1(k),k||this.error("Unknown declarable: "+String(k)),"ident"===k.type?(k.ident.isIdent&&this.isPrimordial(k.ident)&&this.error("Cannot declare primordial '"+k.ident.name+"'",k.ident),this.addVariable(k.ident,k.isMutable,k.asType?function(){return j.toType(k.asType)}:function(){return j.type(q)}),this.internalCall("block",this.internalCall("var",k.ident),this.mutateLast(q,function(a){return this.call(this.assignOperator("="),k.ident,a)},!0),c("void"))):"array"===k.type?(p=function(a,b){return a<k.elements.length?p(h(a),k.elements[a]?h(b):b):b},q=this.macroExpand1(q),q.isInternalCall("array")?(m=function(a,c,d,e,f){return f.push(this.macroExpand1(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(d)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(e)}},!0,!1,!1,!1))),l.call(this,a,h(c),f)},l=function(a,b,d){return b<k.elements.length&&b<a.length?k.elements[b]?m.call(this,a,b,k.elements[b],a[b],d):(d.push(a[b]),l.call(this,a,h(b),d)):(d.push(c("void")),this.internalCall("block",d))},l.call(this,q.args,0,[])):p(0,0)<=1?(m=function(a,d){return this.internalCall("block",this.macroExpand1(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(a)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","access"),b(q),b(d))}},!0,!1,!1,!1)),c("void"))},l=function(a){return a<k.elements.length?k.elements[a]?m.call(this,k.elements[a],this["const"](a)):l.call(this,h(a)):f(void 0,e(void 0,"internal","block"),b(q),c("void"))},l.call(this,0)):this.maybeCache(q,function(a,d,i){function j(a,c,i,j){return j.push(this.macroExpand1(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(c)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","access"),b(d),b(i))}},!0,!1,!1,!1))),l.call(this,h(a),j)}function l(a,e){return a<k.elements.length?k.elements[a]?j.call(this,a,k.elements[a],this["const"](a),e):l.call(this,h(a),e):(i&&e.push(g(void 0,29,{left:b(d),op:":=",right:c("null")},!0,!1,!1,!1)),e.push(c("void")),this.internalCall("block",e))}return l.call(this,0,[a])})):"object"===k.type?1===k.pairs.length?(m=function(a,d){return this.internalCall("block",this.macroExpand1(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(a)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","access"),b(q),b(d))}},!0,!1,!1,!1)),c("void"))},l=function(a){return m.call(this,a.value,a.key)},l.call(this,this.macroExpand1(k.pairs[0]))):this.maybeCache(q,function(a,d,i){function j(a,c,i,j){return j.push(this.macroExpand1(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(c)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","access"),b(d),b(i))}},!0,!1,!1,!1))),m.call(this,h(a),j)}function l(a,b,c){return j.call(this,a,b.value,b.key,c)}function m(a,e){return a<k.pairs.length?l.call(this,a,this.macroExpand1(k.pairs[a]),e):(i&&e.push(g(void 0,29,{left:b(d),op:":=",right:c("null")},!0,!1,!1,!1)),e.push(c("void")),this.internalCall("block",e))}return m.call(this,0,[a])}):this.error("Unknown declarable: "+String(k+" "+String(null!=k&&null!=(i=k.constructor)?i.name:void 0)))},options:void 0,params:[["ident","declarable","ident","Declarable"],["const","="],["ident","value","ident","ExpressionOrAssignmentOrBody"]],names:"let",id:38},{code:function(a){var b,c,d;return c=a.macroName,b=a.macroData,d=b.node,this.mutateLast(d,function(a){return this.internalCall("return",a)},!0)},options:void 0,params:[["ident","node","many","?","ident","Expression"]],names:"return",id:39},{code:function(a,b,c,d,e,f,g){var h,i,j;return i=a.macroName,h=a.macroData,j=h.node,this.mutateLast(j,function(a){return this.maybeCache(a,function(a,c){return g(void 0,16,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(a)},!0,!1,!1,!1),body:g(void 0,39,{macroName:"return",macroData:{node:b(c)}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"return?",id:40},{code:function(a,b,c,d,e,f,g){var h,i,j;return i=a.macroName,h=a.macroData,j=h.node,this.mutateLast(j,function(a){return this.isType(a,"boolean")?g(void 0,16,{macroName:"if",macroData:{test:b(a),body:g(void 0,39,{macroName:"return",macroData:{node:c("true")}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1):this.maybeCache(a,function(a,c){return g(void 0,16,{macroName:"if",macroData:{test:b(a),body:g(void 0,39,{macroName:"return",macroData:{node:b(c)}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"returnif",id:41},{code:function(a,b,c,d,e,f,g){var h,i,j;return i=a.macroName,h=a.macroData,j=h.node,this.mutateLast(j,function(a){return this.isType(a,"boolean")?g(void 0,16,{macroName:"unless",macroData:{test:b(a),body:g(void 0,39,{macroName:"return",macroData:{node:c("false")}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1):this.maybeCache(a,function(a,c){return g(void 0,16,{macroName:"unless",macroData:{test:b(a),body:g(void 0,39,{macroName:"return",macroData:{node:b(c)}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)})},!0)},options:void 0,params:[["ident","node","ident","Expression"]],names:"returnunless",id:42},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;return h=this,n=b.macroName,m=b.macroData,l=m.locals,j=m.body,l?(o=[],p=[],i=[{ident:l.ident,value:l.value}].concat(l.rest),k=function(b){return a(b)<i.length?(i[b].ident&&(o.push(h.internalCall("param",i[b].ident,h.noop(),h["const"](!1),h["const"](!1),h.noop())),p.push(i[b].value)),k(a(b)+1)):void 0},k(0),this.call(this.func(o,this.internalCall("autoReturn",j),!0),p)):g(void 0,g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array")),g(void 0,f(void 0,"internal","autoReturn"),c(j)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1)))}}.call(this),options:void 0,params:[["ident","locals","many","?","sequence",["ident","ident","ident","Identifier"],["const","="],["ident","value"],["ident","rest","many","*","sequence",["const",","],["ident","ident","ident","Identifier"],["const","="],["ident","value"]]],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"do",id:113},{code:function(a,b,c,d,e,f){var g,h,i,j;return i=a.macroName,h=a.macroData,j=h.node,g=h.body,f(void 0,e(void 0,"internal","contextCall"),f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array")),f(void 0,e(void 0,"internal","autoReturn"),b(g)),d(void 0,!1),e(void 0,"internal","nothing"),d(void 0,!1)),b(j))},options:void 0,params:[["ident","node","ident","Expression"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"with",id:114},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw new TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u;return p=b.macroName,o=b.macroData,q=o.reducer,m=o.init,u=o.test,t=o.step,j=o.body,k=o.elseBody,null==m&&(m=this.noop()),null==u&&(u=d("true")),null==t&&(t=this.noop()),q?"first"===q?(j=this.mutateLast(j,function(a){return h(a,39,{macroName:"return",macroData:{node:c(a)}},!0,!1,!1,!1)}),n=this.internalCall("for",m,u,t,j),h(n,113,{macroName:"do",macroData:{body:g(n,f(n,"internal","block"),c(n),c(k))}},!1,!1,!1,!1)):(k&&this.error("Cannot use a for loop with an else with "+a(q),k),"some"===q?(s=this.tmp("some"),this.internalCall("block",[h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(s)},!0,!1,!1,!1),!0,!1,!1,!1),value:d("false")}},!0,!1,!1,!1),this.internalCall("for",m,u,t,this.mutateLast(j,function(a){return h(a,16,{macroName:"if",macroData:{test:c(a),body:g(a,f(a,"internal","block"),h(a,29,{left:c(s),op:":=",right:d("true")},!0,!1,!1,!1),h(a,19,{macroName:"break",macroData:{}},!0,!1,!1,!1)),elseIfs:[]}},!0,!1,!1,!1)})),s])):"every"===q?(l=this.tmp("every"),this.internalCall("block",[h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:d("true")}},!0,!1,!1,!1),this.internalCall("for",m,u,t,this.mutateLast(j,function(a){return h(a,16,{macroName:"if",macroData:{test:h(a,3,{op:"not",node:c(a)},!0,!1,!1,!1),body:g(a,f(a,"internal","block"),h(a,29,{left:c(l),op:":=",right:d("false")},!0,!1,!1,!1),h(a,19,{macroName:"break",macroData:{}},!0,!1,!1,!1)),elseIfs:[]}},!0,!1,!1,!1)})),l])):this.error("Unknown reducer: "+a(q))):k?("expression"===this.position&&this.error("Cannot use a for loop with an else with as an expression",k),r=this.tmp("else"),this.internalCall("block",[h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{isMutable:"mutable",ident:c(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:d("true")}},!0,!1,!1,!1),this.internalCall("for",m,u,t,g(j,f(j,"internal","block"),h(j,29,{left:c(r),op:":=",right:d("false")},!0,!1,!1,!1),c(j))),h(void 0,16,{macroName:"if",macroData:{test:c(r),body:c(k),elseIfs:[]}},!0,!1,!1,!1)])):"expression"===this.position?(i=this.tmp("arr"),this.internalCall("block",[h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"internal","array"))}},!0,!1,!1,!1),this.internalCall("for",m,u,t,this.mutateLast(j,function(a){return g(a,g(a,f(a,"internal","access"),c(i),e(a,"push")),c(a))})),i])):this.internalCall("for",m,u,t,null!=j?j:this.noop())}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","init","choice",["ident","ExpressionOrAssignment"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","ExpressionOrAssignment"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:115},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return m=a.macroName,l=a.macroData,k=l.init,o=l.test,n=l.step,i=l.current,j=l.currentStart,h=l.body,null==k&&(k=this.noop()),null==o&&(o=c("true")),null==n&&(n=this.noop()),h=this.mutateLast(h,function(a){return g(a,29,{left:b(i),op:":=",right:b(a)},!1,!1,!1,!1)}),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(j)}},!0,!1,!1,!1),g(void 0,115,{macroName:"for",macroData:{init:b(k),test:b(o),step:b(n),body:b(h)}},!0,!1,!1,!1),b(i))},options:void 0,params:[["const","reduce"],["ident","init","choice",["ident","Expression"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:116},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;return k=a.macroName,j=a.macroData,l=j.reducer,n=j.test,m=j.step,h=j.body,i=j.elseBody,"until"===k&&(n=g(n,3,{op:"not",node:b(n)},!1,!1,!1,!1)),"every"===l?g(void 0,115,{macroName:"for",macroData:{reducer:"every",test:b(n),step:b(m),body:b(h),elseBody:b(i)}},!1,!1,!1,!1):"some"===l?g(void 0,115,{macroName:"for",macroData:{reducer:"some",test:b(n),step:b(m),body:b(h),elseBody:b(i)}},!1,!1,!1,!1):"first"===l?g(void 0,115,{macroName:"for",macroData:{reducer:"first",test:b(n),step:b(m),body:b(h),elseBody:b(i)}},!1,!1,!1,!1):"expression"===this.position?g(void 0,115,{macroName:"for",macroData:{test:b(n),step:b(m),body:b(h),elseBody:b(i)}},!1,!1,!1,!1):g(void 0,115,{macroName:"for",macroData:{test:b(n),step:b(m),body:b(h),elseBody:b(i)}},!0,!1,!1,!1)},options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:["while","until"],id:117},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n;return l=a.macroName,k=a.macroData,n=k.test,m=k.step,i=k.current,j=k.currentStart,h=k.body,"until"===l&&(n=g(n,3,{op:"not",node:b(n)},!1,!1,!1,!1)),g(void 0,116,{macroName:"for",macroData:{test:b(n),step:b(m),current:b(i),currentStart:b(j),body:b(h)}},!0,!1,!1,!1)},options:void 0,params:[["const","reduce"],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","ExpressionOrAssignment"]],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:["while","until"],id:118},{code:function(){var a,b,c;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+c(a));return a},b=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+c(a))},c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(d,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M;return E=d.macroName,D=d.macroData,F=D.reducer,K=D.value,w=D.index,n=D.array,o=D.body,p=D.elseBody,K=this.macroExpand1(K),z=null,w&&(z=w.length,w=w.value),n=this.macroExpand1(n),n.isCall&&(r=this.macroExpand1(n.func),r.isIdent&&"__toArray"===r.name&&(n=this.macroExpand1(n.args[0]))),x=[],n.isCall&&(r=this.macroExpand1(n.func),r.isIdent&&"__range"===r.name)?(K.ident||this.error("Cannot assign a number to a complex declarable",K),K=K.ident,k=n.args,G=k[0],q=k[1],H=k[2],u=k[3],k=null,G=this.macroExpand1(G),q=this.macroExpand1(q),H=this.macroExpand1(H),u=this.macroExpand1(u),G.isConst()?G.isConstType("number")||this.error("Cannot start with a non-number: "+c(G.constValue()),G):G=j(G,64,{op:"+",node:e(G)},!1,!1,!1,!1),x.push(this.macroExpandAll(j(G,38,{macroName:"let",macroData:{declarable:j(G,37,j(G,31,{isMutable:"mutable",ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(G)}},!0,!1,!1,!1))),q.isConst()?q.isConstType("number")||this.error("Cannot end with a non-number: "+c(q.constValue()),q):q.cacheable?q=this.cache(j(q,64,{op:"+",node:e(q)},!1,!1,!1,!1),x,"end",!1):x.push(j(q,64,{op:"+",node:e(q)},!1,!1,!1,!1)),H.isConst()?H.isConstType("number")||this.error("Cannot step with a non-number: "+c(H.constValue()),H):H.cacheable?H=this.cache(j(H,64,{op:"+",node:e(H)},!1,!1,!1,!1),x,"step",!1):x.push(j(H,64,{op:"+",node:e(H)},!1,!1,!1,!1)),u.cacheable&&(u=this.cache(e(u),x,"incl",!1)),I=H.isConst()?a(H.constValue())>0?q.isConst()&&q.isConstValue(1/0)?f("true"):j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,9,{left:e(K),inverted:!1,op:"~<=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,9,{left:e(K),inverted:!1,op:"~<",right:e(q)},!1,!1,!1,!1)}},!1,!1,!1,!1):q.isConst()&&q.isConstValue(-1/0)?f("true"):j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(K),inverted:!1,op:"~>=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(K),inverted:!1,op:"~>",right:e(q)},!1,!1,!1,!1)}},!1,!1,!1,!1):j(n,16,{macroName:"if",macroData:{test:j(n,17,{left:e(H),inverted:!1,op:"~>",right:g(n,0)},!1,!1,!1,!1),body:j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,9,{left:e(K),inverted:!1,op:"~<=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,9,{left:e(K),inverted:!1,op:"~<",right:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1),elseIfs:[],elseBody:j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(K),inverted:!1,op:"~>=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(K),inverted:!1,op:"~>",right:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1)}},!1,!1,!1,!1),v=j(H,52,{left:e(K),op:"~+=",right:e(H)},!1,!1,!1,!1),z&&x.push(this.macroExpandAll(j(n,38,{macroName:"let",macroData:{declarable:j(n,37,j(n,31,{ident:e(z)},!0,!1,!1,!1),!0,!1,!1,!1),value:j(n,16,{macroName:"if",macroData:{test:e(u),body:j(n,45,{left:j(n,49,{left:j(n,49,{left:e(q),inverted:!1,op:"~-",right:e(G)},!1,!1,!1,!1),inverted:!1,op:"~+",right:e(H)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:e(H)},!0,!1,!1,!1),elseIfs:[],elseBody:j(n,45,{left:j(n,49,{left:e(q),inverted:!1,op:"~-",right:e(G)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:e(H)},!0,!1,!1,!1)}},!1,!1,!1,!1)}},!0,!1,!1,!1))),w?(x.push(this.macroExpandAll(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(w,0)}},!0,!1,!1,!1))),v=i(v,h(v,"internal","block"),e(v),j(v,112,{left:e(w),op:"+=",right:g(v,1)},!0,!1,!1,!1)),this.hasFunc(o)&&(r=this.tmp("f",!1),x.push(j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(o,h(o,"internal","function"),i(o,h(o,"internal","array"),i(o,h(o,"internal","param"),e(K),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing")),i(o,h(o,"internal","param"),e(w),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing"))),i(o,h(o,"internal","autoReturn"),e(o)),g(o,!1),h(o,"internal","nothing"),g(o,!1))}},!0,!1,!1,!1)),o=i(o,h(o,"internal","contextCall"),e(r),h(o,"ident","this"),e(K),e(w)))):this.hasFunc(o)&&(r=this.tmp("f",!1),x.push(j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(o,h(o,"internal","function"),i(o,h(o,"internal","array"),i(o,h(o,"internal","param"),e(K),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing"))),i(o,h(o,"internal","autoReturn"),e(o)),g(o,!1),h(o,"internal","nothing"),g(o,!1))}},!0,!1,!1,!1)),o=i(o,h(o,"internal","contextCall"),e(r),h(o,"ident","this"),e(K))),"every"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"every",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"some"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"some",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"first"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"first",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"filter"===F?(o=this.mutateLast(o,function(a){return j(a,16,{macroName:"if",macroData:{test:e(a),body:e(K),elseIfs:[]}},!0,!1,!1,!1)}),j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1)):"expression"===this.position?j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):p&&w?i(void 0,h(void 0,"internal","block"),j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o)}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,5,{left:e(K),inverted:!1,op:"==",right:g(void 0,0)},!0,!1,!1,!1),body:e(p),elseIfs:[]}},!0,!1,!1,!1)):p&&G.isConst()?i(void 0,h(void 0,"internal","block"),j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o)}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,5,{left:e(K),inverted:!1,op:"==",right:e(G)},!0,!1,!1,!1),body:e(p),elseIfs:[]}},!0,!1,!1,!1)):j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!0,!1,!1,!1)):(y=this.isType(n,"string"),s=null!=w,null==w&&(w=this.tmp("i",!1)),t=null!=z,null==z&&(z=this.tmp("len",!1)),this.macroExpandAll(j(z,38,{macroName:"let",macroData:{declarable:j(z,37,j(z,31,{ident:e(z)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(z,0)}},!0,!1,!1,!1)),n=this.macroExpandAll(n),H=g(n,1),G=g(n,0),q=f("Infinity"),u=f("false"),n.isCall&&n.func.isIdent?(m=n.args,"__step"===n.func.name?(n=m[0],H=this.macroExpand1(m[1]),H.isConst()?a(H.constValue())>=0?(G=g(n,0),q=f("Infinity")):(G=f("Infinity"),q=g(n,0)):(G=void 0,q=void 0),u=f("true")):"__sliceStep"===n.func.name&&(n=m[0],G=m[1],q=m[2],H=m[3],u=m[4])):n.isInternalCall("contextCall")&&n.args[0].isIdent&&"__slice"===n.args[0].name&&(m=n.args,n=m[1],G=m[2],(!G||G.isConstValue(void 0))&&(G=g(n,0)),q=m[3],(!q||q.isConstValue(void 0))&&(q=f("Infinity"))),H.isConst()&&(H.isConstType("number")?0!==a(H.constValue())%1?this.error("Expected step to be an integer, got "+b(H.constValue()),H):0===H.constValue()&&this.error("Expected step to non-zero",H):this.error("Expected step to be a number, got "+c(H.constValue()),H)),!G||!G.isConst()||G.isConstValue(1/0)||G.isConstType("number")&&0===a(G.constValue())%1||this.error("Expected start to be an integer, got "+c(G.constValue())+" ("+String(G.constValue())+")",G),!q||!q.isConst()||q.isConstValue(1/0)||q.isConstType("number")&&0===a(q.constValue())%1||this.error("Expected end to be an integer, got "+c(q.constValue())+" ("+String(q.constValue())+")",q),y||this.isType(n,"arrayLike")||(n=i(n,h(n,"ident","__toArray"),e(n))),n=this.cache(n,x,y?"str":"arr",!1),L=j(K,15,{macroName:"if",macroData:{test:e(y),body:i(K,i(K,h(K,"internal","access"),e(n),g(K,"charAt")),e(w)),elseIfs:[],elseBody:i(K,h(K,"internal","access"),e(n),e(w))}},!1,!1,!1,!1),A=this.macroExpandAll(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(w,0)}},!0,!1,!1,!1)),M=K&&"ident"===K.type&&!K.isMutable?K.ident:this.tmp("v",!1),C=this.macroExpandAll(j(K,38,{macroName:"let",macroData:{declarable:j(K,37,j(K,31,{ident:e(K),asType:h(K,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:e(L)}},!0,!1,!1,!1)),B=this.macroExpandAll(j(z,38,{macroName:"let",macroData:{declarable:j(z,37,j(z,31,{ident:e(z),asType:h(z,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(z,64,{op:"+",node:i(z,h(z,"internal","access"),e(n),g(z,"length"))},!1,!1,!1,!1)}},!0,!1,!1,!1)),k=H.isConst()?a(H.constValue())>0?(G.isConst()?a(G.constValue())>=0?(x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:e(G)}},!0,!1,!1,!1)),x.push(B)):(x.push(B),x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,70,{left:e(z),inverted:!1,op:"+",right:e(G)},!1,!1,!1,!1)}},!0,!1,!1,!1))):(x.push(B),x.push(this.getConstValue("DISABLE_TYPE_CHECKING",!1)?j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,64,{op:"+",node:e(G)},!1,!1,!1,!1)}},!0,!1,!1,!1):j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:i(w,h(w,"ident","__int"),e(G))}},!0,!1,!1,!1)),x.push(j(w,15,{macroName:"if",macroData:{test:j(w,9,{left:e(w),inverted:!1,op:"~<",right:g(w,0)},!1,!1,!1,!1),body:j(w,112,{left:e(w),op:"+=",right:e(z)},!1,!1,!1,!1),elseIfs:[]}},!1,!1,!1,!1))),q.isConst()&&(q.isConstValue(1/0)||u.isConst()&&u.constValue()&&q.isConstValue(-1))?[j(n,9,{left:e(w),inverted:!1,op:"~<",right:e(z)},!1,!1,!1,!1),j(n,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)]:(J=this.tmp("end",!1),x.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{isMutable:"mutable",ident:e(J),asType:h(q,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(q,64,{op:"+",node:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1)),q.isConst()?a(q.constValue())<0?x.push(j(q,52,{left:e(J),op:"~+=",right:e(z)},!1,!1,!1,!1)):void 0:x.push(j(q,15,{macroName:"if",macroData:{test:j(q,9,{left:e(J),inverted:!1,op:"~<",right:g(q,0)},!1,!1,!1,!1),body:j(q,52,{left:e(J),op:"~+=",right:e(z)},!1,!1,!1,!1),elseIfs:[]}},!1,!1,!1,!1)),x.push(j(u,15,{macroName:"if",macroData:{test:e(u),body:j(u,29,{left:e(J),op:":=",right:j(u,2,{left:j(u,70,{left:e(J),inverted:!1,op:"+",right:g(u,1)},!1,!1,!1,!1),inverted:!1,op:"or",right:f("Infinity")},!1,!1,!1,!1)},!1,!1,!1,!1),elseIfs:[]}},!1,!1,!1,!1)),x.push(j(q,92,{left:e(J),op:"~min=",right:e(z)},!1,!1,!1,!1)),[j(q,9,{left:e(w),inverted:!1,op:"~<",right:e(J)},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)])):H.isConstValue(-1)&&(!G||G.isConst()&&(-1===(l=G.constValue())||l===1/0)&&q.isConstValue(0)&&u.isConst()&&u.constValue())?(t?(x.push(B),x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:e(z)}},!0,!1,!1,!1))):x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,64,{op:"+",node:i(w,h(w,"internal","access"),e(n),g(w,"length"))},!1,!1,!1,!1)}},!0,!1,!1,!1)),[j(w,12,{op:"postDec!",node:e(w)},!1,!1,!1,!1),this.noop()]):((!q.isConst()||a(q.constValue())<0)&&(t=!0),G.isConst()?-1===(l=G.constValue())||l===1/0?t?(x.push(B),x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,49,{left:e(z),inverted:!1,op:"~-",right:g(w,1)},!1,!1,!1,!1)}},!0,!1,!1,!1))):x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,49,{left:j(w,64,{op:"+",node:i(w,h(w,"internal","access"),e(n),g(w,"length"))},!1,!1,!1,!1),inverted:!1,op:"~-",right:g(w,1)},!1,!1,!1,!1)}},!0,!1,!1,!1)):(x.push(B),a(G.constValue())>=0?x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,15,{macroName:"if",macroData:{test:j(w,9,{left:e(G),inverted:!1,op:"~<",right:e(z)},!1,!1,!1,!1),body:e(G),elseIfs:[],elseBody:j(w,49,{left:e(z),inverted:!1,op:"~-",right:g(w,1)},!1,!1,!1,!1)}},!1,!1,!1,!1)}},!0,!1,!1,!1)):x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,49,{left:e(z),inverted:!1,op:"~+",right:j(w,64,{op:"+",node:e(G)},!1,!1,!1,!1)},!1,!1,!1,!1)}},!0,!1,!1,!1))):(x.push(B),x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,64,{op:"+",node:e(G)},!1,!1,!1,!1)}},!0,!1,!1,!1)),x.push(j(w,15,{macroName:"if",macroData:{test:j(w,9,{left:e(w),inverted:!1,op:"~<",right:g(w,0)},!0,!1,!1,!1),body:j(w,52,{left:e(w),op:"~+=",right:e(z)},!1,!1,!1,!1),elseIfs:[],elseBody:j(w,92,{left:e(w),op:"~min=",right:e(z)},!1,!1,!1,!1)}},!0,!1,!1,!1)),x.push(j(w,53,{left:e(w),op:"~-=",right:g(w,1)},!0,!1,!1,!1))),q.isConst()?a(q.constValue())>=0?[j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(w),inverted:!1,op:"~>=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(w),inverted:!1,op:"~>",right:e(q)},!1,!1,!1,!1)}},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)]:[j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(w),inverted:!1,op:"~>=",right:j(n,70,{left:e(q),inverted:!1,op:"+",right:e(z)},!1,!1,!1,!1)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(w),inverted:!1,op:"~>",right:j(n,70,{left:e(q),inverted:!1,op:"+",right:e(z)},!1,!1,!1,!1)},!1,!1,!1,!1)}},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)]:(J=this.tmp("end",!1),x.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{isMutable:"mutable",ident:e(J),asType:h(q,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(q,64,{op:"+",node:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1)),x.push(j(q,15,{macroName:"if",macroData:{test:j(q,9,{left:e(J),inverted:!1,op:"~<",right:g(q,0)},!0,!1,!1,!1),body:j(q,52,{left:e(J),op:"~+=",right:e(z)},!1,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)),[j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(w),inverted:!1,op:"~>=",right:e(J)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(w),inverted:!1,op:"~>",right:e(J)},!1,!1,!1,!1)}},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)])):(H.cacheable?H=this.getConstValue("DISABLE_TYPE_CHECKING",!1)?this.cache(j(H,64,{op:"+",node:e(H)},!1,!1,!1,!1),x,"step",!1):this.cache(i(H,h(H,"ident","__int"),i(H,h(H,"ident","__nonzero"),e(H))),x,"step",!1):this.getConstValue("DISABLE_TYPE_CHECKING",!1)?void 0:x.unshift(i(H,h(H,"ident","__int"),i(H,h(H,"ident","__nonzero"),e(H)))),x.push(B),G?(G.isConst()?G.isConstValue(1/0)?x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,49,{left:e(z),inverted:!1,op:"~-",right:g(w,1)},!1,!1,!1,!1)}},!0,!1,!1,!1)):x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(w,15,{macroName:"if",macroData:{test:j(w,17,{left:e(G),inverted:!1,op:"~>=",right:g(w,0)},!1,!1,!1,!1),body:e(G),elseIfs:[],elseBody:j(w,70,{left:e(G),inverted:!1,op:"+",right:e(z)},!1,!1,!1,!1)}},!1,!1,!1,!1)}},!0,!1,!1,!1)):(x.push(j(w,38,{macroName:"let",macroData:{declarable:j(w,37,j(w,31,{isMutable:"mutable",ident:e(w),asType:h(w,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:e(G)}},!0,!1,!1,!1)),x.push(j(n,15,{macroName:"if",macroData:{test:j(n,9,{left:e(w),inverted:!1,op:"~<",right:g(n,0)},!0,!1,!1,!1),body:j(n,112,{left:e(w),op:"+=",right:e(z)},!1,!1,!1,!1),elseIfs:[{test:j(n,9,{left:e(H),inverted:!1,op:"~<",right:g(n,0)},!0,!1,!1,!1),body:j(n,92,{left:e(w),op:"~min=",right:e(z)},!1,!1,!1,!1)}]}},!0,!1,!1,!1))),J=this.tmp("end",!1),q.isConst()?x.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{isMutable:"mutable",ident:e(J),asType:h(q,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(q,15,{macroName:"if",macroData:{test:j(q,9,{left:e(q),inverted:!1,op:"~<",right:g(q,0)},!1,!1,!1,!1),body:j(q,49,{left:e(q),inverted:!1,op:"~+",right:e(z)},!1,!1,!1,!1),elseIfs:[],elseBody:j(q,89,{left:e(q),inverted:!1,op:"max",right:j(q,15,{macroName:"if",macroData:{test:e(u),body:j(q,49,{left:e(z),inverted:!1,op:"~-",right:g(q,1)},!1,!1,!1,!1),elseIfs:[],elseBody:e(z)}},!1,!1,!1,!1)},!1,!1,!1,!1)}},!1,!1,!1,!1)}},!0,!1,!1,!1)):(x.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{isMutable:"mutable",ident:e(J),asType:h(q,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(q,64,{op:"+",node:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1)),x.push(j(q,15,{macroName:"if",macroData:{test:j(q,9,{left:e(J),inverted:!1,op:"~<",right:g(q,0)},!0,!1,!1,!1),body:j(q,112,{left:e(J),op:"+=",right:e(z)},!1,!1,!1,!1),elseIfs:[{test:j(q,17,{left:e(H),inverted:!1,op:"~>",right:g(q,0)},!0,!1,!1,!1),body:j(q,92,{left:e(J),op:"~min=",right:j(q,15,{macroName:"if",macroData:{test:e(u),body:j(q,49,{left:e(z),inverted:!1,op:"~-",right:g(q,1)},!1,!1,!1,!1),elseIfs:[],elseBody:e(z)}},!1,!1,!1,!1)},!1,!1,!1,!1)}],elseBody:j(q,93,{left:e(J),op:"~max=",right:j(q,15,{macroName:"if",macroData:{test:e(u),body:g(q,0),elseIfs:[],elseBody:j(q,65,{op:"-",node:g(q,1)},!1,!1,!1,!1)}},!1,!1,!1,!1)},!1,!1,!1,!1)}},!0,!1,!1,!1))),q=J,[j(n,16,{macroName:"if",macroData:{test:j(n,17,{left:e(H),inverted:!1,op:"~>",right:g(n,0)},!1,!1,!1,!1),body:j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,9,{left:e(w),inverted:!1,op:"~<=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,9,{left:e(w),inverted:!1,op:"~<",right:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1),elseIfs:[],elseBody:j(n,15,{macroName:"if",macroData:{test:e(u),body:j(n,17,{left:e(w),inverted:!1,op:"~>=",right:e(q)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,9,{left:e(w),inverted:!1,op:"~<",right:e(q)},!1,!1,!1,!1)}},!0,!1,!1,!1)}},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)]):(x.push(j(n,38,{macroName:"let",macroData:{declarable:j(n,37,j(n,31,{isMutable:"mutable",ident:e(w),asType:h(n,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:j(n,15,{macroName:"if",macroData:{test:j(n,17,{left:e(H),inverted:!1,op:"~>",right:g(n,0)},!1,!1,!1,!1),body:g(n,0),elseIfs:[],elseBody:j(n,49,{left:e(z),inverted:!1,op:"~-",right:g(n,1)},!1,!1,!1,!1)}},!1,!1,!1,!1)}},!0,!1,!1,!1)),[j(n,15,{macroName:"if",macroData:{test:j(n,17,{left:e(H),inverted:!1,op:"~>",right:g(n,0)},!1,!1,!1,!1),body:j(n,9,{left:e(w),inverted:!1,op:"~<",right:e(z)},!1,!1,!1,!1),elseIfs:[],elseBody:j(n,17,{left:e(w),inverted:!1,op:"~>=",right:g(n,0)},!1,!1,!1,!1)}},!1,!1,!1,!1),j(H,52,{left:e(w),op:"~+=",right:e(H)},!1,!1,!1,!1)])),I=k[0],v=k[1],k=null,this.hasFunc(o)?(r=this.tmp("f",!1),K&&M!==K.ident&&(o=i(o,h(o,"internal","block"),j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(M)}},!0,!1,!1,!1),e(o))),s?(x.push(j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(o,h(o,"internal","function"),i(o,h(o,"internal","array"),i(o,h(o,"internal","param"),e(M),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing")),i(o,h(o,"internal","param"),e(w),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing"))),i(o,h(o,"internal","autoReturn"),e(o)),g(o,!1),h(o,"internal","nothing"),g(o,!1))}},!0,!1,!1,!1)),o=i(o,h(o,"internal","contextCall"),e(r),h(o,"ident","this"),e(L),e(w))):(x.push(j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(o,h(o,"internal","function"),i(o,h(o,"internal","array"),i(o,h(o,"internal","param"),e(M),h(o,"internal","nothing"),g(o,!1),g(o,!1),h(o,"internal","nothing"))),i(o,h(o,"internal","autoReturn"),e(o)),g(o,!1),h(o,"internal","nothing"),g(o,!1))}},!0,!1,!1,!1)),o=i(o,h(o,"internal","contextCall"),e(r),h(o,"ident","this"),e(L)))):o=M===K.ident||"filter"!==F?i(o,h(o,"internal","block"),j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(L)}},!0,!1,!1,!1),e(o)):i(o,h(o,"internal","block"),j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(M)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(L)}},!0,!1,!1,!1),j(o,38,{macroName:"let",macroData:{declarable:j(o,37,j(o,31,{ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(M)}},!0,!1,!1,!1),e(o)),"every"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"every",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"some"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"some",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"first"===F?j(void 0,115,{macroName:"for",macroData:{reducer:"first",init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):"filter"===F?(o=this.mutateLast(o,function(a){return j(a,16,{macroName:"if",macroData:{test:e(a),body:e(M),elseIfs:[]}},!0,!1,!1,!1)
}),j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1)):"expression"===this.position?j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!1,!1,!1,!1):p&&G.isConst()?i(void 0,h(void 0,"internal","block"),j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o)}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,5,{left:e(w),inverted:!1,op:"==",right:e(G)},!0,!1,!1,!1),body:e(p),elseIfs:[]}},!0,!1,!1,!1)):j(void 0,115,{macroName:"for",macroData:{init:e(x),test:e(I),step:e(v),body:e(o),elseBody:e(p)}},!0,!1,!1,!1))}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:122},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p;return o=a.macroName,n=a.macroData,p=n.value,l=n.index,h=n.array,j=n.current,k=n.currentStart,i=n.body,p=this.macroExpand1(p),i=this.mutateLast(i,function(a){return g(a,29,{left:b(j),op:":=",right:b(a)},!1,!1,!1,!1)}),null!=l&&(m=l.length),l=null!=l?l.value:void 0,f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(j)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(k)}},!0,!1,!1,!1),g(void 0,122,{macroName:"for",macroData:{value:g(void 0,37,g(void 0,31,{ident:b(p)},!0,!1,!1,!1),!0,!1,!1,!1),index:{value:b(l),length:b(m)},array:b(h),body:b(i)}},!0,!1,!1,!1),b(j))},options:void 0,params:[["const","reduce"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:123},{code:function(){var a,b;return a=function(a){var c;if(c=typeof a,"string"===c)return a;if("number"===c)return String(a);throw new TypeError("Expected a string or number, got "+b(a))},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B;return t=b.macroName,s=b.macroData,x=s.reducer,o=s.key,A=s.value,z=s.type,u=s.object,j=s.body,k=s.elseBody,m=null,A&&(m=A.index,A=this.macroExpand1(A.value)),v="of"===z,n=[],(v||A)&&(u=this.cache(u,n,"obj",!1)),this.addVariable(o,!1,this.type("string")),q=A&&this.macroExpandAll(h(A,38,{macroName:"let",macroData:{declarable:h(A,37,h(A,31,{ident:c(A)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(A,f(A,"internal","access"),c(u),c(o))}},!0,!1,!1,!1)),p=m&&this.macroExpandAll(h(m,38,{macroName:"let",macroData:{declarable:h(m,37,h(m,31,{isMutable:"mutable",ident:c(m)},!0,!1,!1,!1),!0,!1,!1,!1),value:h(m,65,{op:"-",node:e(m,1)},!1,!1,!1,!1)}},!0,!1,!1,!1)),this.hasFunc(j)?(l=this.tmp("f",!1),A&&(B="ident"===A.type?A.ident:this.tmp("v",!1)),A&&B!==A.ident&&(j=g(j,f(j,"internal","block"),h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(A)},!0,!1,!1,!1),!0,!1,!1,!1),value:c(B)}},!0,!1,!1,!1),c(j))),m?(n.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(j,f(j,"internal","function"),g(j,f(j,"internal","array"),g(j,f(j,"internal","param"),c(o),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing")),g(j,f(j,"internal","param"),c(B),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing")),g(j,f(j,"internal","param"),c(m),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing"))),g(j,f(j,"internal","autoReturn"),c(j)),e(j,!1),f(j,"internal","nothing"),e(j,!1))}},!0,!1,!1,!1)),j=g(j,f(j,"internal","contextCall"),c(l),f(j,"ident","this"),c(o),g(j,f(j,"internal","access"),c(u),c(o)),c(m))):A?(n.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(j,f(j,"internal","function"),g(j,f(j,"internal","array"),g(j,f(j,"internal","param"),c(o),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing")),g(j,f(j,"internal","param"),c(B),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing"))),g(j,f(j,"internal","autoReturn"),c(j)),e(j,!1),f(j,"internal","nothing"),e(j,!1))}},!0,!1,!1,!1)),j=g(j,f(j,"internal","contextCall"),c(l),f(j,"ident","this"),c(o),g(j,f(j,"internal","access"),c(u),c(o)))):(n.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(j,f(j,"internal","function"),g(j,f(j,"internal","array"),g(j,f(j,"internal","param"),c(o),f(j,"internal","nothing"),e(j,!1),e(j,!1),f(j,"internal","nothing"))),g(j,f(j,"internal","autoReturn"),c(j)),e(j,!1),f(j,"internal","nothing"),e(j,!1))}},!0,!1,!1,!1)),j=g(j,f(j,"internal","contextCall"),c(l),f(j,"ident","this"),c(o)))):A&&(j=g(j,f(j,"internal","block"),c(q),c(j))),w=[],k&&(y=this.tmp("else",!1),n.push(h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(y)},!0,!1,!1,!1),!0,!1,!1,!1),value:d("true")}},!0,!1,!1,!1)),j=g(j,f(j,"internal","block"),h(j,29,{left:c(y),op:":=",right:d("false")},!0,!1,!1,!1),c(j)),w.push(h(k,16,{macroName:"if",macroData:{test:c(y),body:c(k),elseIfs:[]}},!0,!1,!1,!1))),m&&(n.push(p),j=g(j,f(j,"internal","block"),h(j,52,{left:c(m),op:"~+=",right:e(j,1)},!0,!1,!1,!1),c(j))),v&&(j=h(j,16,{macroName:"if",macroData:{test:h(j,79,{left:c(u),inverted:!1,op:"ownskey",right:c(o)},!0,!1,!1,!1),body:c(j),elseIfs:[]}},!0,!1,!1,!1)),x?"first"===x?(j=this.mutateLast(j,function(a){return h(a,39,{macroName:"return",macroData:{node:c(a)}},!0,!1,!1,!1)}),r=this.internalCall("forIn",o,u,j),h(void 0,113,{macroName:"do",macroData:{body:g(void 0,f(void 0,"internal","block"),c(n),c(r),c(k))}},!0,!1,!1,!1)):(k&&this.error("Cannot use a for loop with an else with "+a(x),k),"some"===x?(j=this.mutateLast(j,function(a){return h(a,16,{macroName:"if",macroData:{test:c(a),body:h(a,39,{macroName:"return",macroData:{node:d("true")}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)}),r=this.internalCall("forIn",o,u,j),h(void 0,113,{macroName:"do",macroData:{body:g(void 0,f(void 0,"internal","block"),c(n),c(r),d("false"))}},!0,!1,!1,!1)):"every"===x?(j=this.mutateLast(j,function(a){return h(a,16,{macroName:"if",macroData:{test:h(a,3,{op:"not",node:c(a)},!0,!1,!1,!1),body:h(a,39,{macroName:"return",macroData:{node:d("false")}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)}),r=this.internalCall("forIn",o,u,j),h(void 0,113,{macroName:"do",macroData:{body:g(void 0,f(void 0,"internal","block"),c(n),c(r),d("true"))}},!0,!1,!1,!1)):this.error("Unknown reducer: "+a(x))):"expression"===this.position?(k&&this.error("Cannot use a for loop with an else as an expression",k),i=this.tmp("arr",!1),j=this.mutateLast(j,function(a){return g(a,g(a,f(a,"internal","access"),c(i),e(a,"push")),c(a))}),n.unshift(h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,f(void 0,"internal","array"))}},!0,!1,!1,!1)),r=this.internalCall("forIn",o,u,j),g(void 0,f(void 0,"internal","block"),c(n),c(r),c(i))):(r=this.internalCall("forIn",o,u,j),g(void 0,f(void 0,"internal","block"),c(n),c(r),c(w)))}}.call(this),options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"]],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:124},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;return o=a.macroName,n=a.macroData,l=n.key,r=n.value,q=n.type,p=n.object,i=n.current,j=n.currentStart,h=n.body,h=this.mutateLast(h,function(a){return g(a,29,{left:b(i),op:":=",right:b(a)},!1,!1,!1,!1)}),null!=r&&(k=r.index),r=null!=r?r.value:void 0,m="of"===q?g(void 0,124,{macroName:"for",macroData:{key:b(l),value:{value:g(void 0,37,g(void 0,31,{ident:b(r)},!0,!1,!1,!1),!0,!1,!1,!1),index:b(k)},type:"of",object:b(p),body:b(h)}},!0,!1,!1,!1):g(void 0,124,{macroName:"for",macroData:{key:b(l),value:{value:g(void 0,37,g(void 0,31,{ident:b(r)},!0,!1,!1,!1),!0,!1,!1,!1),index:b(k)},type:"ofall",object:b(p),body:b(h)}},!0,!1,!1,!1),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(j)}},!0,!1,!1,!1),b(m),b(i))},options:void 0,params:[["const","reduce"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:125},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;if(k=this,v=a.macroName,u=a.macroData,x=u.tryBody,z=u.typedCatches,n=u.catchPart,p=u.elseBody,q=u.finallyBody,r=!!p,0!==z.length||n||r||q||this.error("Must provide at least a catch, else, or finally to a try block"),null!=n&&(m=n.ident),null!=n&&(l=n.body),0!==z.length){for(m||(m=z[0].ident),o=l||h(m,10,{op:"throw",node:b(m)},!0,!1,!1,!1),i=c(z),j=i.length;j--;)y=i[j],A=y.ident,t=A.equals(m)?this.noop():h(A,38,{macroName:"let",macroData:{declarable:h(A,37,h(A,31,{ident:b(A)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(m)}},!0,!1,!1,!1),"as"===y.check.type?(B=this.internalCall("array",function(){var a,b,d,e,f;for(a=[],b=c(y.check.value.isInternalCall("typeUnion")?y.check.value.args:[y.check.value]),d=0,e=b.length;e>d;++d)f=b[d],f.isInternalCall("typeGeneric")&&k.error("Expected a normal type, cannot use a generic type",f),f.isInternalCall("typeObject")&&k.error("Expected a normal type, cannot use an object type",f),a.push(f);return a}()),o=h(A,16,{macroName:"if",macroData:{test:h(A,128,{left:b(m),inverted:!1,op:"instanceofsome",right:b(B)},!0,!1,!1,!1),body:g(A,f(A,"internal","block"),b(t),b(y.body)),elseIfs:[],elseBody:b(o)}},!0,!1,!1,!1)):(C=y.check.value,o=h(A,16,{macroName:"if",macroData:{test:h(A,5,{left:b(m),inverted:!1,op:"==",right:b(C)},!0,!1,!1,!1),body:g(A,f(A,"internal","block"),b(t),b(y.body)),elseIfs:[],elseBody:b(o)}},!0,!1,!1,!1));l=o}return s=[],w=void 0,r&&(w=this.tmp("else",!1),s.push(h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:b(w)},!0,!1,!1,!1),!0,!1,!1,!1),value:d("true")}},!0,!1,!1,!1)),l?l=g(l,f(l,"internal","block"),h(l,29,{left:b(w),op:":=",right:d("false")},!0,!1,!1,!1),b(l)):(m=this.tmp("err"),l=g(void 0,f(void 0,"internal","block"),h(void 0,29,{left:b(w),op:":=",right:d("false")},!0,!1,!1,!1),h(void 0,10,{op:"throw",node:b(m)},!0,!1,!1,!1)))),o=x,l&&(o=this.internalCall("tryCatch",o,m||this.tmp("err"),l)),r&&(o=this.internalCall("tryFinally",o,h(p,16,{macroName:"if",macroData:{test:b(w),body:b(p),elseIfs:[]}},!0,!1,!1,!1))),q&&(o=this.internalCall("tryFinally",o,q)),g(void 0,f(void 0,"internal","block"),b(s),b(o))}}.call(this),options:void 0,params:[["ident","tryBody","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","typedCatches","many","*","sequence",["const","\n"],["const","catch"],["ident","ident","ident","Identifier"],["ident","check","choice",["sequence",["ident","type","const","as"],["ident","value","ident","Type"]],["sequence",["ident","type","const","=="],["ident","value","ident","Expression"]]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","catchPart","many","?","sequence",["const","\n"],["const","catch"],["ident","ident","many","?","ident","Identifier"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","finallyBody","many","?","sequence",["const","\n"],["const","finally"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"try",id:129},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return s=a.macroName,r=a.macroData,v=r.reducer,y=r.value,m=r.index,p=r.iterable,h=r.body,j=r.elseBody,n=[],q=this.cache(f(void 0,e(void 0,"ident","__iter"),b(p)),n,"iter",!1),o=this.tmp("item",!1),k=this.tmp("e",!0),x=[],m&&(n.push(g(m,38,{macroName:"let",macroData:{declarable:g(m,37,g(m,31,{isMutable:"mutable",ident:b(m)},!0,!1,!1,!1),!0,!1,!1,!1),value:d(m,0)}},!0,!1,!1,!1)),x.push(g(m,52,{left:b(m),op:"~+=",right:d(m,1)},!1,!1,!1,!1))),i=f(p,e(p,"internal","block"),g(p,38,{macroName:"let",macroData:{declarable:g(p,37,g(p,31,{ident:b(o)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(p,f(p,e(p,"internal","access"),b(q),d(p,"next")))}},!0,!1,!1,!1),g(p,16,{macroName:"if",macroData:{test:f(p,e(p,"internal","access"),b(o),d(p,"done")),body:g(p,19,{macroName:"break",macroData:{}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),g(p,38,{macroName:"let",macroData:{declarable:g(p,37,g(p,31,{ident:b(y)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(p,e(p,"internal","access"),b(o),d(p,"value"))}},!0,!1,!1,!1)),u=[],j&&!v&&"expression"!==this.position&&(w=this.tmp("else",!1),n.push(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(w)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("true")}},!0,!1,!1,!1)),h=f(h,e(h,"internal","block"),g(h,29,{left:b(w),op:":=",right:c("false")},!0,!1,!1,!1),b(h)),u.push(g(j,16,{macroName:"if",macroData:{test:b(w),body:b(j),elseIfs:[]}},!0,!1,!1,!1))),this.hasFunc(h)?(l=this.tmp("f",!1),m?(n.push(g(h,38,{macroName:"let",macroData:{declarable:g(h,37,g(h,31,{ident:b(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(h,127,{op:"",node:f(h,e(h,"internal","function"),f(h,e(h,"internal","array"),f(h,e(h,"internal","param"),b(y),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing")),f(h,e(h,"internal","param"),b(m),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing"))),f(h,e(h,"internal","autoReturn"),b(h)),d(h,!1),e(h,"internal","nothing"),d(h,!1))},!1,!1,!1,!1)}},!0,!1,!1,!1)),h=f(i,e(i,"internal","block"),b(i),f(i,e(i,"internal","contextCall"),b(l),e(i,"ident","this"),b(y),b(m)))):(n.push(g(h,38,{macroName:"let",macroData:{declarable:g(h,37,g(h,31,{ident:b(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(h,127,{op:"",node:f(h,e(h,"internal","function"),f(h,e(h,"internal","array"),f(h,e(h,"internal","param"),b(y),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing"))),f(h,e(h,"internal","autoReturn"),b(h)),d(h,!1),e(h,"internal","nothing"),d(h,!1))},!1,!1,!1,!1)}},!0,!1,!1,!1)),h=f(i,e(i,"internal","block"),b(i),f(i,e(i,"internal","contextCall"),b(l),e(i,"ident","this"),b(y))))):h=f(i,e(i,"internal","block"),b(i),b(h)),"every"===v?t=g(void 0,115,{macroName:"for",macroData:{reducer:"every",init:b(n),test:c("true"),step:b(x),body:b(h),elseBody:b(j)}},!1,!1,!1,!1):"some"===v?t=g(void 0,115,{macroName:"for",macroData:{reducer:"some",init:b(n),test:c("true"),step:b(x),body:b(h),elseBody:b(j)}},!1,!1,!1,!1):"first"===v?t=g(void 0,115,{macroName:"for",macroData:{reducer:"first",init:b(n),test:c("true"),step:b(x),body:b(h),elseBody:b(j)}},!1,!1,!1,!1):"filter"===v?(h=this.mutateLast(h,function(a){return g(a,16,{macroName:"if",macroData:{test:b(a),body:b(y),elseIfs:[]}},!0,!1,!1,!1)}),t=g(void 0,115,{macroName:"for",macroData:{init:b(n),test:c("true"),step:b(x),body:b(h),elseBody:b(j)}},!1,!1,!1,!1)):t="expression"===this.position?g(void 0,115,{macroName:"for",macroData:{init:b(n),test:c("true"),step:b(x),body:b(h),elseBody:b(j)}},!1,!1,!1,!1):f(void 0,e(void 0,"internal","block"),g(void 0,115,{macroName:"for",macroData:{init:b(n),test:c("true"),step:b(x),body:b(h)}},!0,!1,!1,!1),b(u)),g(void 0,129,{macroName:"try",macroData:{tryBody:b(t),typedCatches:[],finallyBody:g(void 0,129,{macroName:"try",macroData:{tryBody:f(void 0,f(void 0,e(void 0,"internal","access"),b(q),d(void 0,"close"))),typedCatches:[],catchPart:{ident:b(k),body:c("void")}}},!0,!1,!1,!1)}},!0,!1,!1,!1)},options:void 0,params:[["ident","reducer","many","?","choice",["const","every"],["const","some"],["const","first"],["const","filter"]],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterable","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"for",id:130},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return n=a.macroName,m=a.macroData,o=m.value,k=m.index,l=m.iterator,i=m.current,j=m.currentStart,h=m.body,h=this.mutateLast(h,function(a){return g(a,29,{left:b(i),op:":=",right:b(a)},!1,!1,!1,!1)}),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(j)}},!0,!1,!1,!1),g(void 0,130,{macroName:"for",macroData:{value:b(o),index:b(k),iterable:b(l),body:b(h)}},!0,!1,!1,!1),b(i))},options:void 0,params:[["const","reduce"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator","ident","Logic"],["const",","],["ident","current","ident","Identifier"],["const","="],["ident","currentStart"],["ident","body","choice",["ident","Body"],["sequence",["const",";"],["this","ident","Statement"]]]],names:"for",id:131},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw new TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw new TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;for(z=a.macroName,y=a.macroData,C=y.topic,u=y.cases,v=y.defaultCase,B=[],k=d(u),m=0,o=k.length;o>m;++m){for(r=k[m],t=[r.nodeHead].concat(r.nodeTail),q=this.macroExpand1(r.body),w=!1,A=q.isInternalCall("block")?q.args:[q],x=A[b(A.length)-1],x.isIdent&&"fallthrough"===x.name&&(q=1===A.length?this.noop():this.internalCall("block",c.call(A,0,-1)),w=!0),n=0,p=t.length,l=-1,l+=p,l>p&&(l=p);l>n;++n)s=t[n],B.push(s,this.noop(),this["const"](!0));B.push(t[t.length-1],q,this["const"](w))}return this.internalCall.apply(this,["switch",C].concat(B,[v||j(void 0,10,{op:"throw",node:i(void 0,h(void 0,"ident","Error"),g(void 0,"Unhandled value in switch"))},!0,!1,!1,!1)]))}}.call(this),options:void 0,params:[["ident","topic","ident","Logic"],["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","nodeHead","ident","Logic"],["ident","nodeTail","many","*","sequence",["const",","],["this","ident","Logic"]],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:132},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw new TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw new TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,e,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;for(v=a.macroName,u=a.macroData,o=u.cases,q=u.defaultCase,p=q||j(void 0,10,{op:"throw",node:i(void 0,h(void 0,"ident","Error"),g(void 0,"Unhandled value in switch"))},!0,!1,!1,!1),k=d(o),l=k.length;l--;)n=k[l],y=n.test,m=this.macroExpand1(n.body),s=!1,x=void 0,m.isInternalCall("block")?(w=m.args,t=w[b(w.length)-1],t.isIdent&&"fallthrough"===t.name&&(m=this.internalCall("block",c.call(w,0,-1)),p.isInternalCall("if")?(r=this.tmp("fall",!1),x=i(y,h(y,"internal","block"),j(y,38,{macroName:"let",macroData:{declarable:j(y,37,j(y,31,{isMutable:"mutable",ident:e(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:f("false")}},!0,!1,!1,!1),j(y,16,{macroName:"if",macroData:{test:e(y),body:i(y,h(y,"internal","block"),j(y,29,{left:e(r),op:":=",right:f("true")},!0,!1,!1,!1),e(m)),elseIfs:[]}},!0,!1,!1,!1),j(y,16,{macroName:"if",macroData:{test:j(y,2,{left:e(r),inverted:!1,op:"or",right:e(p.args[0])},!0,!1,!1,!1),body:e(p.args[1]),elseIfs:[],elseBody:e(p.args[2])}},!0,!1,!1,!1))):x=i(y,h(y,"internal","block"),j(y,16,{macroName:"if",macroData:{test:e(y),body:e(m),elseIfs:[]}},!0,!1,!1,!1),e(p)))):m.isIdent&&"fallthrough"===m.name&&(x=p.isInternalCall("if")?this.macroExpand1(j(y,16,{macroName:"if",macroData:{test:j(y,2,{left:e(y),inverted:!1,op:"or",right:e(p.args[0])},!0,!1,!1,!1),body:e(p.args[1]),elseIfs:[],elseBody:e(p.args[2])}},!0,!1,!1,!1)):i(y,h(y,"internal","block"),e(y),e(p))),p=x||this.macroExpand1(j(n.test,16,{macroName:"if",macroData:{test:e(n.test),body:e(m),elseIfs:[],elseBody:e(p)}},!0,!1,!1,!1));return p}}.call(this),options:void 0,params:[["lookahead",0,"const","\n"],["ident","cases","many","*","sequence",["const","\n"],["const","case"],["ident","test","ident","Logic"],["ident","body","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","defaultCase","many","?","sequence",["const","\n"],["const","default"],["this","many","?","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"]],names:"switch",id:133},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g,h){var i,j,k,l,m,n;return m=a.macroName,l=a.macroData,n=l.params,j=l.call,i=l.body,null==i&&(i=this.noop()),n=n?[n.head].concat(n.tail):[],k=this.func(n,this.internalCall("autoReturn",i),!0),j=this.macroExpand1(j),j.isInternalCall("contextCall","new")||j.isNormalCall()||this.error("async call expression must be a call",j),this.call(j.func,c(j.args).concat([h(k,136,{macroName:"once!",macroData:[h(k,127,{op:"mutateFunction!",node:b(k)},!1,!1,!1,!1)]},!1,!1,!1,!1)]))}}.call(this),options:void 0,params:[["ident","params","many","?","sequence",["ident","head","ident","Parameter"],["ident","tail","many","*","sequence",["const",","],["this","ident","Parameter"]]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async",id:137},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g,h){var i,j,k,l,m,n,o,p;return o=a.macroName,n=a.macroData,k=n.callback,p=n.params,j=n.call,i=n.body,null==i&&(i=this.noop()),l=this.tmp("e",!1),p=[this.internalCall("param",l,this.noop(),this["const"](!1),this["const"](!1),this.noop())].concat(p),m=this.func(p,this.internalCall("autoReturn","throw"===k?g(i,f(i,"internal","block"),h(i,111,{op:"throw?",node:b(l)},!0,!1,!1,!1),b(i)):g(i,f(i,"internal","block"),h(i,16,{macroName:"if",macroData:{test:h(i,20,{op:"?",node:b(l)},!0,!1,!1,!1),body:h(i,39,{macroName:"return",macroData:{node:g(i,b(k),b(l))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),b(i))),!0),j=this.macroExpand1(j),j.isInternalCall("contextCall","new")||j.isNormalCall()||this.error("async call expression must be a call",j),this.call(j.func,c(j.args).concat([h(m,136,{macroName:"once!",macroData:[h(m,127,{op:"mutateFunction!",node:b(m)},!1,!1,!1,!1)]},!1,!1,!1,!1)]))}}.call(this),options:void 0,params:[["ident","callback","choice",["const","throw"],["ident","Expression"]],["ident","params","many","*","sequence",["const",","],["this","ident","Parameter"]],["const","<-"],["ident","call","ident","Expression"],["ident","body","ident","DedentedBody"]],names:"async!",id:138},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+e(a));return a},c=Array.prototype.slice,d=function(b){if(null==b)throw new TypeError("Expected an object, got "+e(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw new TypeError("Expected an object with a length property, got "+e(b))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,c,f,g,h,i,j){var k,l,m,n,o,p,q,r,s,t,u,v,w,x;if(s=a.macroName,r=a.macroData,t=r.name,t=this.macroExpandAll(t),t.isConst()&&!t.isConstType("string")&&this.error("Expected a constant string, got "+e(t.constValue()),t),t.isConst())return p=t.constValue(),-1!==p.indexOf("/")&&(p=p.substring(b(p.lastIndexOf("/"))+1)),o=this.ident(p),j(t,38,{macroName:"let",macroData:{declarable:j(t,37,j(t,31,{ident:c(o)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(t,h(t,"ident","require"),c(t))}},!0,!1,!1,!1);if(t.isIdent)return v=t.name,j(t,38,{macroName:"let",macroData:{declarable:j(t,37,j(t,31,{ident:c(t)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(t,h(t,"ident","require"),c(v))}},!0,!1,!1,!1);if(t.isInternalCall("object")){for(w=[],k=d(t.args),l=1,m=k.length;m>l;++l)u=k[l],n=u.args,q=n[0],x=n[1],n=null,q.isConstType("string")||this.error("If providing an object to require!, all keys must be constant strings",q),p=q.constValue(),-1!==p.indexOf("/")&&(p=p.substring(b(p.lastIndexOf("/"))+1)),o=this.ident(p),x.isConst()?w.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{ident:c(o)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(q,h(q,"ident","require"),c(x))}},!0,!1,!1,!1)):x.isIdent?(v=x.name,w.push(j(q,38,{macroName:"let",macroData:{declarable:j(q,37,j(q,31,{ident:c(o)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(q,h(q,"ident","require"),c(v))}},!0,!1,!1,!1))):this.error("If providing an object to require!, all values must be constant strings or idents",x);return this.internalCall("block",w)}return this.error("Expected either a constant string or ident or object",t)}}.call(this),options:void 0,params:[["ident","name","ident","Expression"]],names:"require!",id:139},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w;return p=a.macroName,o=a.macroData,t=o.results,q=o.next,n=o.init,v=o.test,u=o.step,j=o.body,r=o.rest,h=null!=t?t:{},l=h.err,s=h.result,h=null,null==l&&(l=this.tmp("err",!0)),null==n&&(n=this.noop()),null==v&&(v=c("true")),null==u&&(u=this.noop()),null==r&&(r=this.noop()),k=this.tmp("done",!0),s?(m=this.tmp("first",!0),w=this.tmp("value",!0),i=this.tmp("arr",!0),f(void 0,e(void 0,"internal","block"),b(n),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(m)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("true")}},!0,!1,!1,!1),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","array"))}},!0,!1,!1,!1),g(void 0,14,{macroName:"let",macroData:{ident:b(q),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing")),f(void 0,e(void 0,"internal","param"),b(w),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),f(void 0,e(void 0,"internal","block"),g(void 0,16,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(l)},!0,!1,!1,!1),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),b(l))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),g(void 0,16,{macroName:"if",macroData:{test:b(m),body:g(void 0,29,{left:b(m),op:":=",right:c("false")},!0,!1,!1,!1),elseIfs:[],elseBody:f(void 0,e(void 0,"internal","block"),b(u),g(void 0,16,{macroName:"if",macroData:{test:g(void 0,17,{left:f(void 0,e(void 0,"internal","access"),e(void 0,"ident","arguments"),d(void 0,"length")),inverted:!1,op:"~>",right:d(void 0,1)},!0,!1,!1,!1),body:f(void 0,f(void 0,e(void 0,"internal","access"),b(i),d(void 0,"push")),b(w)),elseIfs:[]}},!0,!1,!1,!1))}},!0,!1,!1,!1),g(void 0,16,{macroName:"unless",macroData:{test:b(v),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),c("null"),b(i))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),b(j))),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,14,{macroName:"let",macroData:{ident:b(k),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing")),f(void 0,e(void 0,"internal","param"),b(s),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(r)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),f(void 0,b(q)))):u?(m=this.tmp("first",!0),f(void 0,e(void 0,"internal","block"),b(n),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(m)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("true")}},!0,!1,!1,!1),g(void 0,14,{macroName:"let",macroData:{ident:b(q),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),f(void 0,e(void 0,"internal","block"),g(void 0,16,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(l)},!0,!1,!1,!1),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),b(l))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),g(void 0,16,{macroName:"if",macroData:{test:b(m),body:g(void 0,29,{left:b(m),op:":=",right:c("false")},!0,!1,!1,!1),elseIfs:[],elseBody:b(u)}},!0,!1,!1,!1),g(void 0,16,{macroName:"unless",macroData:{test:b(v),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),c("null"))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),b(j))),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,14,{macroName:"let",macroData:{ident:b(k),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(r)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),f(void 0,b(q)))):f(void 0,e(void 0,"internal","block"),b(n),g(void 0,14,{macroName:"let",macroData:{ident:b(q),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),f(void 0,e(void 0,"internal","block"),g(void 0,16,{macroName:"if",macroData:{test:g(void 0,20,{op:"?",node:b(l)},!0,!1,!1,!1),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),b(l))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),g(void 0,16,{macroName:"unless",macroData:{test:b(v),body:g(void 0,39,{macroName:"return",macroData:{node:f(void 0,b(k),c("null"))}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),b(j))),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,14,{macroName:"let",macroData:{ident:b(k),func:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(r)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1),f(void 0,b(q)))
},options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","init","choice",["ident","Statement"],["const",""]],["const",";"],["ident","test","choice",["ident","Logic"],["const",""]],["const",";"],["ident","step","choice",["ident","Statement"],["const",""]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:140},{code:function(){var a;return a=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C;return u=b.macroName,t=b.macroData,w=t.parallelism,z=t.results,v=t.next,C=t.value,p=t.index,j=t.array,k=t.body,x=t.rest,i=null!=z?z:{},m=i.err,y=i.result,i=null,n=!!y,null==m&&(m=this.tmp("err",!0)),q=[],null==x&&(x=this.noop()),C=this.macroExpand1(C),r=null,p&&(r=p.length,p=p.value),null==w&&(w=e(void 0,1)),null==p&&(p=this.tmp("i",!0)),j=this.macroExpand1(j),j.isCall&&j.func.isIdent&&"__range"===j.func.name?(C.ident||this.error("Cannot assign a number to a complex declarable",C),C=C.ident,i=j.args,A=i[0],l=i[1],B=i[2],o=i[3],i=null,A.isConst()?A.isConstType("number")||this.error("Cannot start with a non-number: "+a(A.constValue()),A):A=h(A,64,{op:"+",node:c(A)},!1,!1,!1,!1),l.isConst()?l.isConstType("number")||this.error("Cannot end with a non-number: "+a(l.constValue()),l):l.cacheable?l=this.cache(h(l,64,{op:"+",node:c(l)},!1,!1,!1,!1),q,"end",!1):q.push(h(l,64,{op:"+",node:c(l)},!1,!1,!1,!1)),B.isConst()?B.isConstType("number")||this.error("Cannot step with a non-number: "+a(B.constValue()),B):B.cacheable?B=this.cache(h(B,64,{op:"+",node:c(B)},!1,!1,!1,!1),q,"step",!1):q.push(h(B,64,{op:"+",node:c(B)},!1,!1,!1,!1)),k=g(k,f(k,"internal","block"),h(k,38,{macroName:"let",macroData:{declarable:h(k,37,h(k,31,{ident:c(C),asType:f(k,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:h(k,49,{left:h(k,45,{left:c(p),inverted:!1,op:"~*",right:c(B)},!1,!1,!1,!1),inverted:!1,op:"~+",right:c(A)},!1,!1,!1,!1)}},!0,!1,!1,!1),c(k)),s=h(j,16,{macroName:"if",macroData:{test:c(o),body:h(j,45,{left:h(j,49,{left:h(j,49,{left:c(l),inverted:!1,op:"~-",right:c(A)},!1,!1,!1,!1),inverted:!1,op:"~+",right:c(B)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:c(B)},!0,!1,!1,!1),elseIfs:[],elseBody:h(j,45,{left:h(j,49,{left:c(l),inverted:!1,op:"~-",right:c(A)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:c(B)},!0,!1,!1,!1)}},!1,!1,!1,!1),r?q.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(r),asType:f(j,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:c(s)}},!0,!1,!1,!1)):r=s):(j=this.cache(j,q,"arr",!0),k=g(k,f(k,"internal","block"),h(k,38,{macroName:"let",macroData:{declarable:h(k,37,h(k,31,{ident:c(C)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(k,f(k,"internal","access"),c(j),c(p))}},!0,!1,!1,!1),c(k)),r?q.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(r),asType:f(j,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:h(j,64,{op:"+",node:g(j,f(j,"internal","access"),c(j),e(j,"length"))},!1,!1,!1,!1)}},!0,!1,!1,!1)):r=h(j,64,{op:"+",node:g(j,f(j,"internal","access"),c(j),e(j,"length"))},!1,!1,!1,!1)),g(void 0,f(void 0,"internal","block"),c(q),g(void 0,f(void 0,"ident","__async"),h(void 0,64,{op:"+",node:c(w)},!1,!1,!1,!1),c(r),c(n),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(p),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing")),g(void 0,f(void 0,"internal","param"),c(v),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),c(k)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!1,!1,!1,!1),h(void 0,16,{macroName:"if",macroData:{test:c(n),body:h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(m),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing")),g(void 0,f(void 0,"internal","param"),c(y),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),c(x)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(m),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),c(x)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!0,!1,!1,!1)}},!1,!1,!1,!1)))}}.call(this),options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:141},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return p=a.macroName,o=a.macroData,t=o.parallelism,w=o.results,q=o.next,m=o.key,y=o.value,x=o.type,r=o.object,i=o.body,u=o.rest,h=null!=w?w:{},j=h.err,v=h.result,h=null,s="of"===x,l=[],r=this.cache(r,l,"obj",!0),null==u&&(u=this.noop()),k=null,y&&(k=y.index,y=this.macroExpand1(y.value)),y&&(i=f(i,e(i,"internal","block"),g(i,38,{macroName:"let",macroData:{declarable:g(i,37,g(i,31,{ident:b(y)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(i,e(i,"internal","access"),b(r),b(m))}},!0,!1,!1,!1),b(i))),n=this.tmp("keys",!0),f(void 0,e(void 0,"internal","block"),b(l),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(n),asType:f(void 0,e(void 0,"internal","typeGeneric"),e(void 0,"ident","Array"),e(void 0,"ident","String"))},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,16,{macroName:"if",macroData:{test:b(s),body:f(void 0,e(void 0,"ident","__keys"),b(r)),elseIfs:[],elseBody:f(void 0,e(void 0,"ident","__allkeys"),b(r))}},!1,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,141,{macroName:"asyncfor",macroData:{parallelism:b(t),results:{err:b(j),result:b(v)},next:b(q),value:g(void 0,37,g(void 0,31,{ident:b(m)},!0,!1,!1,!1),!0,!1,!1,!1),index:{value:b(k)},array:b(n),body:b(i),rest:b(u)}},!0,!1,!1,!1))},options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:142},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s,t,u;return o=a.macroName,n=a.macroData,q=n.parallelism,t=n.results,p=n.next,u=n.value,l=n.index,m=n.iterator,i=n.body,r=n.rest,h=null!=t?t:{},j=h.err,s=h.result,h=null,k=!!s,null==r&&(r=this.noop()),null==l&&(l=this.tmp("i",!0)),null==j&&(j=this.tmp("err",!0)),null==q&&(q=d(void 0,1)),f(void 0,e(void 0,"ident","__asyncIter"),g(void 0,64,{op:"+",node:b(q)},!1,!1,!1,!1),f(void 0,e(void 0,"ident","__iter"),b(m)),b(k),g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(u),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing")),f(void 0,e(void 0,"internal","param"),b(l),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing")),f(void 0,e(void 0,"internal","param"),b(p),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(i)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!1,!1,!1,!1),g(void 0,16,{macroName:"if",macroData:{test:b(k),body:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(j),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing")),f(void 0,e(void 0,"internal","param"),b(s),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(r)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:g(void 0,127,{op:"",node:f(void 0,e(void 0,"internal","function"),f(void 0,e(void 0,"internal","array"),f(void 0,e(void 0,"internal","param"),b(j),e(void 0,"internal","nothing"),d(void 0,!1),d(void 0,!1),e(void 0,"internal","nothing"))),f(void 0,e(void 0,"internal","autoReturn"),b(r)),d(void 0,!0),e(void 0,"internal","nothing"),d(void 0,!1))},!0,!1,!1,!1)}},!1,!1,!1,!1))},options:void 0,params:[["ident","parallelism","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:"asyncfor",id:143},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;return l=a.macroName,k=a.macroData,p=k.results,m=k.next,r=k.test,q=k.step,i=k.body,n=k.rest,"asyncuntil"===l&&(r=g(r,3,{op:"not",node:b(r)},!1,!1,!1,!1)),null==n&&(n=this.noop()),h=null!=p?p:{},j=h.err,o=h.result,h=null,g(void 0,140,{macroName:"asyncfor",macroData:{results:{err:b(j),result:b(o)},next:b(m),test:b(r),step:b(q),body:b(i),rest:b(n)}},!0,!1,!1,!1)},options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","next","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","step","many","?","sequence",["const",","],["this","ident","Statement"]],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncwhile","asyncuntil"],id:144},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;for(t=b.macroName,s=b.macroData,w=s.results,l=s.done,x=s.test,j=s.body,o=s.elseIfs,m=s.elseBody,u=s.rest,"asyncunless"===t&&(x=h(x,3,{op:"not",node:c(x)},!1,!1,!1,!1)),i=null!=w?w:{},p=i.err,v=i.result,i=null,null==u&&(u=this.noop()),k=m?h(m,127,{op:"",node:g(m,f(m,"internal","function"),g(m,f(m,"internal","array"),g(m,f(m,"internal","param"),c(l),f(m,"internal","nothing"),e(m,!1),e(m,!1),f(m,"internal","nothing"))),g(m,f(m,"internal","autoReturn"),c(m)),e(m,!0),f(m,"internal","nothing"),e(m,!1))},!1,!1,!1,!1):h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(l),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),g(void 0,c(l))),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!1,!1,!1,!1),q=a(o.length)-1;q>=0;--q)n=o[q],r=n.test,"unless"===n.type&&(r=h(r,3,{op:"not",node:c(r)},!1,!1,!1,!1)),k=h(r,16,{macroName:"if",macroData:{test:c(r),body:h(r,127,{op:"",node:g(r,f(r,"internal","function"),g(r,f(r,"internal","array"),g(r,f(r,"internal","param"),c(l),f(r,"internal","nothing"),e(r,!1),e(r,!1),f(r,"internal","nothing"))),g(r,f(r,"internal","autoReturn"),c(n.body)),e(r,!0),f(r,"internal","nothing"),e(r,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:c(k)}},!0,!1,!1,!1);return k=h(x,16,{macroName:"if",macroData:{test:c(x),body:h(x,127,{op:"",node:g(x,f(x,"internal","function"),g(x,f(x,"internal","array"),g(x,f(x,"internal","param"),c(l),f(x,"internal","nothing"),e(x,!1),e(x,!1),f(x,"internal","nothing"))),g(x,f(x,"internal","autoReturn"),c(j)),e(x,!0),f(x,"internal","nothing"),e(x,!1))},!0,!1,!1,!1),elseIfs:[],elseBody:c(k)}},!0,!1,!1,!1),p||v?v?(null==p&&(p=this.tmp("err",!0)),g(void 0,c(k),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(p),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing")),g(void 0,f(void 0,"internal","param"),c(v),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),c(u)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!1,!1,!1,!1))):g(void 0,c(k),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(p),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),c(u)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!1,!1,!1,!1)):g(void 0,c(k),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array")),g(void 0,f(void 0,"internal","autoReturn"),c(u)),e(void 0,!0),f(void 0,"internal","nothing"),e(void 0,!1))},!1,!1,!1,!1))}}.call(this),options:void 0,params:[["ident","results","many","?","sequence",["ident","err","ident","Identifier"],["ident","result","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","<-"]],["ident","done","ident","Identifier"],["const",","],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]],["ident","elseIfs","many","*","sequence",["const","\n"],["const","else"],["ident","type","choice",["const","if"],["const","unless"]],["ident","test","ident","Logic"],["ident","body","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["ident","elseBody","many","?","sequence",["const","\n"],["const","else"],["this","choice",["ident","BodyNoEnd"],["sequence",["const",";"],["this","ident","Statement"]]]],["const","end"],["ident","rest","ident","DedentedBody"]],names:["asyncif","asyncunless"],id:145},{code:function(a){var b,c,d;return d=a.macroName,c=a.macroData,b=c.key,this.internalCall("custom",this["const"]("def"),b)},options:void 0,params:[["ident","key","ident","ObjectKey"]],names:"def",id:146},{code:function(a){var b,c,d,e;return e=a.macroName,d=a.macroData,c=d.key,b=d.func,this.internalCall("custom",this["const"]("def"),c,b)},options:void 0,params:[["ident","key","ident","ObjectKey"],["ident","func","ident","FunctionDeclaration"]],names:"def",id:147},{code:function(a){var b,c,d,e;return d=a.macroName,c=a.macroData,b=c.key,e=c.value,this.internalCall("custom",this["const"]("def"),b,e)},options:void 0,params:[["ident","key","ident","ObjectKey"],["const","="],["ident","value","ident","ExpressionOrAssignment"]],names:"def",id:148},{code:function(){var a,b,c,d,e;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+e(a))},d=function(c){if(null==c)throw new TypeError("Expected an object, got "+e(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+e(c))},e=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,e,f,g,h,i,j){function k(a){return a.walkWithThis(function(a){var c,f,g,j,l,m;if(a.isInternalCall("super")){for(c=[],f=d(a.args),g=0,j=f.length;j>g;++g)l=f[g],c.push(k(l));return m=c,p.internalCall("contextCall",[m[0].isNothing?O?N:h(a,"ident","Object"):i(a,h(a,"internal","access"),e(P),e(m[0])),h(a,"ident","this")].concat(d(b.call(m,1))))}})}function l(a){return a&&a.isInternalCall("custom")&&a.args[0].isConstValue("def")}function m(a){return a.walkWithThis(function(a){var b,c,d;return l(a)?(c=a.args[1],d=null!=(b=a.args[2])?b:j(a,127,{op:"",node:i(a,h(a,"internal","function"),i(a,h(a,"internal","array")),i(a,h(a,"internal","autoReturn"),j(a,10,{op:"throw",node:i(a,h(a,"ident","Error"),j(a,75,{left:j(a,75,{left:j(a,75,{left:j(a,75,{left:g(a,"Not implemented: "),op:"",right:i(a,h(a,"ident","__name"),i(a,h(a,"internal","access"),h(a,"ident","this"),g(a,"constructor")))},!1,!1,!1,!1),op:"",right:g(a,".")},!1,!1,!1,!1),op:"",right:e(c)},!1,!1,!1,!1),op:"",right:g(a,"()")},!1,!1,!1,!1))},!0,!1,!1,!1)),g(a,!1),h(a,"internal","nothing"),g(a,!1))},!1,!1,!1,!1),m(j(a,29,{left:i(a,h(a,"internal","access"),e(K),e(c)),op:":=",right:e(d)},!1,!1,!1,!1))):void 0})}var n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P;if(p=this,G=a.macroName,F=a.macroData,H=F.name,x=F.generic,O=F.superclass,r=F.body,z=null!=x?[x.head].concat(d(x.tail)):[],H=this.macroExpand1(H),H&&H.isIdent?v=H:H&&H.isInternalCall("access")?(q=H,H=H.args[1].isConstType("string")&&this.ident(H.args[1].constValue())||this.tmp("class",!1)):H=this.tmp("class",!1),O=this.macroExpand1(O),O&&O.isIdent&&"Object"===O.name&&(O=null),B=!!O,N=O&&(O.isIdent?O:this.tmp("super",!1)),E=[],P=O?this.tmp(N.isIdent?c(N.name)+"_prototype":"super_prototype",!1):i(void 0,h(void 0,"internal","access"),h(void 0,"ident","Object"),g(void 0,"prototype")),K=this.tmp(H.isIdent?c(H.name)+"_prototype":"prototype",!1),O?(E.push(j(O,38,{macroName:"let",macroData:{declarable:j(O,37,j(O,31,{ident:e(P),asType:h(O,"ident","Object")},!0,!1,!1,!1),!0,!1,!1,!1),value:i(O,h(O,"internal","access"),e(N),g(O,"prototype"))}},!0,!1,!1,!1)),E.push(j(O,38,{macroName:"let",macroData:{declarable:j(O,37,j(O,31,{ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:j(O,29,{left:i(O,h(O,"internal","access"),e(H),g(O,"prototype")),op:":=",right:i(O,h(O,"internal","object"),e(P))},!1,!1,!1,!1)}},!0,!1,!1,!1)),E.push(j(O,29,{left:i(O,h(O,"internal","access"),e(K),g(O,"constructor")),op:":=",right:e(H)},!1,!1,!1,!1))):E.push(j(H,38,{macroName:"let",macroData:{declarable:j(H,37,j(H,31,{ident:e(K)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(H,h(H,"internal","access"),e(H),g(H,"prototype"))}},!0,!1,!1,!1)),H.isIdent&&(w=this["const"](H.name)),null!=w){if(z.length>0&&!this.getConstValue("DISABLE_GENERICS",!1)){for(J=[w,this["const"]("<")],D=0,o=z.length;o>D;++D)y=z[D],D>0&&J.push(this["const"](", ")),J.push(j(y,15,{macroName:"if",macroData:{test:j(y,8,{left:e(y),inverted:!1,op:"!~=",right:f("null")},!1,!1,!1,!1),body:i(y,h(y,"ident","__name"),e(y)),elseIfs:[],elseBody:g(y,"")}},!1,!1,!1,!1));for(J.push(this["const"](">")),u=this["const"](""),n=0,o=J.length;o>n;++n)I=J[n],u=j(H,30,{left:e(u),inverted:!1,op:"~&",right:e(I)},!1,!1,!1,!1);w=u}E.push(j(H,29,{left:i(H,h(H,"internal","access"),e(H),g(H,"displayName")),op:":=",right:e(w)},!1,!1,!1,!1))}return O&&E.push(i(O,h(O,"internal","if"),i(O,h(O,"operator","binary","==="),i(O,h(O,"operator","unary","typeof"),i(O,h(O,"internal","access"),e(N),g(O,"extended"))),g(O,"function")),i(O,i(O,h(O,"internal","access"),e(N),g(O,"extended")),e(H)),h(O,"internal","nothing"))),r=k(this.macroExpandAll(r||this.noop())),s=0,r.walkWithThis(function(a){l(a)&&a.args[1].isConstValue("constructor")&&++s}),C=!1,1===s&&r.walkWithThis(function(a){return l(a)&&a.args[1].isConstValue("constructor")&&(!a.args[2]||a.args[2].isInternalCall("function"))&&(C=!0),a.isInternalCall("block")?void 0:a}),M=this.tmp("this"),C?r=r.walkWithThis(function(a){var b,c;return l(a)&&a.args[1].isConstValue("constructor")?(c=p.macroExpand1(a.args[2]),c?(b=p.func(c.args[0],c.args[1],j(c,15,{macroName:"if",macroData:{test:j(c,80,{left:i(c,h(c,"ident","eval"),g(c,"this")),inverted:!1,op:"instanceof",right:e(H)},!0,!1,!1,!1),body:i(c,h(c,"ident","eval"),g(c,"this")),elseIfs:[],elseBody:i(c,h(c,"internal","object"),e(K))}},!0,!1,!1,!1)),E.unshift(j(a,38,{macroName:"let",macroData:{declarable:j(a,37,j(a,31,{ident:e(H),asType:i(a,h(a,"internal","typeGeneric"),h(a,"ident","Function"),e(H))},!0,!1,!1,!1),!0,!1,!1,!1),value:e(b)}},!0,!1,!1,!1))):E.unshift(j(a,38,{macroName:"let",macroData:{declarable:j(a,37,j(a,31,{ident:e(H),asType:i(a,h(a,"internal","typeGeneric"),h(a,"ident","Function"),e(H))},!1,!1,!1,!1),!1,!1,!1,!1),value:j(a,127,{op:"",node:i(a,h(a,"internal","function"),i(a,h(a,"internal","array")),i(a,h(a,"internal","autoReturn"),j(a,10,{op:"throw",node:i(a,h(a,"ident","Error"),g(a,"Not implemented"))},!0,!1,!1,!1)),g(a,!1),h(a,"internal","nothing"),g(a,!1))},!1,!1,!1,!1)}},!1,!1,!1,!1)),p.noop()):a.isInternalCall("block")?void 0:a}):0!==s?(t=this.tmp("ctor",!1),L=this.tmp("ref"),E.push(i(void 0,h(void 0,"internal","block"),j(void 0,38,{macroName:"let",macroData:{declarable:j(void 0,37,j(void 0,31,{isMutable:"mutable",ident:e(t),asType:i(void 0,h(void 0,"internal","typeUnion"),h(void 0,"ident","Function"),f("void"))},!0,!1,!1,!1),!0,!1,!1,!1),value:f("void")}},!0,!1,!1,!1),j(void 0,14,{macroName:"let",macroData:{ident:e(H),func:j(void 0,127,{op:"",node:i(void 0,h(void 0,"internal","function"),i(void 0,h(void 0,"internal","array")),i(void 0,h(void 0,"internal","autoReturn"),i(void 0,h(void 0,"internal","block"),j(void 0,38,{macroName:"let",macroData:{declarable:j(void 0,37,j(void 0,31,{ident:e(M)},!0,!1,!1,!1),!0,!1,!1,!1),value:j(void 0,15,{macroName:"if",macroData:{test:j(void 0,80,{left:h(void 0,"ident","this"),inverted:!1,op:"instanceof",right:e(H)},!1,!1,!1,!1),body:h(void 0,"ident","this"),elseIfs:[],elseBody:i(void 0,h(void 0,"internal","object"),e(K))}},!1,!1,!1,!1)}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,26,{op:"isFunction!",node:e(t)},!0,!1,!1,!1),body:i(void 0,h(void 0,"internal","block"),j(void 0,38,{macroName:"let",macroData:{declarable:j(void 0,37,j(void 0,31,{ident:e(L)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(void 0,h(void 0,"internal","contextCall"),e(t),e(M),i(void 0,h(void 0,"internal","spread"),h(void 0,"ident","arguments")))}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,5,{left:i(void 0,h(void 0,"ident","Object"),e(L)),inverted:!1,op:"==",right:e(L)},!0,!1,!1,!1),body:j(void 0,39,{macroName:"return",macroData:{node:e(L)}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1)),elseIfs:[{type:"if",test:e(B),body:i(void 0,h(void 0,"internal","block"),j(void 0,38,{macroName:"let",macroData:{declarable:j(void 0,37,j(void 0,31,{ident:e(L)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(void 0,h(void 0,"internal","contextCall"),e(N),e(M),i(void 0,h(void 0,"internal","spread"),h(void 0,"ident","arguments")))}},!0,!1,!1,!1),j(void 0,16,{macroName:"if",macroData:{test:j(void 0,5,{left:i(void 0,h(void 0,"ident","Object"),e(L)),inverted:!1,op:"==",right:e(L)},!0,!1,!1,!1),body:j(void 0,39,{macroName:"return",macroData:{node:e(L)}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1))}]}},!0,!1,!1,!1),e(M))),g(void 0,!1),e(H),g(void 0,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1))),r=r.walkWithThis(function(a){var b,c,d;return l(a)&&a.args[1].isConstValue("constructor")?(d=a.args[2],d?d.isCall&&d.func.isIdent&&"__curry"===d.func.name&&2===d.args.length&&d.args[1].isInternalCall("function")?(c=d.args[0],b=d.args[1],b=p.func(b.args[0],b.args[1],j(b,15,{macroName:"if",macroData:{test:j(b,80,{left:i(b,h(b,"ident","eval"),g(b,"this")),inverted:!1,op:"instanceof",right:e(H)},!0,!1,!1,!1),body:i(b,h(b,"ident","eval"),g(b,"this")),elseIfs:[],elseBody:i(b,h(b,"internal","object"),e(K))}},!0,!1,!1,!1)),j(a,29,{left:e(t),op:":=",right:i(a,h(a,"ident","__curry"),e(c),e(b))},!1,!1,!1,!1)):d.isInternalCall("function")?(b=p.func(d.args[0],d.args[1],j(b,15,{macroName:"if",macroData:{test:j(b,80,{left:i(b,h(b,"ident","eval"),g(b,"this")),inverted:!1,op:"instanceof",right:e(H)},!0,!1,!1,!1),body:i(b,h(b,"ident","eval"),g(b,"this")),elseIfs:[],elseBody:i(b,h(b,"internal","object"),e(K))}},!0,!1,!1,!1)),j(a,29,{left:e(t),op:":=",right:e(b)},!1,!1,!1,!1)):j(a,29,{left:e(t),op:":=",right:e(d)},!1,!1,!1,!1):j(a,29,{left:e(t),op:":=",right:j(a,127,{op:"",node:i(a,h(a,"internal","function"),i(a,h(a,"internal","array")),i(a,h(a,"internal","autoReturn"),j(a,10,{op:"throw",node:i(a,h(a,"ident","Error"),g(a,"Not implemented"))},!0,!1,!1,!1)),g(a,!1),h(a,"internal","nothing"),g(a,!1))},!1,!1,!1,!1)},!1,!1,!1,!1)):void 0})):O?(L=this.tmp("ref"),E.push(j(H,14,{macroName:"let",macroData:{ident:e(H),func:j(H,127,{op:"",node:i(H,h(H,"internal","function"),i(H,h(H,"internal","array")),i(H,h(H,"internal","autoReturn"),i(H,h(H,"internal","block"),j(H,38,{macroName:"let",macroData:{declarable:j(H,37,j(H,31,{ident:e(M)},!0,!1,!1,!1),!0,!1,!1,!1),value:j(H,15,{macroName:"if",macroData:{test:j(H,80,{left:h(H,"ident","this"),inverted:!1,op:"instanceof",right:e(H)},!1,!1,!1,!1),body:h(H,"ident","this"),elseIfs:[],elseBody:i(H,h(H,"internal","object"),e(K))}},!1,!1,!1,!1)}},!0,!1,!1,!1),j(H,38,{macroName:"let",macroData:{declarable:j(H,37,j(H,31,{ident:e(L)},!0,!1,!1,!1),!0,!1,!1,!1),value:i(H,h(H,"internal","contextCall"),e(N),e(M),i(H,h(H,"internal","spread"),h(H,"ident","arguments")))}},!0,!1,!1,!1),j(H,16,{macroName:"if",macroData:{test:j(H,5,{left:i(H,h(H,"ident","Object"),e(L)),inverted:!1,op:"==",right:e(L)},!0,!1,!1,!1),body:e(L),elseIfs:[],elseBody:e(M)}},!0,!1,!1,!1))),g(H,!1),e(H),g(H,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1))):E.push(j(H,14,{macroName:"let",macroData:{ident:e(H),func:j(H,127,{op:"",node:i(H,h(H,"internal","function"),i(H,h(H,"internal","array")),i(H,h(H,"internal","autoReturn"),j(H,15,{macroName:"if",macroData:{test:j(H,80,{left:h(H,"ident","this"),inverted:!1,op:"instanceof",right:e(H)},!0,!1,!1,!1),body:h(H,"ident","this"),elseIfs:[],elseBody:i(H,h(H,"internal","object"),e(K))}},!0,!1,!1,!1)),g(H,!1),e(H),g(H,!1))},!0,!1,!1,!1)}},!0,!1,!1,!1)),r=m(r),r=r.walkWithThis(function(a){if(a.isInternalCall("function")){if(!a.args[2].isConstTruthy())return a}else if(a.isIdent&&"this"===a.name)return H}),L=j(void 0,113,{macroName:"do",macroData:{locals:{ident:e(N),value:e(O),rest:[]},body:i(void 0,h(void 0,"internal","block"),e(E),e(r),j(void 0,39,{macroName:"return",macroData:{node:e(H)}},!0,!1,!1,!1))}},!0,!1,!1,!1),z.length>0&&(A=this.internalCall("array",z),L=j(void 0,126,{macroName:"generic!",macroData:[e(L),e(A)]},!1,!1,!1,!1)),null!=v?i(void 0,h(void 0,"internal","block"),j(void 0,38,{macroName:"let",macroData:{declarable:j(void 0,37,j(void 0,31,{ident:e(v)},!0,!1,!1,!1),!0,!1,!1,!1),value:e(L)}},!0,!1,!1,!1),e(v)):null!=q?j(void 0,29,{left:e(q),op:":=",right:e(L)},!1,!1,!1,!1):L}}.call(this),options:void 0,params:[["ident","name","many","?","ident","SimpleAssignable"],["ident","generic","many","?","sequence",["const","<"],["ident","head","ident","Identifier"],["ident","tail","many","*","sequence",["const",","],["this","ident","Identifier"]],["const",">"]],["ident","superclass","many","?","sequence",["const","extends"],["this"]],["ident","body","many","?","ident","Body"]],names:"class",id:149},{code:function(a){var b,c,d;return c=a.macroName,b=a.macroData,d=b.node,this.inGenerator||this.error("Can only use yield in a generator function"),this.mutateLast(d,function(a){return this.internalCall("yield",a)},!0)},options:void 0,params:[["ident","node","many","?","ident","Expression"]],names:"yield",id:150},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r;return o=a.macroName,n=a.macroData,p=n.node,this.inGenerator||this.error("Can only use yield* in a generator function"),j=[],this.isType(p,"arrayLike")?(i=this.tmp("i",!1),j.push(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(i)},!0,!1,!1,!1),!0,!1,!1,!1),value:d(void 0,0)}},!0,!1,!1,!1)),m=this.tmp("len",!1),p=this.cache(p,j,"arr",!1),j.push(g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(m),asType:e(void 0,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:f(void 0,e(void 0,"internal","access"),b(p),d(void 0,"length"))}},!0,!1,!1,!1)),f(void 0,e(void 0,"internal","block"),g(void 0,115,{macroName:"for",macroData:{init:b(j),test:g(void 0,9,{left:b(i),inverted:!1,op:"~<",right:b(m)},!0,!1,!1,!1),step:g(void 0,52,{left:b(i),op:"~+=",right:d(void 0,1)},!1,!1,!1,!1),body:g(void 0,150,{macroName:"yield",macroData:{node:f(void 0,e(void 0,"internal","access"),b(p),b(i))}},!0,!1,!1,!1)}},!0,!1,!1,!1),c("void"))):(l=this.cache(f(void 0,e(void 0,"ident","__iter"),b(p)),j,"iter",!1),h=this.tmp("e",!0),r=this.tmp("send"),k=this.tmp("item"),q=this.tmp("tmp"),f(void 0,e(void 0,"internal","block"),b(j),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(q)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("void")}},!0,!1,!1,!1),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(r)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("true")}},!0,!1,!1,!1),g(void 0,117,{macroName:"while",macroData:{test:c("true"),body:f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(k)},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,15,{macroName:"if",macroData:{test:b(r),body:f(void 0,f(void 0,e(void 0,"internal","access"),b(l),d(void 0,"send")),b(q)),elseIfs:[],elseBody:f(void 0,f(void 0,e(void 0,"internal","access"),b(l),d(void 0,"throw")),b(q))}},!1,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,16,{macroName:"if",macroData:{test:f(void 0,e(void 0,"internal","access"),b(k),d(void 0,"done")),body:g(void 0,19,{macroName:"break",macroData:{}},!0,!1,!1,!1),elseIfs:[]}},!0,!1,!1,!1),g(void 0,129,{macroName:"try",macroData:{tryBody:f(void 0,e(void 0,"internal","block"),g(void 0,29,{left:b(q),op:":=",right:g(void 0,150,{macroName:"yield",macroData:{node:f(void 0,e(void 0,"internal","access"),b(k),d(void 0,"value"))}},!1,!1,!1,!1)},!0,!1,!1,!1),g(void 0,29,{left:b(r),op:":=",right:c("true")},!0,!1,!1,!1)),typedCatches:[],catchPart:{ident:b(h),body:f(void 0,e(void 0,"internal","block"),g(void 0,29,{left:b(q),op:":=",right:b(h)},!0,!1,!1,!1),g(void 0,29,{left:b(r),op:":=",right:c("false")},!0,!1,!1,!1))}}},!0,!1,!1,!1))}},!0,!1,!1,!1),g(void 0,129,{macroName:"try",macroData:{tryBody:f(void 0,f(void 0,e(void 0,"internal","access"),b(l),d(void 0,"close"))),typedCatches:[],catchPart:{ident:b(h),body:c("void")}}},!0,!1,!1,!1),f(void 0,e(void 0,"internal","access"),b(k),d(void 0,"value"))))
},options:void 0,params:[["ident","node","ident","Expression"]],names:"yield*",id:151},{code:function(a,b,c,d,e,f,g){var h,i,j,k;return i=a.macroName,h=a.macroData,j=h.node,k=h.rest,f(void 0,e(void 0,"internal","block"),b(k),g(void 0,39,{macroName:"return",macroData:{node:b(j)}},!0,!1,!1,!1))},options:void 0,params:[["ident","node","ident","Expression"],["ident","rest","ident","DedentedBody"]],names:"returning",id:152},{code:function(a){var b,c,d,e;return d=a.macroName,c=a.macroData,b=c.label,e=c.node,this.withLabel(e,b)},options:void 0,params:[["ident","label","ident","Identifier"],["ident","node","choice",["ident","Statement"],["ident","Body"]]],names:"label!",id:155},{code:function(a,b,c,d,e,f){var g,h,i,j;return h=a.macroName,g=a.macroData,j=g.sync,i=g.node,i=this.macroExpand1(i),i.isInternalCall("function")&&i.args[4].isConstFalsy()&&this.error("promise! must be used with a generator function",i),j&&i.isInternalCall("function")&&this.error("Use .sync() to retrieve asynchronously",j),!j||j.isConstFalsy()?f(void 0,e(void 0,"ident","__promise"),b(i)):f(void 0,e(void 0,"ident","__promise"),b(i),b(j))},options:void 0,params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","node","ident","Expression"]],names:"promise!",id:164},{code:function(a,b,c,d,e,f){var g,h,i,j,k;return j=a.macroName,i=a.macroData,k=i.sync,g=i.body,h=this.func([],this.internalCall("autoReturn",g),!0,null,!0),!k||k.isConstFalsy()?f(void 0,e(void 0,"ident","__generatorToPromise"),f(void 0,b(h))):f(void 0,e(void 0,"ident","__generatorToPromise"),f(void 0,b(h)),b(k))},options:void 0,params:[["ident","sync","many","?","sequence",["const","("],["this","ident","Expression"],["const",")"]],["ident","body","ident","GeneratorBody"]],names:"promise!",id:165},{code:function(){var a;return a=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x;return t=b.macroName,s=b.macroData,u=s.parallelism,x=s.value,o=s.index,j=s.array,k=s.body,p=[],x=this.macroExpand1(x),q=null,o&&(q=o.length,o=o.value),null==u&&(u=e(void 0,1)),null==o&&(o=this.tmp("i",!0)),j=this.macroExpand1(j),j.isCall&&(m=this.macroExpand1(j.func),m.isIdent&&"__range"===m.name)?(x.ident||this.error("Cannot assign a number to a complex declarable",x),i=j.args,v=i[0],l=i[1],w=i[2],n=i[3],i=null,v=this.macroExpand1(v),l=this.macroExpand1(l),w=this.macroExpand1(w),n=this.macroExpand1(n),v.isConst()?v.isConstType("number")||this.error("Cannot start with a non-number: "+a(v.constValue()),v):v=h(v,64,{op:"+",node:c(v)},!1,!1,!1,!1),l.isConst()?l.isConstType("number")||this.error("Cannot end with a non-number: "+a(l.constValue()),l):l.cacheable?l=this.cache(h(l,64,{op:"+",node:c(l)},!1,!1,!1,!1),p,"end",!1):p.push(h(l,64,{op:"+",node:c(l)},!1,!1,!1,!1)),w.isConst()?w.isConstType("number")||this.error("Cannot step with a non-number: "+a(w.constValue()),w):w.cacheable?w=this.cache(h(w,64,{op:"+",node:c(w)},!1,!1,!1,!1),p,"step",!1):p.push(h(w,64,{op:"+",node:c(w)},!1,!1,!1,!1)),r=h(j,16,{macroName:"if",macroData:{test:c(n),body:h(j,45,{left:h(j,49,{left:h(j,49,{left:c(l),inverted:!1,op:"~-",right:c(v)},!1,!1,!1,!1),inverted:!1,op:"~+",right:c(w)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:c(w)},!0,!1,!1,!1),elseIfs:[],elseBody:h(j,45,{left:h(j,49,{left:c(l),inverted:!1,op:"~-",right:c(v)},!1,!1,!1,!1),inverted:!1,op:"~\\",right:c(w)},!0,!1,!1,!1)}},!1,!1,!1,!1),q?p.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(q),asType:f(j,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:c(r)}},!0,!1,!1,!1)):q=r,g(void 0,f(void 0,"internal","block"),c(p),g(void 0,f(void 0,"ident","__promiseLoop"),h(void 0,64,{op:"+",node:c(u)},!1,!1,!1,!1),c(q),g(void 0,f(void 0,"ident","__promise"),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(o),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(x),asType:f(void 0,"ident","Number")},!0,!0,!1,!1),!0,!0,!1,!1),value:h(void 0,49,{left:h(void 0,45,{left:c(o),inverted:!1,op:"~*",right:c(w)},!1,!0,!1,!1),inverted:!1,op:"~+",right:c(v)},!1,!0,!1,!1)}},!0,!0,!1,!1),c(k))),e(void 0,!1),f(void 0,"internal","nothing"),e(void 0,!0))},!1,!1,!1,!1))))):(j=this.cache(j,p,"arr",!0),q?p.push(h(j,38,{macroName:"let",macroData:{declarable:h(j,37,h(j,31,{ident:c(q),asType:f(j,"ident","Number")},!0,!1,!1,!1),!0,!1,!1,!1),value:h(j,64,{op:"+",node:g(j,f(j,"internal","access"),c(j),e(j,"length"))},!1,!1,!1,!1)}},!0,!1,!1,!1)):q=h(j,64,{op:"+",node:g(j,f(j,"internal","access"),c(j),e(j,"length"))},!1,!1,!1,!1),g(void 0,f(void 0,"internal","block"),c(p),g(void 0,f(void 0,"ident","__promiseLoop"),h(void 0,64,{op:"+",node:c(u)},!1,!1,!1,!1),c(q),g(void 0,f(void 0,"ident","__promise"),h(void 0,127,{op:"",node:g(void 0,f(void 0,"internal","function"),g(void 0,f(void 0,"internal","array"),g(void 0,f(void 0,"internal","param"),c(o),f(void 0,"internal","nothing"),e(void 0,!1),e(void 0,!1),f(void 0,"internal","nothing"))),g(void 0,f(void 0,"internal","autoReturn"),g(void 0,f(void 0,"internal","block"),h(void 0,38,{macroName:"let",macroData:{declarable:h(void 0,37,h(void 0,31,{ident:c(x)},!0,!0,!1,!1),!0,!0,!1,!1),value:g(void 0,f(void 0,"internal","access"),c(j),c(o))}},!0,!0,!1,!1),c(k))),e(void 0,!1),f(void 0,"internal","nothing"),e(void 0,!0))},!1,!1,!1,!1)))))}}.call(this),options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["ident","value","ident","Identifier"],["ident","length","many","?","sequence",["const",","],["this","ident","Identifier"]]],["const","in"],["ident","array"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:174},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o,p,q,r,s;return n=a.macroName,m=a.macroData,q=m.parallelism,k=m.key,s=m.value,r=m.type,o=m.object,h=m.body,p="of"===r,j=[],o=this.cache(o,j,"obj",!0),i=null,s&&(i=s.index,s=this.macroExpand1(s.value)),s&&(h=f(h,e(h,"internal","block"),g(h,38,{macroName:"let",macroData:{declarable:g(h,37,g(h,31,{ident:b(s)},!0,!1,!1,!1),!0,!1,!1,!1),value:f(h,e(h,"internal","access"),b(o),b(k))}},!0,!1,!1,!1),b(h))),l=this.tmp("keys",!0),f(void 0,e(void 0,"internal","block"),b(j),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(l),asType:f(void 0,e(void 0,"internal","typeGeneric"),e(void 0,"ident","Array"),e(void 0,"ident","String"))},!0,!1,!1,!1),!0,!1,!1,!1),value:g(void 0,16,{macroName:"if",macroData:{test:b(p),body:f(void 0,e(void 0,"ident","__keys"),b(o)),elseIfs:[],elseBody:f(void 0,e(void 0,"ident","__allkeys"),b(o))}},!1,!1,!1,!1)}},!0,!1,!1,!1),g(void 0,174,{macroName:"promisefor",macroData:{parallelism:b(q),value:g(void 0,37,g(void 0,31,{ident:b(k)},!0,!1,!1,!1),!0,!1,!1,!1),index:{value:b(i)},array:b(l),body:b(h)}},!0,!1,!1,!1))},options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","key","ident","Identifier"],["ident","value","many","?","sequence",["const",","],["ident","value","ident","Declarable"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]]],["ident","type","choice",["const","of"],["const","ofall"]],["ident","object"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:175},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m,n,o;return m=a.macroName,l=a.macroData,n=l.parallelism,o=l.value,j=l.index,k=l.iterator,h=l.body,i=j?g(h,127,{op:"",node:f(h,e(h,"internal","function"),f(h,e(h,"internal","array"),f(h,e(h,"internal","param"),b(o),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing")),f(h,e(h,"internal","param"),b(j),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing"))),f(h,e(h,"internal","autoReturn"),b(h)),d(h,!1),e(h,"internal","nothing"),d(h,!0))},!1,!1,!1,!1):g(h,127,{op:"",node:f(h,e(h,"internal","function"),f(h,e(h,"internal","array"),f(h,e(h,"internal","param"),b(o),e(h,"internal","nothing"),d(h,!1),d(h,!1),e(h,"internal","nothing"))),f(h,e(h,"internal","autoReturn"),b(h)),d(h,!1),e(h,"internal","nothing"),d(h,!0))},!1,!1,!1,!1),f(void 0,e(void 0,"ident","__promiseIter"),g(void 0,64,{op:"+",node:b(n)},!1,!1,!1,!1),f(void 0,e(void 0,"ident","__iter"),b(k)),f(void 0,e(void 0,"ident","__promise"),b(i)))},options:void 0,params:[["const","("],["ident","parallelism","ident","Expression"],["const",")"],["ident","value","ident","Identifier"],["ident","index","many","?","sequence",["const",","],["this","ident","Identifier"]],["const","from"],["ident","iterator"],["ident","body","ident","GeneratorBody"]],names:"promisefor",id:176},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.line())},options:{type:"number"},params:[["const",""]],names:"__LINE__",id:177},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.column())},options:{type:"number"},params:[["const",""]],names:"__COLUMN__",id:178},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.file())},options:{type:"string"},params:[["const",""]],names:"__FILE__",id:179},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"]((new Date).getTime())},options:{type:"number"},params:[["const",""]],names:"__DATEMSEC__",id:180},{code:function(a){var b,c;return c=a.macroName,b=a.macroData,this["const"](this.version())},options:{type:"string"},params:[["const",""]],names:"__VERSION__",id:181}],call:[{code:function(a,b,c,d,e,f,g){var h,i,j,k,l;return j=a.macroName,i=a.macroData,h=i[0],k=arguments[0].macroData.slice(1),0===k.length?b(h):"statement"===this.position?(l=this.tmp("ref"),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{ident:b(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:b(h)}},!0,!1,!1,!1),b(k),b(l))):(k.push(c("void")),f(void 0,e(void 0,"ident","__first"),b(h),b(k)))},options:void 0,names:"first!",id:62},{code:function(a,b,c,d,e,f){var g,h,i,j,k;return j=a.macroName,i=a.macroData,k=arguments[0].macroData.slice(0,-1),h=(g=arguments[0].macroData)[g.length-1],0===k.length?b(h):f(void 0,e(void 0,"internal","block"),b(k),b(h))},options:void 0,names:"last!",id:63},{code:function(){var a,b,c,d,e,f;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Object.prototype.hasOwnProperty,c=Array.prototype.slice,d=function(a){var b;if(b=typeof a,"string"===b)return a;if("number"===b)return String(a);throw new TypeError("Expected a string or number, got "+f(a))},e=function(b){if(null==b)throw new TypeError("Expected an object, got "+f(b));if(a(b))return b;if("string"==typeof b)return b.split("");if("number"==typeof b.length)return c.call(b);throw new TypeError("Expected an object with a length property, got "+f(b))},f=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,g,h,i,j,k,l){var m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D;if(x=c.macroName,w=c.macroData,r=w[0],D=w[1],D=this.macroExpand1(D),this.isNode(D)&&D.isInternalCall("array")?D=D.args:a(D)||this.error("Expected types to be an array"),0===D.length)return r;for(m=[],n=e(D),o=0,p=n.length;p>o;++o)C=n[o],m.push(this.internalCall("param",C,this.noop(),this["const"](!1),this["const"](!1),this.noop()));for(B=m,z=this.tmp("make",!1),t={},m=e(D),o=0,p=m.length;p>o;++o)C=m[o],this.isNode(C)&&C.isIdent||this.error("Expected type to be an Ident, got "+f(C),C),A=C.name,v=this.tmp("instanceof_"+d(A),!1),b.call(t,A)&&this.error("Duplicate generic type '"+d(A)+"'",C),t[A]={key:v,let:l(C,38,{macroName:"let",macroData:{declarable:l(C,37,l(C,31,{ident:g(v),asType:j(C,"ident","Function")},!0,!1,!1,!1),!0,!1,!1,!1),value:k(C,j(C,"ident","__getInstanceof"),g(C))}},!0,!1,!1,!1),used:!1};if(q=this.getConstValue("DISABLE_GENERICS",!1),r=this.macroExpandAll(r).walkWithThis(function(a){var c,d,e,f;return a.isBinaryCall("instanceof")&&(f=a.args[1],f.isIdent&&(e=f.name,b.call(t,e)))?q?h("true"):(c=t[e].key,t[e].used=!0,d=a.args[0],k(a,g(c),g(d))):void 0}),q)return r;m=[];for(A in t)b.call(t,A)&&(u=t[A],u.used&&m.push(u.let));return s=m,y=this.func(B,k(void 0,j(void 0,"internal","block"),g(s),l(void 0,39,{macroName:"return",macroData:{node:g(r)}},!0,!1,!1,!1))),k(void 0,j(void 0,"ident","__genericFunc"),g(D.length),g(y))}}.call(this),options:{label:"generic"},names:"generic!",id:126},{code:function(a,b,c,d,e,f,g){var h,i,j,k,l,m;return k=a.macroName,j=a.macroData,i=j[0],m=j[1],i=this.macroExpand1(i),i.isInternalCall("function")?(h=i.args[1],l=this.tmp("once",!0),i=this.func(i.args[0],f(h,e(h,"internal","block"),g(h,16,{macroName:"if",macroData:{test:b(l),body:g(h,16,{macroName:"if",macroData:{test:b(m),body:g(h,39,{macroName:"return",macroData:{}},!0,!1,!1,!1),elseIfs:[],elseBody:g(h,10,{op:"throw",node:f(h,e(h,"ident","Error"),d(h,"Attempted to call function more than once"))},!0,!1,!1,!1)}},!0,!1,!1,!1),elseIfs:[],elseBody:g(h,29,{left:b(l),op:":=",right:c("true")},!0,!1,!1,!1)}},!0,!1,!1,!1),b(h)),i.args[2],i.args[3],i.args[4]),f(void 0,e(void 0,"internal","block"),g(void 0,38,{macroName:"let",macroData:{declarable:g(void 0,37,g(void 0,31,{isMutable:"mutable",ident:b(l)},!0,!1,!1,!1),!0,!1,!1,!1),value:c("false")}},!0,!1,!1,!1),b(i))):!m||m.isConstFalsy()?f(void 0,e(void 0,"ident","__once"),b(i)):f(void 0,e(void 0,"ident","__once"),b(i),b(m))},options:void 0,names:"once!",id:136},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j;return i=b.macroName,h=b.macroData,j=h[0],a(h.length)>1&&this.error("fulfilled! only expects one argument"),this.mutateLast(j,function(a){return g(void 0,g(void 0,f(void 0,"internal","access"),f(void 0,"ident","__defer"),e(void 0,"fulfilled")),c(a))},!0)}}.call(this),options:void 0,names:"fulfilled!",id:166},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j;return i=b.macroName,h=b.macroData,j=h[0],a(h.length)>1&&this.error("rejected! only expects one argument"),this.mutateLast(j,function(a){return g(void 0,g(void 0,f(void 0,"internal","access"),f(void 0,"ident","__defer"),e(void 0,"rejected")),c(a))},!0)}}.call(this),options:void 0,names:"rejected!",id:167},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j;return i=b.macroName,h=b.macroData,j=h[0],a(h.length)>1&&this.error("from-promise! only expects one argument"),g(void 0,f(void 0,"ident","__fromPromise"),c(j))}}.call(this),options:void 0,names:"fromPromise!",id:168},{code:function(){var a,b,c;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+c(a));return a},b=Array.prototype.slice,c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f,g,h){var i,j,k,l,m,n,o;return n=c.macroName,m=c.macroData,o=m[0],a(m.length)>1&&this.error("to-promise! only expects one argument"),o=this.macroExpand1(o),o.isInternalCall("contextCall")?(l=o.args[0],j=this.macroExpand1(o.args[1]),j.isInternalCall("spread")?(k=b.call(o.args,1),this.maybeCache(this.internalCall("array",k),function(a,b){return h(void 0,g(void 0,"ident","__toPromise"),d(l),h(void 0,g(void 0,"internal","access"),d(a),f(void 0,0)),h(void 0,h(void 0,g(void 0,"internal","access"),d(b),f(void 0,"slice")),f(void 0,1)))})):(i=this.internalCall("array",b.call(o.args,2)),h(void 0,g(void 0,"ident","__toPromise"),d(l),d(j),d(i)))):o.isInternalCall("new")?(l=o.args[0],i=this.internalCall("array",b.call(o.args,1)),h(void 0,g(void 0,"ident","__toPromise"),g(void 0,"ident","__new"),d(l),d(i))):o.isNormalCall()?(l=this.macroExpand1(o.func),i=this.internalCall("array",o.args),l.isInternalCall("access")?this.maybeCache(l.args[0],function(a,b){var c;return c=l.args[1],h(void 0,g(void 0,"ident","__toPromise"),h(void 0,g(void 0,"internal","access"),d(a),d(c)),d(b),d(i))}):h(void 0,g(void 0,"ident","__toPromise"),d(l),e("void"),d(i))):this.error("to-promise! call expression must be a call",o)}}.call(this),options:{type:"promise"},names:"toPromise!",id:169},{code:function(){var a,b,c;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+c(a));return a},b=Array.prototype.slice,c=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(c,d,e,f,g,h){var i,j,k,l,m,n,o;return n=c.macroName,m=c.macroData,o=m[0],a(m.length)>1&&this.error("to-promise-array! only expects one argument"),o=this.macroExpand1(o),o.isInternalCall("contextCall")?(l=o.args[0],j=this.macroExpand1(o.args[1]),j.isInternalCall("spread")?(k=b.call(o.args,1),this.maybeCache(this.internalCall("array",k),function(a,b){return h(void 0,g(void 0,"ident","__toPromiseArray"),d(l),h(void 0,g(void 0,"internal","access"),d(a),f(void 0,0)),h(void 0,h(void 0,g(void 0,"internal","access"),d(b),f(void 0,"slice")),f(void 0,1)))})):(i=this.internalCall("array",b.call(o.args,2)),h(void 0,g(void 0,"ident","__toPromiseArray"),d(l),d(j),d(i)))):o.isInternalCall("new")?(l=o.args[0],i=this.internalCall("array",b.call(o.args,1)),h(void 0,g(void 0,"ident","__toPromiseArray"),g(void 0,"ident","__new"),d(l),d(i))):o.isNormalCall()?(l=this.macroExpand1(o.func),i=this.internalCall("array",o.args),l.isInternalCall("access")?this.maybeCache(l.args[0],function(a,b){var c;return c=l.args[1],h(void 0,g(void 0,"ident","__toPromiseArray"),h(void 0,g(void 0,"internal","access"),d(a),d(c)),d(b),d(i))}):h(void 0,g(void 0,"ident","__toPromiseArray"),d(l),e("void"),d(i))):this.error("to-promise-array! call expression must be a call",o)}}.call(this),options:{type:"promise"},names:"toPromiseArray!",id:170},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j;return i=b.macroName,h=b.macroData,j=h[0],a(h.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(j,"array")||this.error("some-promise! should be used on an Array",j),g(void 0,f(void 0,"ident","__somePromise"),c(j))}}.call(this),options:void 0,names:"somePromise!",id:171},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j;return i=b.macroName,h=b.macroData,j=h[0],a(h.length)>1&&this.error("some-promise! only expects one argument"),this.hasType(j,"array")||this.hasType(j,"object")||this.error("every-promise! should be used on an Array or Object",j),g(void 0,f(void 0,"ident","__everyPromise"),c(j))}}.call(this),options:void 0,names:"everyPromise!",id:172},{code:function(){var a,b;return a=function(a){if("number"!=typeof a)throw new TypeError("Expected a number, got "+b(a));return a},b=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(b,c,d,e,f,g){var h,i,j,k,l;return j=b.macroName,i=b.macroData,k=i[0],l=i[1],this.hasType(k,"number")||this.error("delay! should take a number in milliseconds"),l=this.macroExpand1(l),h=l&&!l.isConstValue(void 0),k=this.macroExpand1(k),k.isConstType("number")&&a(k.constValue())<=0?h?g(void 0,g(void 0,f(void 0,"internal","access"),f(void 0,"ident","__defer"),e(void 0,"fulfilled")),c(l)):g(void 0,g(void 0,f(void 0,"internal","access"),f(void 0,"ident","__defer"),e(void 0,"fulfilled"))):h?g(void 0,f(void 0,"ident","__delay"),c(k),c(l)):g(void 0,f(void 0,"ident","__delay"),c(k))}}.call(this),options:void 0,names:"delay!",id:173},{code:function(){var a,b,c,d;return a="function"==typeof Array.isArray?Array.isArray:function(a){return function(b){return"[object Array]"===a.call(b)}}(Object.prototype.toString),b=Array.prototype.slice,c=function(c){if(null==c)throw new TypeError("Expected an object, got "+d(c));if(a(c))return c;if("string"==typeof c)return c.split("");if("number"==typeof c.length)return b.call(c);throw new TypeError("Expected an object with a length property, got "+d(c))},d=function(){var a;return a=Object.prototype.toString,function(b){return void 0===b?"Undefined":null===b?"Null":b.constructor&&b.constructor.name||a.call(b).slice(8,-1)}}(),function(a,b,d,e,f,g){var h,i,j,k;return j=a.macroName,i=a.macroData,k=i[0],h=i[1],this.maybeCache(k,function(a,d){var e,i,j,k,l,m;for(e=[],i=c(h),l=0,j=i.length;j>l;++l)k=i[l],e.push(k(d));return m=e,g(void 0,f(void 0,"internal","block"),b(a),b(m),b(d))})}}.call(this),options:{label:"cascade"},names:"cascade!",id:182}]}})}("undefined"!=typeof module&&"function"==typeof require?require:void 0);"function"==typeof define&&define.amd?define(function(){return b}):a.GorillaScript=b}(this);