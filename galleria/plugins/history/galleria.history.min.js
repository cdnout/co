!function(t,o){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(n,e){return o(t,n,e)}):"object"==typeof module&&module.exports?module.exports=o(t,require("galleria"),require("jquery")):o(t,t.Galleria,t.jQuery)}(window,function(t,e,n){function o(n){return n=u&&!d&&e.IE?n||u.location:f,parseInt(n.hash.substr(2),10)}function i(){n.each(m,function(n,e){e.call(t,o())})}function r(){n.each(c,function(n,e){e()}),s=!0}function a(n){return"/"+n}var u,c,s,f,h,l,d,y,m;return e.requires(1.25,"The History Plugin requires Galleria version 1.2.5 or later."),e.History=(s=!(c=[]),f=t.location,h=t.document,l=e.IE,d="onhashchange"in t&&(void 0===h.mode||7<h.mode),y=o(f),m=[],d&&l<8&&(d=!1),d?r():n(function(){t.setInterval(function(){var n=o();isNaN(n)||n==y||(y=n,f.hash=a(n),i())},50),l?n('<iframe tabindex="-1" title="empty">').hide().attr("src","about:blank").one("load",function(){u=this.contentWindow,r()}).insertAfter(h.body):r()}),{change:function(n){m.push(n),d&&(t.onhashchange=i)},set:function(e){isNaN(e)||(!d&&l&&this.ready(function(){var n=u.document;n.open(),n.close(),u.location.hash=a(e)}),f.hash=a(e))},ready:function(n){s?n():c.push(n)}}),e});