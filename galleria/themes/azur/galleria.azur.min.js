!function(n,i){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(e,t){return i(n,e,t)}):"object"==typeof module&&module.exports?module.exports=i(n,require("galleria"),require("jquery")):i(n,n.Galleria,n.jQuery)}(window,function(o,a,d){return a.addTheme({name:"azur",version:1.6,author:"Galleria",css:"galleria.azur.css",defaults:{transition:"fade",transitionSpeed:500,imageCrop:!0,thumbCrop:"height",idleMode:"hover",idleSpeed:500,fullscreenTransition:!1,_locale:{show_captions:"Show captions",hide_captions:"Hide captions",play:"Play slideshow",pause:"Pause slideshow",enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",next:"Next image",prev:"Previous image",showing_image:"Showing image %s of %s"},_toggleCaption:!0,_showCaption:!0,_showTooltip:!0},init:function(e){a.requires(1.6,"This version of Azur theme requires Galleria version 1.6 or later"),this.addElement("bar","fullscreen","play","progress").append({stage:"progress",container:"bar",bar:["fullscreen","play","thumbnails-container"]}).prependChild("stage","info").appendChild("container","tooltip");var l=this,c=o.document,t=e._locale,p="getContext"in c.createElement("canvas");!function(){if(p){function i(e){return e*(Math.PI/180)}var a=24,o=c.createElement("canvas"),s=o.getContext("2d");o.width=a,o.height=a,d(o).css({zIndex:1e4,position:"absolute",right:10,top:10}).appendTo(l.get("container")),l.bind("progress",function(e){var t,n;d(o).fadeIn(200),t=3.6*e.percent,n="rgba(255,255,255,.7)",s.strokeStyle=n||"#000",s.lineWidth=3,s.clearRect(0,0,a,a),s.beginPath(),s.arc(12,12,10,i(-90),i(t-90),!1),s.stroke(),s.closePath()}),l.bind("pause",function(){d(o).fadeOut(200,function(){s.clearRect(0,0,a,a)})})}else{l.addElement("progressbar").appendChild("progress","progressbar"),l.$("progress").addClass("nocanvas");var t=l.$("progress").width();l.bind("progress",function(e){l.$("progressbar").width(e.percent/100*t)})}}(),function(){var e,t=(e="RequestAnimationFrame",o.requestAnimationFrame||o["webkit"+e]||o["moz"+e]||o["o"+e]||o["ms"+e]||function(e){o.setTimeout(e,1e3/60)});if(p){function s(e,t,n){var i=n?-2:2;e.translate(t/i,t/i)}var n=c.createElement("canvas"),i=n.getContext("2d"),r=Math,a=28;d(n).hide().appendTo(l.get("loader")).fadeIn(500);!function e(){t(e),function(e,t){var n,i=48,a=28;e.clearRect(0,0,i,i),e.lineWidth=1.5;for(var o=0;o<a;o++)n=a<=o+t?o-a+t:o+t,e.strokeStyle="rgba(255,255,255,"+r.max(0,n/a)+")",e.lineWidth=1,e.beginPath(),e.moveTo(24,8),e.lineTo(24,0),e.stroke(),s(e,i,!1),e.rotate(360/a*r.PI/180),s(e,i,!0);e.save(),s(e,i,!1),e.rotate(360/a/8*-1*r.PI/180),s(e,i,!0)}(i,a),a=0===a?28:a-1}()}else l.$("loader").addClass("nocanvas")}();var n=a.IE<9?{bottom:-100}:{bottom:-50,opacity:0},i=a.IE<9?{top:-20}:{opacity:0,top:-20};this.bind("play",function(){this.$("play").addClass("pause"),p||this.$("progress").show()}).bind("pause",function(){this.$("play").removeClass("pause"),p||this.$("progress").hide()}).bind("loadstart",function(e){e.cached||this.$("loader").show()}).bind("loadfinish",function(e){p?this.$("loader").fadeOut(100):this.$("loader").hide()}),this.addIdleState(this.get("info"),n,a.IE<9?{}:{opacity:1},!0).addIdleState(this.get("image-nav-left"),{opacity:0,left:0},{opacity:1},!0).addIdleState(this.get("image-nav-right"),{opacity:0,right:0},{opacity:1},!0).addIdleState(this.get("counter"),i,a.IE<9?{}:{opacity:.9},!0),this.$("fullscreen").on("click:fast",function(e){e.preventDefault(),l.toggleFullscreen()}),this.$("play").on("click:fast",function(e){e.preventDefault(),l.playToggle()}),e._toggleCaption&&(this.$("info").addClass("toggler"),this.addElement("captionopen").appendChild("stage","captionopen"),this.addElement("captionclose").appendChild("info","captionclose"),this.$("captionopen").on("click:fast",function(){l.$("info").addClass("open"),d(this).hide()}).html(t.show_captions),this.bind("loadstart",function(){this.$("captionopen").toggle(!l.$("info").hasClass("open")&&this.hasInfo())}),this.$("captionclose").on("click:fast",function(){l.$("info").removeClass("open"),l.hasInfo()&&l.$("captionopen").show()}).html("&#215;"),e._showCaption&&this.$("captionopen").trigger("click:fast")),e._showTooltip&&this.bindTooltip({fullscreen:function(){return l.isFullscreen()?t.exit_fullscreen:t.enter_fullscreen},play:function(){return l.isPlaying()?t.pause:t.play},captionclose:t.hide_captions,"image-nav-right":t.next,"image-nav-left":t.prev,counter:function(){return t.showing_image.replace(/\%s/,l.getIndex()+1).replace(/\%s/,l.getDataLength())}})}}),a});