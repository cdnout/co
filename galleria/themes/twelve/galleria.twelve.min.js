!function(i,s){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(e,t){return s(i,e,t)}):"object"==typeof module&&module.exports?module.exports=s(i,require("galleria"),require("jquery")):s(i,i.Galleria,i.jQuery)}(window,function(e,b,w){return b.addTheme({name:"twelve",version:1.6,author:"Galleria",css:"galleria.twelve.css",defaults:{transition:"pulse",transitionSpeed:500,imageCrop:!0,thumbCrop:!0,carousel:!1,_locale:{show_thumbnails:"Show thumbnails",hide_thumbnails:"Hide thumbnails",play:"Play slideshow",pause:"Pause slideshow",enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",popout_image:"Popout image",showing_image:"Showing image %s of %s"},_showFullscreen:!0,_showPopout:!0,_showProgress:!0,_showTooltip:!0},init:function(e){b.requires(1.6,"This version of Twelve theme requires Galleria version 1.6 or later"),this.addElement("bar","fullscreen","play","popout","thumblink","s1","s2","s3","s4","progress"),this.append({stage:"progress",container:["bar","tooltip"],bar:["fullscreen","play","popout","thumblink","info","s1","s2","s3","s4"]}),this.prependChild("info","counter");function t(){n.height(s.getStageHeight()).width(s.getStageWidth()).css("top",f?0:s.getStageHeight()+30)}function i(e){f&&m?s.play():(m=g,s.pause()),b.utils.animate(n,{top:f?s.getStageHeight()+30:0},{easing:"galleria",duration:400,complete:function(){s.defineTooltip("thumblink",f?p.show_thumbnails:p.hide_thumbnails),o[f?"removeClass":"addClass"]("open"),f=!f}})}var s=this,n=this.$("thumbnails-container"),o=this.$("thumblink"),l=this.$("fullscreen"),r=this.$("play"),a=this.$("popout"),h=this.$("bar"),u=this.$("progress"),c=e.transition,p=e._locale,f=!1,d=!1,g=!!e.autoplay,m=!1;t(),e._showTooltip&&s.bindTooltip({thumblink:p.show_thumbnails,fullscreen:p.enter_fullscreen,play:function(){return g?p.pause:p.play},popout:p.popout_image,caption:function(){var e=s.getData(),t="";return e&&(e.title&&e.title.length&&(t+="<strong>"+e.title+"</strong>"),e.description&&e.description.length&&(t+="<br>"+e.description)),t},counter:function(){return p.showing_image.replace(/\%s/,s.getIndex()+1).replace(/\%s/,s.getDataLength())}}),e.showInfo||this.$("info").hide(),this.bind("play",function(){g=!0,r.addClass("playing")}),this.bind("pause",function(){g=!1,r.removeClass("playing"),u.width(0)}),e._showProgress&&this.bind("progress",function(e){u.width(e.percent/100*this.getStageWidth())}),this.bind("loadstart",function(e){e.cached||this.$("loader").show()}),this.bind("loadfinish",function(e){u.width(0),this.$("loader").hide(),this.refreshTooltip("counter","caption")}),this.bind("thumbnail",function(e){w(e.thumbTarget).hover(function(){s.setInfo(e.thumbOrder),s.setCounter(e.thumbOrder)},function(){s.setInfo(),s.setCounter()}).on("click:fast",function(){i()})}),this.bind("fullscreen_enter",function(e){d=!0,s.setOptions("transition",!1),l.addClass("open"),h.css("bottom",0),this.defineTooltip("fullscreen",p.exit_fullscreen),b.TOUCH||this.addIdleState(h,{bottom:-31})}),this.bind("fullscreen_exit",function(e){d=!1,b.utils.clearTimer("bar"),s.setOptions("transition",c),l.removeClass("open"),h.css("bottom",0),this.defineTooltip("fullscreen",p.enter_fullscreen),b.TOUCH||this.removeIdleState(h,{bottom:-31})}),this.bind("rescale",t),b.TOUCH||(this.addIdleState(this.get("image-nav-left"),{left:-36}),this.addIdleState(this.get("image-nav-right"),{right:-36})),o.on("click:fast",i),e.thumbnails||(o.hide(),r.css("left",0),this.$("s2").hide(),this.$("info").css("left",41)),e._showPopout?a.on("click:fast",function(e){s.openLightbox(),e.preventDefault()}):(a.remove(),e._showFullscreen&&(this.$("s4").remove(),this.$("info").css("right",40),l.css("right",0))),r.on("click:fast",function(){g?s.pause():(f&&o.trigger("click:fast"),s.play())}),e._showFullscreen?l.on("click:fast",function(e){d?s.exitFullscreen():s.enterFullscreen(),e.preventDefault()}):(l.remove(),e._show_popout&&(this.$("s4").remove(),this.$("info").css("right",40),a.css("right",0))),e._showFullscreen||e._showPopout||(this.$("s3,s4").remove(),this.$("info").css("right",10)),e.autoplay&&this.trigger("play")}}),b});