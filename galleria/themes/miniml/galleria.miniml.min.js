!function(i,s){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(e,t){return s(i,e,t)}):"object"==typeof module&&module.exports?module.exports=s(i,require("galleria"),require("jquery")):s(i,i.Galleria,i.jQuery)}(window,function(e,c,h){return c.addTheme({name:"miniml",version:1.6,author:"Galleria",css:"galleria.miniml.css",defaults:{transition:"pulse",thumbCrop:!0,imageCrop:!0,carousel:!1,imagePan:!0,clicknext:!0,_locale:{enter_fullscreen:"Enter fullscreen",exit_fullscreen:"Exit fullscreen",click_to_close:"Click to close",show_thumbnails:"Show thumbnails",show_info:"Show info"}},init:function(s){c.requires(1.6,"This version of Miniml theme requires Galleria version 1.6 or later");var e,t,n,o,l,a=this,i=!1;this.addElement("desc","dots","thumbs","fs","more"),this.append({container:["desc","dots","thumbs","fs","info-description","more"]}),l=this.$("thumbnails-container").hide().css("visibility","visible");function r(e){return h("<div>").html("&#8226;").on("click:fast",(t=e,function(e){e.preventDefault(),a.show(t)}));var t}for(e=0;e<this.getDataLength();e++)this.$("dots").append(r(e));t=this.$("dots").outerWidth(),n=this.$("desc").hide().hover(function(){h(this).addClass("hover")},function(){h(this).removeClass("hover")}).on("click:fast",function(){h(this).hide()}),o=this.$("loader"),this.bindTooltip({fs:function(){return i?s._locale.exit_fullscreen:s._locale.enter_fullscreen},desc:s._locale.click_to_close,more:s._locale.show_info,thumbs:s._locale.show_thumbnails}),this.bind("loadstart",function(e){e.cached||this.$("loader").show().fadeTo(200,.4)}),this.bind("loadfinish",function(e){var t=a.getData().title,i=a.getData().description;o.fadeOut(200),this.$("dots").children("div").eq(e.index).addClass("active").siblings(".active").removeClass("active"),t&&i?(n.empty().append("<strong>"+t+"</strong>","<p>"+i+"</p>"),this.$("more").show()):this.$("more").hide(),l.fadeOut(s.fadeSpeed),a.$("thumbs").removeClass("active")}),this.bind("thumbnail",function(e){h(e.thumbTarget).hover(function(){a.setInfo(e.index)},function(){a.setInfo()})}),this.$("fs").on("click:fast",function(){a.toggleFullscreen(),i=!i}),this.$("thumbs").on("click:fast",function(e){e.preventDefault(),l.toggle(),h(this).toggleClass("active"),n.hide()}),this.$("more").on("click:fast",function(){n.toggle()}),this.$("info").css({width:this.getStageWidth()-t-30,left:t+10})}}),c});