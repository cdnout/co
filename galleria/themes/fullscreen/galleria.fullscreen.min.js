!function(e,n){"function"==typeof define&&define.amd?define(["../galleria","jquery"],function(i,t){return n(e,i,t)}):"object"==typeof module&&module.exports?module.exports=n(e,require("galleria"),require("jquery")):n(e,e.Galleria,e.jQuery)}(window,function(u,d,f){return d.addTheme({name:"fullscreen",version:"1.6",author:"Galleria",css:"galleria.fullscreen.css",defaults:{transition:"none",imageCrop:!0,thumbCrop:"height",easing:"galleriaOut",trueFullscreen:!1,_hideDock:!d.TOUCH,_closeOnClick:!1},init:function(t){d.requires(1.5,"This version of Fullscreen theme requires Galleria version 1.5 or later"),this.addElement("thumbnails-tab"),this.appendChild("thumbnails-container","thumbnails-tab");var e=this.$("thumbnails-tab"),n=this.$("loader"),a=this.$("thumbnails-container"),s=this.$("thumbnails-list"),o=this.$("info-text"),h=this.$("info"),r=!t._hideDock,c=0;d.IE&&(this.addElement("iefix"),this.appendChild("container","iefix"),this.$("iefix").css({zIndex:3,position:"absolute",backgroundColor:this.hasVariation("light")?"#fff":"#000",opacity:.4,top:0})),!1===t.thumbnails&&a.hide();var l=this.proxy(function(i){var t=i.width||f(i).width();(i||t)&&(t=Math.min(t,f(u).width()),o.width(t-40),d.IE&&this.getOptions("showInfo")&&this.$("iefix").width(h.outerWidth()).height(h.outerHeight()))});this.bind("rescale",function(){c=this.getStageHeight()-e.height()-2,a.css("top",r?c-s.outerHeight()+2:c);var i=this.getActiveImage();i&&l(i)}),this.bind("loadstart",function(i){i.cached||n.show().fadeTo(100,1),f(i.thumbTarget).css("opacity",1).parent().siblings().children().css("opacity",.6)}),this.bind("loadfinish",function(i){n.fadeOut(300),this.$("info, iefix").toggle(this.hasInfo())}),this.bind("image",function(i){i.imageTarget&&l(i.imageTarget)}),this.bind("thumbnail",function(i){f(i.thumbTarget).parent(":not(.active)").children().css("opacity",.6),f(i.thumbTarget).on("click:fast",function(){r&&t._closeOnClick&&e.trigger("click:fast")})}),this.trigger("rescale"),d.TOUCH||(this.addIdleState(a,{opacity:0}),this.addIdleState(this.get("info"),{opacity:0}),this.$("image-nav-left, image-nav-right").css("opacity",.01).hover(function(){f(this).animate({opacity:1},100)},function(){f(this).animate({opacity:0})}).show()),d.IE&&this.addIdleState(this.get("iefix"),{opacity:0}),t._hideDock?e.on("click:fast",this.proxy(function(){e.toggleClass("open",!r),r?a.animate({top:c},400,t.easing):a.animate({top:c-s.outerHeight()+2},400,t.easing),r=!r})):(this.bind("thumbnail",function(){a.css("top",c-s.outerHeight()+2)}),e.css("visibility","hidden")),this.$("thumbnails").children().hover(function(){f(this).not(".active").children().stop().fadeTo(100,1)},function(){f(this).not(".active").children().stop().fadeTo(400,.6)}),this.enterFullscreen(),this.attachKeyboard({escape:function(i){return!1},up:function(i){r||e.trigger("click:fast"),i.preventDefault()},down:function(i){r&&e.trigger("click:fast"),i.preventDefault()}})}}),d});