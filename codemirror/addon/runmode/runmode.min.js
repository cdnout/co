!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(b){"use strict";b.runMode=function(e,t,n,r){var c,u,l,o=b.getMode(b.defaults,t),f=r&&r.tabSize||b.defaults.tabSize;n.appendChild&&(c=/MSIE \d/.test(navigator.userAgent)&&(null==document.documentMode||document.documentMode<9),l=0,(u=n).innerHTML="",n=function(e,t){if("\n"==e)return u.appendChild(document.createTextNode(c?"\r":e)),void(l=0);for(var n,r="",o=0;;){var a=e.indexOf("\t",o);if(-1==a){r+=e.slice(o),l+=e.length-o;break}l+=a-o,r+=e.slice(o,a);var d=f-l%f;l+=d;for(var i=0;i<d;++i)r+=" ";o=a+1}t?((n=u.appendChild(document.createElement("span"))).className="cm-"+t.replace(/ +/g," cm-"),n.appendChild(document.createTextNode(r))):u.appendChild(document.createTextNode(r))});for(var a=b.splitLines(e),d=r&&r.state||b.startState(o),i=0,s=a.length;i<s;++i){i&&n("\n");var p=new b.StringStream(a[i],null,{lookAhead:function(e){return a[i+e]},baseToken:function(){}});for(!p.string&&o.blankLine&&o.blankLine(d);!p.eol();){var m=o.token(p,d);n(p.current(),m,i,p.start,d),p.start=p.pos}}}});