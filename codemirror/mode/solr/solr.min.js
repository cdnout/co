!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("solr",function(){var i=/[^\s\|\!\+\-\*\?\~\^\&\:\(\)\[\]\{\}\"\\]/,u=/[\|\!\+\-\*\?\~\^\&]/,r=/^(OR|AND|NOT|TO)$/i;function f(o){return function(e,t){for(var n=o;(o=e.peek())&&null!=o.match(i);)n+=e.next();return t.tokenize=a,r.test(n)?"operator":(t=n,parseFloat(t).toString()===t?"number":":"==e.peek()?"field":"string")}}function a(e,t){var o,r,n=e.next();return'"'==n?t.tokenize=(r=n,function(e,t){for(var n,o=!1;null!=(n=e.next())&&(n!=r||o);)o=!o&&"\\"==n;return o||(t.tokenize=a),"string"}):u.test(n)?t.tokenize=(o=n,function(e,t){var n="operator";return"+"==o?n+=" positive":"-"==o?n+=" negative":"|"==o?e.eat(/\|/):"&"==o?e.eat(/\&/):"^"==o&&(n+=" boost"),t.tokenize=a,n}):i.test(n)&&(t.tokenize=f(n)),t.tokenize!=a?t.tokenize(e,t):null}return{startState:function(){return{tokenize:a}},token:function(e,t){return e.eatSpace()?null:t.tokenize(e,t)}}}),e.defineMIME("text/x-solr","solr")});