!function(t){"object"==typeof exports&&"object"==typeof module?t(require("../../lib/codemirror"),require("../yaml/yaml")):"function"==typeof define&&define.amd?define(["../../lib/codemirror","../yaml/yaml"],t):t(CodeMirror)}(function(a){a.defineMode("yaml-frontmatter",function(t,e){var r=a.getMode(t,"yaml"),i=a.getMode(t,e&&e.base||"gfm");function n(t){return 2==t.state?i:r}return{startState:function(){return{state:0,inner:a.startState(r)}},copyState:function(t){return{state:t.state,inner:a.copyState(n(t),t.inner)}},token:function(t,e){if(0==e.state)return t.match(/---/,!1)?(e.state=1,r.token(t,e.inner)):(e.state=2,e.inner=a.startState(i),i.token(t,e.inner));if(1!=e.state)return i.token(t,e.inner);var n=t.sol()&&t.match(/(---|\.\.\.)/,!1),t=r.token(t,e.inner);return n&&(e.state=2,e.inner=a.startState(i)),t},innerMode:function(t){return{mode:n(t),state:t.inner}},blankLine:function(t){var e=n(t);if(e.blankLine)return e.blankLine(t.inner)}}})});