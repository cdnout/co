!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],e):e(CodeMirror)}(function(e){"use strict";e.defineMode("haxe",function(e,t){var i=e.indentUnit;function n(e){return{type:e,style:"keyword"}}var r,a=n("keyword a"),o=n("keyword b"),l=n("keyword c"),c=n("operator"),u={type:"atom",style:"atom"},e={type:"attribute",style:"attribute"},f=n("typedef"),s={if:a,while:a,else:o,do:o,try:o,return:l,break:l,continue:l,new:l,throw:l,var:n("var"),inline:e,static:e,using:n("import"),public:e,private:e,cast:n("cast"),import:n("import"),macro:n("macro"),function:n("function"),catch:n("catch"),untyped:n("untyped"),callback:n("cb"),for:n("for"),switch:n("switch"),case:n("case"),default:n("default"),in:c,never:n("property_access"),trace:n("trace"),class:f,abstract:f,enum:f,interface:f,typedef:f,extends:f,implements:f,dynamic:f,true:u,false:u,null:u},d=/[+\-*&%=<>!?|]/;function p(e,t,n){return(t.tokenize=n)(e,t)}function m(e,t){for(var n,r=!1;null!=(n=e.next());){if(n==t&&!r)return 1;r=!r&&"\\"==n}}function v(e,t,n){return f=e,r=n,t}function b(e,t){var n=e.next();if('"'==n||"'"==n)return p(e,t,(r=n,function(e,t){return m(e,r)&&(t.tokenize=b),v("string","string")}));if(/[\[\]{}\(\),;\:\.]/.test(n))return v(n);if("0"==n&&e.eat(/x/i))return e.eatWhile(/[\da-f]/i),v("number","number");if(/\d/.test(n)||"-"==n&&e.eat(/\d/))return e.match(/^\d*(?:\.\d*(?!\.))?(?:[eE][+\-]?\d+)?/),v("number","number");if(t.reAllowed&&"~"==n&&e.eat(/\//))return m(e,"/"),e.eatWhile(/[gimsu]/),v("regexp","string-2");if("/"==n)return e.eat("*")?p(e,t,y):e.eat("/")?(e.skipToEnd(),v("comment","comment")):(e.eatWhile(d),v("operator",null,e.current()));if("#"==n)return e.skipToEnd(),v("conditional","meta");if("@"==n)return e.eat(/:/),e.eatWhile(/[\w_]/),v("metadata","meta");if(d.test(n))return e.eatWhile(d),v("operator",null,e.current());if(/[A-Z]/.test(n))return e.eatWhile(/[\w_<>]/),v("type","variable-3",a=e.current());e.eatWhile(/[\w_]/);var r,a=e.current(),e=s.propertyIsEnumerable(a)&&s[a];return e&&t.kwAllowed?v(e.type,e.style,a):v("variable","variable",a)}function y(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=b;break}r="*"==n}return v("comment","comment")}var x={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function h(e,t,n,r,a,i){this.indented=e,this.column=t,this.type=n,this.prev=a,this.info=i,null!=r&&(this.align=r)}function k(e,t,n,r,a){var i=e.cc;for(g.state=e,g.stream=a,g.marked=null,g.cc=i,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;)if((i.length?i.pop():I)(n,r)){for(;i.length&&i[i.length-1].lex;)i.pop()();return g.marked?g.marked:"variable"==n&&function(e,t){for(var n=e.localVars;n;n=n.next)if(n.name==t)return 1}(e,r)?"variable-2":"variable"==n&&function(e,t){if(/[a-z]/.test(t.charAt(0)))return!1;for(var n=e.importedtypes.length,r=0;r<n;r++)if(e.importedtypes[r]==t)return!0}(e,r)?"variable-3":t}}function w(e){for(var t=g.state,n=t.importedtypes;n;n=n.next)if(n.name==e)return;t.importedtypes={name:e,next:t.importedtypes}}var g={state:null,column:null,marked:null,cc:null};function V(){for(var e=arguments.length-1;0<=e;e--)g.cc.push(arguments[e])}function A(){return V.apply(null,arguments),!0}function S(e,t){for(var n=t;n;n=n.next)if(n.name==e)return 1}function E(e){var t=g.state;t.context?(g.marked="def",S(e,t.localVars)||(t.localVars={name:e,next:t.localVars})):t.globalVars&&(S(e,t.globalVars)||(t.globalVars={name:e,next:t.globalVars}))}var W={name:"this",next:null};function z(){g.state.context||(g.state.localVars=W),g.state.context={prev:g.state.context,vars:g.state.localVars}}function M(){g.state.localVars=g.state.context.vars,g.state.context=g.state.context.prev}function C(t,n){function e(){var e=g.state;e.lexical=new h(e.indented,g.stream.column(),t,null,e.lexical,n)}return e.lex=!0,e}function T(){var e=g.state;e.lexical.prev&&(")"==e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function Z(n){return function e(t){return t==n?A():";"==n?V():A(e)}}function I(e){return"@"==e?A(D):"var"==e?A(C("vardef"),K,Z(";"),T):"keyword a"==e?A(C("form"),O,I,T):"keyword b"==e?A(C("form"),I,T):"{"==e?A(C("}"),z,J,T,M):";"==e?A():"attribute"==e?A(j):"function"==e?A(R):"for"==e?A(C("form"),Z("("),C(")"),N,Z(")"),T,I,T):"variable"==e?A(C("stat"),U):"switch"==e?A(C("form"),O,C("}","switch"),Z("{"),J,T,T):"case"==e?A(O,Z(":")):"default"==e?A(Z(":")):"catch"==e?A(C("form"),z,Z("("),te,Z(")"),I,T,M):"import"==e?A(B,Z(";")):"typedef"==e?A(F):V(C("stat"),O,Z(";"),T)}function O(e){return x.hasOwnProperty(e)||"type"==e?A(_):"function"==e?A(R):"keyword c"==e?A(P):"("==e?A(C(")"),P,Z(")"),T,_):"operator"==e?A(O):"["==e?A(C("]"),H(P,"]"),T,_):"{"==e?A(C("}"),H(G,"}"),T,_):A()}function P(e){return e.match(/[;\}\)\],]/)?V():V(O)}function _(e,t){return"operator"==e&&/\+\+|--/.test(t)?A(_):"operator"==e||":"==e?A(O):";"!=e?"("==e?A(C(")"),H(O,")"),T,_):"."==e?A($,_):"["==e?A(C("]"),O,Z("]"),T,_):void 0:void 0}function j(e){return"attribute"==e?A(j):"function"==e?A(R):"var"==e?A(K):void 0}function D(e){return":"==e||"variable"==e?A(D):"("==e?A(C(")"),H(q,")"),T,I):void 0}function q(e){if("variable"==e)return A()}function B(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(w(t),A()):"variable"==e||"property"==e||"."==e||"*"==t?A(B):void 0}function F(e,t){return"variable"==e&&/[A-Z]/.test(t.charAt(0))?(w(t),A()):"type"==e&&/[A-Z]/.test(t.charAt(0))?A():void 0}function U(e){return":"==e?A(T,I):V(_,Z(";"),T)}function $(e){if("variable"==e)return g.marked="property",A()}function G(e){if("variable"==e&&(g.marked="property"),x.hasOwnProperty(e))return A(Z(":"),O)}function H(t,n){function r(e){return","==e?A(t,r):e==n?A():A(Z(n))}return function(e){return e==n?A():V(t,r)}}function J(e){return"}"==e?A():V(I,J)}function K(e,t){return"variable"==e?(E(t),A(X,L)):A()}function L(e,t){return"="==t?A(O,L):","==e?A(K):void 0}function N(e,t){return"variable"==e?(E(t),A(Q,O)):V()}function Q(e,t){if("in"==t)return A()}function R(e,t){return"variable"==e||"type"==e?(E(t),A(R)):"new"==t?A(R):"("==e?A(C(")"),z,H(te,")"),T,X,I,M):void 0}function X(e){if(":"==e)return A(Y)}function Y(e){return"type"==e||"variable"==e?A():"{"==e?A(C("}"),H(ee,"}"),T):void 0}function ee(e){if("variable"==e)return A(X)}function te(e,t){if("variable"==e)return E(t),A(X)}return T.lex=M.lex=!0,{startState:function(e){e={tokenize:b,reAllowed:!0,kwAllowed:!0,cc:[],lexical:new h((e||0)-i,0,"block",!1),localVars:t.localVars,importedtypes:["Int","Float","String","Void","Std","Bool","Dynamic","Array"],context:t.localVars&&{vars:t.localVars},indented:0};return t.globalVars&&"object"==typeof t.globalVars&&(e.globalVars=t.globalVars),e},token:function(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),e.eatSpace())return null;var n=t.tokenize(e,t);return"comment"==f?n:(t.reAllowed=!("operator"!=f&&"keyword c"!=f&&!f.match(/^[\[{}\(,;:]$/)),t.kwAllowed="."!=f,k(t,n,f,r,e))},indent:function(e,t){if(e.tokenize!=b)return 0;var n=t&&t.charAt(0),r=e.lexical;"stat"==r.type&&"}"==n&&(r=r.prev);var a=r.type,e=n==a;return"vardef"==a?r.indented+4:"form"==a&&"{"==n?r.indented:"stat"==a||"form"==a?r.indented+i:"switch"!=r.info||e?r.align?r.column+(e?0:1):r.indented+(e?0:i):r.indented+(/^(?:case|default)\b/.test(t)?i:2*i)},electricChars:"{}",blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//"}}),e.defineMIME("text/x-haxe","haxe"),e.defineMode("hxml",function(){return{startState:function(){return{define:!1,inString:!1}},token:function(e,t){var n=e.peek(),r=e.sol();if("#"==n)return e.skipToEnd(),"comment";if(r&&"-"==n){r="variable-2";return e.eat(/-/),"-"==e.peek()&&(e.eat(/-/),r="keyword a"),"D"==e.peek()&&(e.eat(/[D]/),r="keyword c",t.define=!0),e.eatWhile(/[A-Z]/i),r}n=e.peek();return 0==t.inString&&"'"==n&&(t.inString=!0,e.next()),1==t.inString?(e.skipTo("'")||e.skipToEnd(),"'"==e.peek()&&(e.next(),t.inString=!1),"string"):(e.next(),null)},lineComment:"#"}}),e.defineMIME("text/x-hxml","hxml")});