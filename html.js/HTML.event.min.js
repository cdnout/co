/*! HTML - v0.12.1 - 2014-10-22
* http://nbubna.github.io/HTML/
* Copyright (c) 2014 ESHA Research; Licensed MIT, GPL */
!function(a,b){"use strict";var c=b._,d=c.fn.event=function(){var a,b=c.slice.call(arguments),e=this,f=[];return b[0]?!b[1]||b[1].forEach?a="trigger":(a="on",1===b[0]&&(b[4]=b.shift()),(!b[2]||b[2].forEach)&&(b.splice(1,0,!1),b.splice(4,1)),b[3]=(b[3]||[]).slice(0),"string"==typeof b[2]&&(b[5]=b[2],b[3].unshift(b[2]),b[2]=c.fn.each)):(a="off",b.shift(),"function"==typeof b[1]&&b.splice(1,0,!1)),(b[0]||"").split(" ").forEach(function(c){b[0]=c,e.each(function(c){f.push(d[a].apply(c,b))})}),"trigger"===a?1===f.length?f[0]:f:this},e=Array.prototype.concat;d.on=function(a,b,e,f,g,h){var i=function(a){d.heard.call(this,a,b,e,f,g,h)};this.addEventListener(a,i),c.define(this,"_evt",[]),this._evt.push([a,b,h||e,i])},d.off=function(a,b,c){if(this._evt)for(var d=0;d<this._evt.length;d++){var e=this._evt[d];a&&e[0]!==a||b&&e[1]!==b||c&&e[2]!==c||(this.removeEventListener(e[0],e[3]),this._evt.splice(d--,1))}else this.removeEventListener(a,c)},d.trigger=function(b,c){var d=a.createEvent("HTMLEvents");return d.initEvent(b,!0,!0),c&&(d.data=c),this.dispatchEvent(d),d},d.heard=function(a,b,f,g,h,i){var j=b?d.closest.call(a,b):this;if(j){var k=[a];a.data&&k.push(a.data),g&&k.unshift(g),c.node(a.target),c.define(a,"closest",d.closest),h&&d.off.call(this,a.type,b,i||f),f.apply(j,e.apply([],k))}},d.closest=function(a){for(var b=this.target;b&&b.matches;){if(b.matches(a))return c.node(b);b=b.parentNode}}}(document,document.documentElement);