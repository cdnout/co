"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isDayVisible;var _moment=_interopRequireDefault(require("moment")),_isBeforeDay=_interopRequireDefault(require("./isBeforeDay")),_isAfterDay=_interopRequireDefault(require("./isAfterDay")),_toISOMonthString=_interopRequireDefault(require("./toISOMonthString")),startCacheOutsideDays=new Map,endCacheOutsideDays=new Map,startCacheInsideDays=new Map,endCacheInsideDays=new Map;function isDayVisible(e,t,a,s){if(!_moment.default.isMoment(e))return!1;var r=(0,_toISOMonthString.default)(t),i=r+"+"+a;return s?(startCacheOutsideDays.has(r)||startCacheOutsideDays.set(r,t.clone().startOf("month").startOf("week")),!(0,_isBeforeDay.default)(e,startCacheOutsideDays.get(r))&&(endCacheOutsideDays.has(i)||endCacheOutsideDays.set(i,t.clone().endOf("week").add(a-1,"months").endOf("month").endOf("week")),!(0,_isAfterDay.default)(e,endCacheOutsideDays.get(i)))):(startCacheInsideDays.has(r)||startCacheInsideDays.set(r,t.clone().startOf("month")),!(0,_isBeforeDay.default)(e,startCacheInsideDays.get(r))&&(endCacheInsideDays.has(i)||endCacheInsideDays.set(i,t.clone().add(a-1,"months").endOf("month")),!(0,_isAfterDay.default)(e,endCacheInsideDays.get(i))))}