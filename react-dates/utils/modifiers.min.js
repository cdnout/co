"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.addModifier=addModifier,exports.deleteModifier=deleteModifier;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_isDayVisible=_interopRequireDefault(require("./isDayVisible")),_toISODateString=_interopRequireDefault(require("./toISODateString")),_toISOMonthString=_interopRequireDefault(require("./toISOMonthString")),_getPreviousMonthMemoLast=_interopRequireDefault(require("./getPreviousMonthMemoLast")),_constants=require("../constants");function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){(0,_defineProperty2.default)(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function addModifier(i,e,o,t,r){var n=t.numberOfMonths,a=t.enableOutsideDays,u=t.orientation,s=r.currentMonth,f=r.visibleDays,d=s,c=n;if(u===_constants.VERTICAL_SCROLLABLE?c=Object.keys(f).length:(d=(0,_getPreviousMonthMemoLast.default)(d),c+=2),!e||!(0,_isDayVisible.default)(e,d,c,a))return i;var l,b,p,O=(0,_toISODateString.default)(e),_=_objectSpread({},i);return a?_=Object.keys(f).filter(function(e){return-1<Object.keys(f[e]).indexOf(O)}).reduce(function(e,t){var r,n=i[t]||f[t];return n[O]&&n[O].has(o)||((r=new Set(n[O])).add(o),e[t]=_objectSpread({},n,(0,_defineProperty2.default)({},O,r))),e},_):(l=(0,_toISOMonthString.default)(e),(b=i[l]||f[l]||{})[O]&&b[O].has(o)||((p=new Set(b[O])).add(o),_[l]=_objectSpread({},b,(0,_defineProperty2.default)({},O,p)))),_}function deleteModifier(i,e,o,t,r){var n=t.numberOfMonths,a=t.enableOutsideDays,u=t.orientation,s=r.currentMonth,f=r.visibleDays,d=s,c=n;if(u===_constants.VERTICAL_SCROLLABLE?c=Object.keys(f).length:(d=(0,_getPreviousMonthMemoLast.default)(d),c+=2),!e||!(0,_isDayVisible.default)(e,d,c,a))return i;var l,b,p,O=(0,_toISODateString.default)(e),_=_objectSpread({},i);return a?_=Object.keys(f).filter(function(e){return-1<Object.keys(f[e]).indexOf(O)}).reduce(function(e,t){var r,n=i[t]||f[t];return n[O]&&n[O].has(o)&&((r=new Set(n[O])).delete(o),e[t]=_objectSpread({},n,(0,_defineProperty2.default)({},O,r))),e},_):(l=(0,_toISOMonthString.default)(e),(b=i[l]||f[l]||{})[O]&&b[O].has(o)&&((p=new Set(b[O])).delete(o),_[l]=_objectSpread({},b,(0,_defineProperty2.default)({},O,p)))),_}